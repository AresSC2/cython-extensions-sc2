
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
      
      
      <link rel="icon" href="assets/favicon.ico">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.21">
    
    
      
        <title>cython-extensions</title>
      
    
    
      <link rel="stylesheet" href="assets/stylesheets/main.2a3383ac.min.css">
      
        
        <link rel="stylesheet" href="assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="stylesheets/extra.css">
    
    <script>__md_scope=new URL(".",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="blue-grey" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#cython_extensions.combat_utils" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="index.html" title="cython-extensions" class="md-header__button md-logo" aria-label="cython-extensions" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            cython-extensions
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Cython Extensions SC2
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="blue-grey" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2a7 7 0 0 0-7 7c0 2.38 1.19 4.47 3 5.74V17a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1v-2.26c1.81-1.27 3-3.36 3-5.74a7 7 0 0 0-7-7M9 21a1 1 0 0 0 1 1h4a1 1 0 0 0 1-1v-1H9z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="blue-grey" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2a7 7 0 0 1 7 7c0 2.38-1.19 4.47-3 5.74V17a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1v-2.26C6.19 13.47 5 11.38 5 9a7 7 0 0 1 7-7M9 21v-1h6v1a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1m3-17a5 5 0 0 0-5 5c0 2.05 1.23 3.81 3 4.58V16h4v-2.42c1.77-.77 3-2.53 3-4.58a5 5 0 0 0-5-5"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/AresSC2/cython-extensions-sc2" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.0.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M202.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1M496 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2m-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3m-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1"/></svg>
  </div>
  <div class="md-source__repository">
    cython-extensions-sc2
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="index.html" title="cython-extensions" class="md-nav__button md-logo" aria-label="cython-extensions" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    cython-extensions
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/AresSC2/cython-extensions-sc2" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.0.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M202.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1M496 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2m-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3m-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1"/></svg>
  </div>
  <div class="md-source__repository">
    cython-extensions-sc2
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Cython Extensions SC2
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="index.html" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Cython Extensions SC2
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#cython_extensions.combat_utils" class="md-nav__link">
    <span class="md-ellipsis">
      combat_utils
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cython_extensions.combat_utils.cy_adjust_moving_formation" class="md-nav__link">
    <span class="md-ellipsis">
      cy_adjust_moving_formation
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cython_extensions.combat_utils.cy_attack_ready" class="md-nav__link">
    <span class="md-ellipsis">
      cy_attack_ready
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cython_extensions.combat_utils.cy_find_aoe_position" class="md-nav__link">
    <span class="md-ellipsis">
      cy_find_aoe_position
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cython_extensions.combat_utils.cy_is_facing" class="md-nav__link">
    <span class="md-ellipsis">
      cy_is_facing
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cython_extensions.combat_utils.cy_pick_enemy_target" class="md-nav__link">
    <span class="md-ellipsis">
      cy_pick_enemy_target
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cython_extensions.combat_utils.cy_range_vs_target" class="md-nav__link">
    <span class="md-ellipsis">
      cy_range_vs_target
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cython_extensions.dijkstra" class="md-nav__link">
    <span class="md-ellipsis">
      dijkstra
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cython_extensions.dijkstra.DijkstraOutput" class="md-nav__link">
    <span class="md-ellipsis">
      DijkstraOutput
    </span>
  </a>
  
    <nav class="md-nav" aria-label="DijkstraOutput">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#cython_extensions.dijkstra.DijkstraOutput.get_path" class="md-nav__link">
    <span class="md-ellipsis">
      get_path
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cython_extensions.dijkstra.cy_dijkstra" class="md-nav__link">
    <span class="md-ellipsis">
      cy_dijkstra
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cython_extensions.general_utils" class="md-nav__link">
    <span class="md-ellipsis">
      general_utils
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cython_extensions.general_utils.cy_has_creep" class="md-nav__link">
    <span class="md-ellipsis">
      cy_has_creep
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cython_extensions.general_utils.cy_in_pathing_grid_burny" class="md-nav__link">
    <span class="md-ellipsis">
      cy_in_pathing_grid_burny
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cython_extensions.general_utils.cy_in_pathing_grid_ma" class="md-nav__link">
    <span class="md-ellipsis">
      cy_in_pathing_grid_ma
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cython_extensions.general_utils.cy_pylon_matrix_covers" class="md-nav__link">
    <span class="md-ellipsis">
      cy_pylon_matrix_covers
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cython_extensions.general_utils.cy_unit_pending" class="md-nav__link">
    <span class="md-ellipsis">
      cy_unit_pending
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cython_extensions.geometry" class="md-nav__link">
    <span class="md-ellipsis">
      geometry
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cython_extensions.geometry.cy_angle_diff" class="md-nav__link">
    <span class="md-ellipsis">
      cy_angle_diff
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cython_extensions.geometry.cy_angle_to" class="md-nav__link">
    <span class="md-ellipsis">
      cy_angle_to
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cython_extensions.geometry.cy_distance_to" class="md-nav__link">
    <span class="md-ellipsis">
      cy_distance_to
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cython_extensions.geometry.cy_distance_to_squared" class="md-nav__link">
    <span class="md-ellipsis">
      cy_distance_to_squared
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cython_extensions.geometry.cy_find_average_angle" class="md-nav__link">
    <span class="md-ellipsis">
      cy_find_average_angle
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cython_extensions.geometry.cy_find_correct_line" class="md-nav__link">
    <span class="md-ellipsis">
      cy_find_correct_line
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cython_extensions.geometry.cy_get_angle_between_points" class="md-nav__link">
    <span class="md-ellipsis">
      cy_get_angle_between_points
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cython_extensions.geometry.cy_towards" class="md-nav__link">
    <span class="md-ellipsis">
      cy_towards
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cython_extensions.geometry.cy_translate_point_along_line" class="md-nav__link">
    <span class="md-ellipsis">
      cy_translate_point_along_line
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cython_extensions.map_analysis" class="md-nav__link">
    <span class="md-ellipsis">
      map_analysis
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cython_extensions.map_analysis.cy_flood_fill_grid" class="md-nav__link">
    <span class="md-ellipsis">
      cy_flood_fill_grid
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cython_extensions.map_analysis.cy_get_bounding_box" class="md-nav__link">
    <span class="md-ellipsis">
      cy_get_bounding_box
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cython_extensions.numpy_helper" class="md-nav__link">
    <span class="md-ellipsis">
      numpy_helper
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cython_extensions.numpy_helper.cy_all_points_below_max_value" class="md-nav__link">
    <span class="md-ellipsis">
      cy_all_points_below_max_value
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cython_extensions.numpy_helper.cy_all_points_have_value" class="md-nav__link">
    <span class="md-ellipsis">
      cy_all_points_have_value
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cython_extensions.numpy_helper.cy_last_index_with_value" class="md-nav__link">
    <span class="md-ellipsis">
      cy_last_index_with_value
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cython_extensions.numpy_helper.cy_point_below_value" class="md-nav__link">
    <span class="md-ellipsis">
      cy_point_below_value
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cython_extensions.numpy_helper.cy_points_with_value" class="md-nav__link">
    <span class="md-ellipsis">
      cy_points_with_value
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cython_extensions.placement_solver" class="md-nav__link">
    <span class="md-ellipsis">
      placement_solver
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cython_extensions.placement_solver.cy_can_place_structure" class="md-nav__link">
    <span class="md-ellipsis">
      cy_can_place_structure
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cython_extensions.placement_solver.cy_find_building_locations" class="md-nav__link">
    <span class="md-ellipsis">
      cy_find_building_locations
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cython_extensions.units_utils" class="md-nav__link">
    <span class="md-ellipsis">
      units_utils
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cython_extensions.units_utils.cy_center" class="md-nav__link">
    <span class="md-ellipsis">
      cy_center
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cython_extensions.units_utils.cy_closest_to" class="md-nav__link">
    <span class="md-ellipsis">
      cy_closest_to
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cython_extensions.units_utils.cy_find_units_center_mass" class="md-nav__link">
    <span class="md-ellipsis">
      cy_find_units_center_mass
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cython_extensions.units_utils.cy_in_attack_range" class="md-nav__link">
    <span class="md-ellipsis">
      cy_in_attack_range
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cython_extensions.units_utils.cy_sorted_by_distance_to" class="md-nav__link">
    <span class="md-ellipsis">
      cy_sorted_by_distance_to
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#cython_extensions.combat_utils" class="md-nav__link">
    <span class="md-ellipsis">
      combat_utils
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cython_extensions.combat_utils.cy_adjust_moving_formation" class="md-nav__link">
    <span class="md-ellipsis">
      cy_adjust_moving_formation
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cython_extensions.combat_utils.cy_attack_ready" class="md-nav__link">
    <span class="md-ellipsis">
      cy_attack_ready
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cython_extensions.combat_utils.cy_find_aoe_position" class="md-nav__link">
    <span class="md-ellipsis">
      cy_find_aoe_position
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cython_extensions.combat_utils.cy_is_facing" class="md-nav__link">
    <span class="md-ellipsis">
      cy_is_facing
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cython_extensions.combat_utils.cy_pick_enemy_target" class="md-nav__link">
    <span class="md-ellipsis">
      cy_pick_enemy_target
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cython_extensions.combat_utils.cy_range_vs_target" class="md-nav__link">
    <span class="md-ellipsis">
      cy_range_vs_target
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cython_extensions.dijkstra" class="md-nav__link">
    <span class="md-ellipsis">
      dijkstra
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cython_extensions.dijkstra.DijkstraOutput" class="md-nav__link">
    <span class="md-ellipsis">
      DijkstraOutput
    </span>
  </a>
  
    <nav class="md-nav" aria-label="DijkstraOutput">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#cython_extensions.dijkstra.DijkstraOutput.get_path" class="md-nav__link">
    <span class="md-ellipsis">
      get_path
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cython_extensions.dijkstra.cy_dijkstra" class="md-nav__link">
    <span class="md-ellipsis">
      cy_dijkstra
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cython_extensions.general_utils" class="md-nav__link">
    <span class="md-ellipsis">
      general_utils
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cython_extensions.general_utils.cy_has_creep" class="md-nav__link">
    <span class="md-ellipsis">
      cy_has_creep
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cython_extensions.general_utils.cy_in_pathing_grid_burny" class="md-nav__link">
    <span class="md-ellipsis">
      cy_in_pathing_grid_burny
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cython_extensions.general_utils.cy_in_pathing_grid_ma" class="md-nav__link">
    <span class="md-ellipsis">
      cy_in_pathing_grid_ma
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cython_extensions.general_utils.cy_pylon_matrix_covers" class="md-nav__link">
    <span class="md-ellipsis">
      cy_pylon_matrix_covers
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cython_extensions.general_utils.cy_unit_pending" class="md-nav__link">
    <span class="md-ellipsis">
      cy_unit_pending
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cython_extensions.geometry" class="md-nav__link">
    <span class="md-ellipsis">
      geometry
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cython_extensions.geometry.cy_angle_diff" class="md-nav__link">
    <span class="md-ellipsis">
      cy_angle_diff
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cython_extensions.geometry.cy_angle_to" class="md-nav__link">
    <span class="md-ellipsis">
      cy_angle_to
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cython_extensions.geometry.cy_distance_to" class="md-nav__link">
    <span class="md-ellipsis">
      cy_distance_to
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cython_extensions.geometry.cy_distance_to_squared" class="md-nav__link">
    <span class="md-ellipsis">
      cy_distance_to_squared
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cython_extensions.geometry.cy_find_average_angle" class="md-nav__link">
    <span class="md-ellipsis">
      cy_find_average_angle
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cython_extensions.geometry.cy_find_correct_line" class="md-nav__link">
    <span class="md-ellipsis">
      cy_find_correct_line
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cython_extensions.geometry.cy_get_angle_between_points" class="md-nav__link">
    <span class="md-ellipsis">
      cy_get_angle_between_points
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cython_extensions.geometry.cy_towards" class="md-nav__link">
    <span class="md-ellipsis">
      cy_towards
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cython_extensions.geometry.cy_translate_point_along_line" class="md-nav__link">
    <span class="md-ellipsis">
      cy_translate_point_along_line
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cython_extensions.map_analysis" class="md-nav__link">
    <span class="md-ellipsis">
      map_analysis
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cython_extensions.map_analysis.cy_flood_fill_grid" class="md-nav__link">
    <span class="md-ellipsis">
      cy_flood_fill_grid
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cython_extensions.map_analysis.cy_get_bounding_box" class="md-nav__link">
    <span class="md-ellipsis">
      cy_get_bounding_box
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cython_extensions.numpy_helper" class="md-nav__link">
    <span class="md-ellipsis">
      numpy_helper
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cython_extensions.numpy_helper.cy_all_points_below_max_value" class="md-nav__link">
    <span class="md-ellipsis">
      cy_all_points_below_max_value
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cython_extensions.numpy_helper.cy_all_points_have_value" class="md-nav__link">
    <span class="md-ellipsis">
      cy_all_points_have_value
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cython_extensions.numpy_helper.cy_last_index_with_value" class="md-nav__link">
    <span class="md-ellipsis">
      cy_last_index_with_value
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cython_extensions.numpy_helper.cy_point_below_value" class="md-nav__link">
    <span class="md-ellipsis">
      cy_point_below_value
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cython_extensions.numpy_helper.cy_points_with_value" class="md-nav__link">
    <span class="md-ellipsis">
      cy_points_with_value
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cython_extensions.placement_solver" class="md-nav__link">
    <span class="md-ellipsis">
      placement_solver
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cython_extensions.placement_solver.cy_can_place_structure" class="md-nav__link">
    <span class="md-ellipsis">
      cy_can_place_structure
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cython_extensions.placement_solver.cy_find_building_locations" class="md-nav__link">
    <span class="md-ellipsis">
      cy_find_building_locations
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cython_extensions.units_utils" class="md-nav__link">
    <span class="md-ellipsis">
      units_utils
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cython_extensions.units_utils.cy_center" class="md-nav__link">
    <span class="md-ellipsis">
      cy_center
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cython_extensions.units_utils.cy_closest_to" class="md-nav__link">
    <span class="md-ellipsis">
      cy_closest_to
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cython_extensions.units_utils.cy_find_units_center_mass" class="md-nav__link">
    <span class="md-ellipsis">
      cy_find_units_center_mass
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cython_extensions.units_utils.cy_in_attack_range" class="md-nav__link">
    <span class="md-ellipsis">
      cy_in_attack_range
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cython_extensions.units_utils.cy_sorted_by_distance_to" class="md-nav__link">
    <span class="md-ellipsis">
      cy_sorted_by_distance_to
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


  <h1>Cython Extensions SC2</h1>

<div class="doc doc-object doc-module">



<a id="cython_extensions.combat_utils"></a>
    <div class="doc doc-contents first">










  <div class="doc doc-children">










<div class="doc doc-object doc-function">


<h2 id="cython_extensions.combat_utils.cy_adjust_moving_formation" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">cy_adjust_moving_formation</span><span class="p">(</span><span class="n">our_units</span><span class="p">,</span> <span class="n">target</span><span class="p">,</span> <span class="n">fodder_tags</span><span class="p">,</span> <span class="n">unit_multiplier</span><span class="p">,</span> <span class="n">retreat_angle</span><span class="p">)</span></code>

<a href="#cython_extensions.combat_utils.cy_adjust_moving_formation" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Adjust units formation.</p>
<p>Big thanks to idontcodethisgame for the original code in Eris</p>
<p>The idea here is that we give UnitTypeId's a fodder value,
and this cython function works out which unit we want at
the front to absorb damage. This works by returning a dictionary
containing tags of the non fodder units that need to move backwards
behind the fodder and the position they should move to.</p>
<p>TIP: Don't use this when combat is already active, will
probably lead to anti-micro. Use this while moving across the
map and pre combat.</p>
<p>Example:
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="kn">from</span><span class="w"> </span><span class="nn">cython_extensions</span><span class="w"> </span><span class="kn">import</span> <span class="n">cy_find_aoe_position</span><span class="p">,</span> <span class="n">cy_find_units_center_mass</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="kn">from</span><span class="w"> </span><span class="nn">sc2.ids.ability_id</span><span class="w"> </span><span class="kn">import</span> <span class="n">AbilityId</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="kn">from</span><span class="w"> </span><span class="nn">sc2.ids.unit_typeid</span><span class="w"> </span><span class="kn">import</span> <span class="n">UnitTypeId</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="kn">from</span><span class="w"> </span><span class="nn">sc2.position</span><span class="w"> </span><span class="kn">import</span> <span class="n">Point2</span>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a><span class="kn">from</span><span class="w"> </span><span class="nn">sc2.units</span><span class="w"> </span><span class="kn">import</span> <span class="n">Units</span>
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a><span class="kn">from</span><span class="w"> </span><span class="nn">sc2.unit</span><span class="w"> </span><span class="kn">import</span> <span class="n">Unit</span>
<a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a>
<a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a><span class="k">def</span><span class="w"> </span><span class="nf">detect_fodder_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">units</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a>
<a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a>    <span class="c1"># zealot will always be fodder</span>
<a id="__codelineno-0-12" name="__codelineno-0-12" href="#__codelineno-0-12"></a>    <span class="c1"># if no zealot this will pick the next best unit type</span>
<a id="__codelineno-0-13" name="__codelineno-0-13" href="#__codelineno-0-13"></a>    <span class="c1"># stalker will never be fodder in this example</span>
<a id="__codelineno-0-14" name="__codelineno-0-14" href="#__codelineno-0-14"></a>    <span class="n">unit_fodder_values</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="n">UnitTypeId</span><span class="p">,</span> <span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
<a id="__codelineno-0-15" name="__codelineno-0-15" href="#__codelineno-0-15"></a>            <span class="n">UnitTypeId</span><span class="o">.</span><span class="n">STALKER</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
<a id="__codelineno-0-16" name="__codelineno-0-16" href="#__codelineno-0-16"></a>            <span class="n">UnitTypeId</span><span class="o">.</span><span class="n">ZEALOT</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
<a id="__codelineno-0-17" name="__codelineno-0-17" href="#__codelineno-0-17"></a>            <span class="n">UnitTypeId</span><span class="o">.</span><span class="n">ADEPT</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
<a id="__codelineno-0-18" name="__codelineno-0-18" href="#__codelineno-0-18"></a>            <span class="n">UnitTypeId</span><span class="o">.</span><span class="n">PROBE</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
<a id="__codelineno-0-19" name="__codelineno-0-19" href="#__codelineno-0-19"></a>    <span class="p">}</span>
<a id="__codelineno-0-20" name="__codelineno-0-20" href="#__codelineno-0-20"></a>
<a id="__codelineno-0-21" name="__codelineno-0-21" href="#__codelineno-0-21"></a>    <span class="c1"># establish how many fodder levels there are</span>
<a id="__codelineno-0-22" name="__codelineno-0-22" href="#__codelineno-0-22"></a>    <span class="n">unit_type_fodder_values</span><span class="p">:</span> <span class="nb">set</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
<a id="__codelineno-0-23" name="__codelineno-0-23" href="#__codelineno-0-23"></a>        <span class="n">unit_fodder_values</span><span class="p">[</span><span class="n">u</span><span class="o">.</span><span class="n">type_id</span><span class="p">]</span>
<a id="__codelineno-0-24" name="__codelineno-0-24" href="#__codelineno-0-24"></a>        <span class="k">for</span> <span class="n">u</span> <span class="ow">in</span> <span class="n">units</span>
<a id="__codelineno-0-25" name="__codelineno-0-25" href="#__codelineno-0-25"></a>        <span class="k">if</span> <span class="n">u</span><span class="o">.</span><span class="n">type_id</span> <span class="ow">in</span> <span class="n">unit_fodder_values</span>
<a id="__codelineno-0-26" name="__codelineno-0-26" href="#__codelineno-0-26"></a>    <span class="p">}</span>
<a id="__codelineno-0-27" name="__codelineno-0-27" href="#__codelineno-0-27"></a>
<a id="__codelineno-0-28" name="__codelineno-0-28" href="#__codelineno-0-28"></a>    <span class="c1"># if there&#39;s only one fodder level, no units are fodder</span>
<a id="__codelineno-0-29" name="__codelineno-0-29" href="#__codelineno-0-29"></a>    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">unit_type_fodder_values</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
<a id="__codelineno-0-30" name="__codelineno-0-30" href="#__codelineno-0-30"></a>        <span class="k">return</span> <span class="nb">min</span><span class="p">(</span><span class="n">unit_type_fodder_values</span><span class="p">)</span>
<a id="__codelineno-0-31" name="__codelineno-0-31" href="#__codelineno-0-31"></a>    <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-32" name="__codelineno-0-32" href="#__codelineno-0-32"></a>        <span class="k">return</span> <span class="mi">0</span>
<a id="__codelineno-0-33" name="__codelineno-0-33" href="#__codelineno-0-33"></a>
<a id="__codelineno-0-34" name="__codelineno-0-34" href="#__codelineno-0-34"></a><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">on_step</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">iteration</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
<a id="__codelineno-0-35" name="__codelineno-0-35" href="#__codelineno-0-35"></a>    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">enemy_units</span><span class="p">:</span>
<a id="__codelineno-0-36" name="__codelineno-0-36" href="#__codelineno-0-36"></a>        <span class="k">return</span>
<a id="__codelineno-0-37" name="__codelineno-0-37" href="#__codelineno-0-37"></a>    <span class="c1"># find lowest fodder value among our units</span>
<a id="__codelineno-0-38" name="__codelineno-0-38" href="#__codelineno-0-38"></a>    <span class="c1"># will return 0 if our army only has one fodder level</span>
<a id="__codelineno-0-39" name="__codelineno-0-39" href="#__codelineno-0-39"></a>    <span class="n">fodder_value</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">detect_fodder_value</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">units</span><span class="p">)</span>
<a id="__codelineno-0-40" name="__codelineno-0-40" href="#__codelineno-0-40"></a>
<a id="__codelineno-0-41" name="__codelineno-0-41" href="#__codelineno-0-41"></a>    <span class="n">fodder_tags</span> <span class="o">=</span> <span class="p">[]</span>
<a id="__codelineno-0-42" name="__codelineno-0-42" href="#__codelineno-0-42"></a>    <span class="n">units_that_need_to_move</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>
<a id="__codelineno-0-43" name="__codelineno-0-43" href="#__codelineno-0-43"></a>
<a id="__codelineno-0-44" name="__codelineno-0-44" href="#__codelineno-0-44"></a>    <span class="c1"># there are fodder levels, calculate unit adjustment</span>
<a id="__codelineno-0-45" name="__codelineno-0-45" href="#__codelineno-0-45"></a>    <span class="k">if</span> <span class="n">fodder_value</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
<a id="__codelineno-0-46" name="__codelineno-0-46" href="#__codelineno-0-46"></a>        <span class="k">for</span> <span class="n">unit</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">units</span><span class="p">:</span>
<a id="__codelineno-0-47" name="__codelineno-0-47" href="#__codelineno-0-47"></a>            <span class="k">if</span> <span class="p">(</span>
<a id="__codelineno-0-48" name="__codelineno-0-48" href="#__codelineno-0-48"></a>                <span class="n">unit</span><span class="o">.</span><span class="n">type_id</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">unit_fodder_values</span>
<a id="__codelineno-0-49" name="__codelineno-0-49" href="#__codelineno-0-49"></a>                <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">unit_fodder_values</span><span class="p">[</span><span class="n">unit</span><span class="o">.</span><span class="n">type_id</span><span class="p">]</span> <span class="o">==</span> <span class="n">fodder_value</span>
<a id="__codelineno-0-50" name="__codelineno-0-50" href="#__codelineno-0-50"></a>            <span class="p">):</span>
<a id="__codelineno-0-51" name="__codelineno-0-51" href="#__codelineno-0-51"></a>                <span class="n">fodder_tags</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">unit</span><span class="o">.</span><span class="n">tag</span><span class="p">)</span>
<a id="__codelineno-0-52" name="__codelineno-0-52" href="#__codelineno-0-52"></a>
<a id="__codelineno-0-53" name="__codelineno-0-53" href="#__codelineno-0-53"></a>        <span class="n">units_that_need_to_move</span> <span class="o">=</span> <span class="n">cy_adjust_moving_formation</span><span class="p">(</span>
<a id="__codelineno-0-54" name="__codelineno-0-54" href="#__codelineno-0-54"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">units</span><span class="p">,</span>
<a id="__codelineno-0-55" name="__codelineno-0-55" href="#__codelineno-0-55"></a>            <span class="n">cy_find_units_center_mass</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">enemy_units</span><span class="p">,</span> <span class="mf">5.0</span><span class="p">)[</span><span class="mi">0</span><span class="p">],</span>
<a id="__codelineno-0-56" name="__codelineno-0-56" href="#__codelineno-0-56"></a>            <span class="n">fodder_tags</span><span class="p">,</span>
<a id="__codelineno-0-57" name="__codelineno-0-57" href="#__codelineno-0-57"></a>            <span class="mf">1.0</span><span class="p">,</span>
<a id="__codelineno-0-58" name="__codelineno-0-58" href="#__codelineno-0-58"></a>            <span class="mf">0.25</span><span class="p">,</span>
<a id="__codelineno-0-59" name="__codelineno-0-59" href="#__codelineno-0-59"></a>        <span class="p">)</span>
<a id="__codelineno-0-60" name="__codelineno-0-60" href="#__codelineno-0-60"></a>
<a id="__codelineno-0-61" name="__codelineno-0-61" href="#__codelineno-0-61"></a>    <span class="k">for</span> <span class="n">unit</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">units</span><span class="p">:</span>
<a id="__codelineno-0-62" name="__codelineno-0-62" href="#__codelineno-0-62"></a>        <span class="k">if</span> <span class="p">(</span>
<a id="__codelineno-0-63" name="__codelineno-0-63" href="#__codelineno-0-63"></a>            <span class="n">unit</span><span class="o">.</span><span class="n">tag</span> <span class="ow">in</span> <span class="n">units_that_need_to_move</span>
<a id="__codelineno-0-64" name="__codelineno-0-64" href="#__codelineno-0-64"></a>            <span class="ow">and</span> <span class="n">unit</span><span class="o">.</span><span class="n">distance_to</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">enemy_units</span><span class="o">.</span><span class="n">center</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mf">9.0</span>
<a id="__codelineno-0-65" name="__codelineno-0-65" href="#__codelineno-0-65"></a>        <span class="p">):</span>
<a id="__codelineno-0-66" name="__codelineno-0-66" href="#__codelineno-0-66"></a>            <span class="c1"># in practise check this position is valid (pathable, in bounds etc)</span>
<a id="__codelineno-0-67" name="__codelineno-0-67" href="#__codelineno-0-67"></a>            <span class="c1"># left out here for example clarity</span>
<a id="__codelineno-0-68" name="__codelineno-0-68" href="#__codelineno-0-68"></a>            <span class="n">unit</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="n">Point2</span><span class="p">(</span><span class="n">units_that_need_to_move</span><span class="p">[</span><span class="n">unit</span><span class="o">.</span><span class="n">tag</span><span class="p">]))</span>
<a id="__codelineno-0-69" name="__codelineno-0-69" href="#__codelineno-0-69"></a>        <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-70" name="__codelineno-0-70" href="#__codelineno-0-70"></a>            <span class="n">unit</span><span class="o">.</span><span class="n">attack</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">enemy_units</span><span class="o">.</span><span class="n">center</span><span class="p">)</span>
</code></pre></div></p>
<p>324 µs ± 9.44 µs per loop (mean ± std. dev. of 7 runs, 1,000 loops each)</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>our_units</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="sc2.units.Units">Units</span>, <span title="list">list</span>[<span title="sc2.unit.Unit">Unit</span>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>All our squad units, including core and fodder.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>target</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="sc2.position.Point2">Point2</span>, <span title="tuple">tuple</span>[<span title="float">float</span>, <span title="float">float</span>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The target we want the fodder to lead us to.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>fodder_tags</code>
            </td>
            <td>
                  <code><span title="list">list</span>[<span title="int">int</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A list of fodder unit tags.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>unit_multiplier</code>
            </td>
            <td>
                  <code><span title="float">float</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>How far core units should retreat when
adjusting during combat.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>retreat_angle</code>
            </td>
            <td>
                  <code><span title="float">float</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Angle (in radians) for diagonal
retreat of core units.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="dict">dict</span>[<span title="int">int</span>, <span title="tuple">tuple</span>[<span title="float">float</span>, <span title="float">float</span>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A dictionary where keys are unit tags requiring movement</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                  <code><span title="dict">dict</span>[<span title="int">int</span>, <span title="tuple">tuple</span>[<span title="float">float</span>, <span title="float">float</span>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>and values are tuples of x, y coordinates.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>cython_extensions/combat_utils.pyi</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-145">145</a></span>
<span class="normal"><a href="#__codelineno-0-146">146</a></span>
<span class="normal"><a href="#__codelineno-0-147">147</a></span>
<span class="normal"><a href="#__codelineno-0-148">148</a></span>
<span class="normal"><a href="#__codelineno-0-149">149</a></span>
<span class="normal"><a href="#__codelineno-0-150">150</a></span>
<span class="normal"><a href="#__codelineno-0-151">151</a></span>
<span class="normal"><a href="#__codelineno-0-152">152</a></span>
<span class="normal"><a href="#__codelineno-0-153">153</a></span>
<span class="normal"><a href="#__codelineno-0-154">154</a></span>
<span class="normal"><a href="#__codelineno-0-155">155</a></span>
<span class="normal"><a href="#__codelineno-0-156">156</a></span>
<span class="normal"><a href="#__codelineno-0-157">157</a></span>
<span class="normal"><a href="#__codelineno-0-158">158</a></span>
<span class="normal"><a href="#__codelineno-0-159">159</a></span>
<span class="normal"><a href="#__codelineno-0-160">160</a></span>
<span class="normal"><a href="#__codelineno-0-161">161</a></span>
<span class="normal"><a href="#__codelineno-0-162">162</a></span>
<span class="normal"><a href="#__codelineno-0-163">163</a></span>
<span class="normal"><a href="#__codelineno-0-164">164</a></span>
<span class="normal"><a href="#__codelineno-0-165">165</a></span>
<span class="normal"><a href="#__codelineno-0-166">166</a></span>
<span class="normal"><a href="#__codelineno-0-167">167</a></span>
<span class="normal"><a href="#__codelineno-0-168">168</a></span>
<span class="normal"><a href="#__codelineno-0-169">169</a></span>
<span class="normal"><a href="#__codelineno-0-170">170</a></span>
<span class="normal"><a href="#__codelineno-0-171">171</a></span>
<span class="normal"><a href="#__codelineno-0-172">172</a></span>
<span class="normal"><a href="#__codelineno-0-173">173</a></span>
<span class="normal"><a href="#__codelineno-0-174">174</a></span>
<span class="normal"><a href="#__codelineno-0-175">175</a></span>
<span class="normal"><a href="#__codelineno-0-176">176</a></span>
<span class="normal"><a href="#__codelineno-0-177">177</a></span>
<span class="normal"><a href="#__codelineno-0-178">178</a></span>
<span class="normal"><a href="#__codelineno-0-179">179</a></span>
<span class="normal"><a href="#__codelineno-0-180">180</a></span>
<span class="normal"><a href="#__codelineno-0-181">181</a></span>
<span class="normal"><a href="#__codelineno-0-182">182</a></span>
<span class="normal"><a href="#__codelineno-0-183">183</a></span>
<span class="normal"><a href="#__codelineno-0-184">184</a></span>
<span class="normal"><a href="#__codelineno-0-185">185</a></span>
<span class="normal"><a href="#__codelineno-0-186">186</a></span>
<span class="normal"><a href="#__codelineno-0-187">187</a></span>
<span class="normal"><a href="#__codelineno-0-188">188</a></span>
<span class="normal"><a href="#__codelineno-0-189">189</a></span>
<span class="normal"><a href="#__codelineno-0-190">190</a></span>
<span class="normal"><a href="#__codelineno-0-191">191</a></span>
<span class="normal"><a href="#__codelineno-0-192">192</a></span>
<span class="normal"><a href="#__codelineno-0-193">193</a></span>
<span class="normal"><a href="#__codelineno-0-194">194</a></span>
<span class="normal"><a href="#__codelineno-0-195">195</a></span>
<span class="normal"><a href="#__codelineno-0-196">196</a></span>
<span class="normal"><a href="#__codelineno-0-197">197</a></span>
<span class="normal"><a href="#__codelineno-0-198">198</a></span>
<span class="normal"><a href="#__codelineno-0-199">199</a></span>
<span class="normal"><a href="#__codelineno-0-200">200</a></span>
<span class="normal"><a href="#__codelineno-0-201">201</a></span>
<span class="normal"><a href="#__codelineno-0-202">202</a></span>
<span class="normal"><a href="#__codelineno-0-203">203</a></span>
<span class="normal"><a href="#__codelineno-0-204">204</a></span>
<span class="normal"><a href="#__codelineno-0-205">205</a></span>
<span class="normal"><a href="#__codelineno-0-206">206</a></span>
<span class="normal"><a href="#__codelineno-0-207">207</a></span>
<span class="normal"><a href="#__codelineno-0-208">208</a></span>
<span class="normal"><a href="#__codelineno-0-209">209</a></span>
<span class="normal"><a href="#__codelineno-0-210">210</a></span>
<span class="normal"><a href="#__codelineno-0-211">211</a></span>
<span class="normal"><a href="#__codelineno-0-212">212</a></span>
<span class="normal"><a href="#__codelineno-0-213">213</a></span>
<span class="normal"><a href="#__codelineno-0-214">214</a></span>
<span class="normal"><a href="#__codelineno-0-215">215</a></span>
<span class="normal"><a href="#__codelineno-0-216">216</a></span>
<span class="normal"><a href="#__codelineno-0-217">217</a></span>
<span class="normal"><a href="#__codelineno-0-218">218</a></span>
<span class="normal"><a href="#__codelineno-0-219">219</a></span>
<span class="normal"><a href="#__codelineno-0-220">220</a></span>
<span class="normal"><a href="#__codelineno-0-221">221</a></span>
<span class="normal"><a href="#__codelineno-0-222">222</a></span>
<span class="normal"><a href="#__codelineno-0-223">223</a></span>
<span class="normal"><a href="#__codelineno-0-224">224</a></span>
<span class="normal"><a href="#__codelineno-0-225">225</a></span>
<span class="normal"><a href="#__codelineno-0-226">226</a></span>
<span class="normal"><a href="#__codelineno-0-227">227</a></span>
<span class="normal"><a href="#__codelineno-0-228">228</a></span>
<span class="normal"><a href="#__codelineno-0-229">229</a></span>
<span class="normal"><a href="#__codelineno-0-230">230</a></span>
<span class="normal"><a href="#__codelineno-0-231">231</a></span>
<span class="normal"><a href="#__codelineno-0-232">232</a></span>
<span class="normal"><a href="#__codelineno-0-233">233</a></span>
<span class="normal"><a href="#__codelineno-0-234">234</a></span>
<span class="normal"><a href="#__codelineno-0-235">235</a></span>
<span class="normal"><a href="#__codelineno-0-236">236</a></span>
<span class="normal"><a href="#__codelineno-0-237">237</a></span>
<span class="normal"><a href="#__codelineno-0-238">238</a></span>
<span class="normal"><a href="#__codelineno-0-239">239</a></span>
<span class="normal"><a href="#__codelineno-0-240">240</a></span>
<span class="normal"><a href="#__codelineno-0-241">241</a></span>
<span class="normal"><a href="#__codelineno-0-242">242</a></span>
<span class="normal"><a href="#__codelineno-0-243">243</a></span>
<span class="normal"><a href="#__codelineno-0-244">244</a></span>
<span class="normal"><a href="#__codelineno-0-245">245</a></span>
<span class="normal"><a href="#__codelineno-0-246">246</a></span>
<span class="normal"><a href="#__codelineno-0-247">247</a></span>
<span class="normal"><a href="#__codelineno-0-248">248</a></span>
<span class="normal"><a href="#__codelineno-0-249">249</a></span>
<span class="normal"><a href="#__codelineno-0-250">250</a></span>
<span class="normal"><a href="#__codelineno-0-251">251</a></span>
<span class="normal"><a href="#__codelineno-0-252">252</a></span>
<span class="normal"><a href="#__codelineno-0-253">253</a></span>
<span class="normal"><a href="#__codelineno-0-254">254</a></span>
<span class="normal"><a href="#__codelineno-0-255">255</a></span>
<span class="normal"><a href="#__codelineno-0-256">256</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-145" name="__codelineno-0-145"></a><span class="k">def</span><span class="w"> </span><span class="nf">cy_adjust_moving_formation</span><span class="p">(</span>
<a id="__codelineno-0-146" name="__codelineno-0-146"></a>    <span class="n">our_units</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Units</span><span class="p">,</span> <span class="nb">list</span><span class="p">[</span><span class="n">Unit</span><span class="p">]],</span>
<a id="__codelineno-0-147" name="__codelineno-0-147"></a>    <span class="n">target</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Point2</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">]],</span>
<a id="__codelineno-0-148" name="__codelineno-0-148"></a>    <span class="n">fodder_tags</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">int</span><span class="p">],</span>
<a id="__codelineno-0-149" name="__codelineno-0-149"></a>    <span class="n">unit_multiplier</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
<a id="__codelineno-0-150" name="__codelineno-0-150"></a>    <span class="n">retreat_angle</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
<a id="__codelineno-0-151" name="__codelineno-0-151"></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">]]:</span>
<a id="__codelineno-0-152" name="__codelineno-0-152"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Adjust units formation.</span>
<a id="__codelineno-0-153" name="__codelineno-0-153"></a>
<a id="__codelineno-0-154" name="__codelineno-0-154"></a><span class="sd">    Big thanks to idontcodethisgame for the original code in Eris</span>
<a id="__codelineno-0-155" name="__codelineno-0-155"></a>
<a id="__codelineno-0-156" name="__codelineno-0-156"></a><span class="sd">    The idea here is that we give UnitTypeId&#39;s a fodder value,</span>
<a id="__codelineno-0-157" name="__codelineno-0-157"></a><span class="sd">    and this cython function works out which unit we want at</span>
<a id="__codelineno-0-158" name="__codelineno-0-158"></a><span class="sd">    the front to absorb damage. This works by returning a dictionary</span>
<a id="__codelineno-0-159" name="__codelineno-0-159"></a><span class="sd">    containing tags of the non fodder units that need to move backwards</span>
<a id="__codelineno-0-160" name="__codelineno-0-160"></a><span class="sd">    behind the fodder and the position they should move to.</span>
<a id="__codelineno-0-161" name="__codelineno-0-161"></a>
<a id="__codelineno-0-162" name="__codelineno-0-162"></a><span class="sd">    TIP: Don&#39;t use this when combat is already active, will</span>
<a id="__codelineno-0-163" name="__codelineno-0-163"></a><span class="sd">    probably lead to anti-micro. Use this while moving across the</span>
<a id="__codelineno-0-164" name="__codelineno-0-164"></a><span class="sd">    map and pre combat.</span>
<a id="__codelineno-0-165" name="__codelineno-0-165"></a>
<a id="__codelineno-0-166" name="__codelineno-0-166"></a><span class="sd">    Example:</span>
<a id="__codelineno-0-167" name="__codelineno-0-167"></a><span class="sd">    ```py</span>
<a id="__codelineno-0-168" name="__codelineno-0-168"></a><span class="sd">    import numpy as np</span>
<a id="__codelineno-0-169" name="__codelineno-0-169"></a><span class="sd">    from cython_extensions import cy_find_aoe_position, cy_find_units_center_mass</span>
<a id="__codelineno-0-170" name="__codelineno-0-170"></a><span class="sd">    from sc2.ids.ability_id import AbilityId</span>
<a id="__codelineno-0-171" name="__codelineno-0-171"></a><span class="sd">    from sc2.ids.unit_typeid import UnitTypeId</span>
<a id="__codelineno-0-172" name="__codelineno-0-172"></a><span class="sd">    from sc2.position import Point2</span>
<a id="__codelineno-0-173" name="__codelineno-0-173"></a><span class="sd">    from sc2.units import Units</span>
<a id="__codelineno-0-174" name="__codelineno-0-174"></a><span class="sd">    from sc2.unit import Unit</span>
<a id="__codelineno-0-175" name="__codelineno-0-175"></a>
<a id="__codelineno-0-176" name="__codelineno-0-176"></a><span class="sd">    def detect_fodder_value(self, units) -&gt; int:</span>
<a id="__codelineno-0-177" name="__codelineno-0-177"></a>
<a id="__codelineno-0-178" name="__codelineno-0-178"></a><span class="sd">        # zealot will always be fodder</span>
<a id="__codelineno-0-179" name="__codelineno-0-179"></a><span class="sd">        # if no zealot this will pick the next best unit type</span>
<a id="__codelineno-0-180" name="__codelineno-0-180"></a><span class="sd">        # stalker will never be fodder in this example</span>
<a id="__codelineno-0-181" name="__codelineno-0-181"></a><span class="sd">        unit_fodder_values: dict[UnitTypeId, int] = {</span>
<a id="__codelineno-0-182" name="__codelineno-0-182"></a><span class="sd">                UnitTypeId.STALKER: 4,</span>
<a id="__codelineno-0-183" name="__codelineno-0-183"></a><span class="sd">                UnitTypeId.ZEALOT: 1,</span>
<a id="__codelineno-0-184" name="__codelineno-0-184"></a><span class="sd">                UnitTypeId.ADEPT: 2,</span>
<a id="__codelineno-0-185" name="__codelineno-0-185"></a><span class="sd">                UnitTypeId.PROBE: 3,</span>
<a id="__codelineno-0-186" name="__codelineno-0-186"></a><span class="sd">        }</span>
<a id="__codelineno-0-187" name="__codelineno-0-187"></a>
<a id="__codelineno-0-188" name="__codelineno-0-188"></a><span class="sd">        # establish how many fodder levels there are</span>
<a id="__codelineno-0-189" name="__codelineno-0-189"></a><span class="sd">        unit_type_fodder_values: set[int] = {</span>
<a id="__codelineno-0-190" name="__codelineno-0-190"></a><span class="sd">            unit_fodder_values[u.type_id]</span>
<a id="__codelineno-0-191" name="__codelineno-0-191"></a><span class="sd">            for u in units</span>
<a id="__codelineno-0-192" name="__codelineno-0-192"></a><span class="sd">            if u.type_id in unit_fodder_values</span>
<a id="__codelineno-0-193" name="__codelineno-0-193"></a><span class="sd">        }</span>
<a id="__codelineno-0-194" name="__codelineno-0-194"></a>
<a id="__codelineno-0-195" name="__codelineno-0-195"></a><span class="sd">        # if there&#39;s only one fodder level, no units are fodder</span>
<a id="__codelineno-0-196" name="__codelineno-0-196"></a><span class="sd">        if len(unit_type_fodder_values) &gt; 1:</span>
<a id="__codelineno-0-197" name="__codelineno-0-197"></a><span class="sd">            return min(unit_type_fodder_values)</span>
<a id="__codelineno-0-198" name="__codelineno-0-198"></a><span class="sd">        else:</span>
<a id="__codelineno-0-199" name="__codelineno-0-199"></a><span class="sd">            return 0</span>
<a id="__codelineno-0-200" name="__codelineno-0-200"></a>
<a id="__codelineno-0-201" name="__codelineno-0-201"></a><span class="sd">    async def on_step(self, iteration: int):</span>
<a id="__codelineno-0-202" name="__codelineno-0-202"></a><span class="sd">        if not self.enemy_units:</span>
<a id="__codelineno-0-203" name="__codelineno-0-203"></a><span class="sd">            return</span>
<a id="__codelineno-0-204" name="__codelineno-0-204"></a><span class="sd">        # find lowest fodder value among our units</span>
<a id="__codelineno-0-205" name="__codelineno-0-205"></a><span class="sd">        # will return 0 if our army only has one fodder level</span>
<a id="__codelineno-0-206" name="__codelineno-0-206"></a><span class="sd">        fodder_value: int = self.detect_fodder_value(self.units)</span>
<a id="__codelineno-0-207" name="__codelineno-0-207"></a>
<a id="__codelineno-0-208" name="__codelineno-0-208"></a><span class="sd">        fodder_tags = []</span>
<a id="__codelineno-0-209" name="__codelineno-0-209"></a><span class="sd">        units_that_need_to_move = dict()</span>
<a id="__codelineno-0-210" name="__codelineno-0-210"></a>
<a id="__codelineno-0-211" name="__codelineno-0-211"></a><span class="sd">        # there are fodder levels, calculate unit adjustment</span>
<a id="__codelineno-0-212" name="__codelineno-0-212"></a><span class="sd">        if fodder_value &gt; 0:</span>
<a id="__codelineno-0-213" name="__codelineno-0-213"></a><span class="sd">            for unit in self.units:</span>
<a id="__codelineno-0-214" name="__codelineno-0-214"></a><span class="sd">                if (</span>
<a id="__codelineno-0-215" name="__codelineno-0-215"></a><span class="sd">                    unit.type_id in self.unit_fodder_values</span>
<a id="__codelineno-0-216" name="__codelineno-0-216"></a><span class="sd">                    and self.unit_fodder_values[unit.type_id] == fodder_value</span>
<a id="__codelineno-0-217" name="__codelineno-0-217"></a><span class="sd">                ):</span>
<a id="__codelineno-0-218" name="__codelineno-0-218"></a><span class="sd">                    fodder_tags.append(unit.tag)</span>
<a id="__codelineno-0-219" name="__codelineno-0-219"></a>
<a id="__codelineno-0-220" name="__codelineno-0-220"></a><span class="sd">            units_that_need_to_move = cy_adjust_moving_formation(</span>
<a id="__codelineno-0-221" name="__codelineno-0-221"></a><span class="sd">                self.units,</span>
<a id="__codelineno-0-222" name="__codelineno-0-222"></a><span class="sd">                cy_find_units_center_mass(self.enemy_units, 5.0)[0],</span>
<a id="__codelineno-0-223" name="__codelineno-0-223"></a><span class="sd">                fodder_tags,</span>
<a id="__codelineno-0-224" name="__codelineno-0-224"></a><span class="sd">                1.0,</span>
<a id="__codelineno-0-225" name="__codelineno-0-225"></a><span class="sd">                0.25,</span>
<a id="__codelineno-0-226" name="__codelineno-0-226"></a><span class="sd">            )</span>
<a id="__codelineno-0-227" name="__codelineno-0-227"></a>
<a id="__codelineno-0-228" name="__codelineno-0-228"></a><span class="sd">        for unit in self.units:</span>
<a id="__codelineno-0-229" name="__codelineno-0-229"></a><span class="sd">            if (</span>
<a id="__codelineno-0-230" name="__codelineno-0-230"></a><span class="sd">                unit.tag in units_that_need_to_move</span>
<a id="__codelineno-0-231" name="__codelineno-0-231"></a><span class="sd">                and unit.distance_to(self.enemy_units.center) &gt; 9.0</span>
<a id="__codelineno-0-232" name="__codelineno-0-232"></a><span class="sd">            ):</span>
<a id="__codelineno-0-233" name="__codelineno-0-233"></a><span class="sd">                # in practise check this position is valid (pathable, in bounds etc)</span>
<a id="__codelineno-0-234" name="__codelineno-0-234"></a><span class="sd">                # left out here for example clarity</span>
<a id="__codelineno-0-235" name="__codelineno-0-235"></a><span class="sd">                unit.move(Point2(units_that_need_to_move[unit.tag]))</span>
<a id="__codelineno-0-236" name="__codelineno-0-236"></a><span class="sd">            else:</span>
<a id="__codelineno-0-237" name="__codelineno-0-237"></a><span class="sd">                unit.attack(self.enemy_units.center)</span>
<a id="__codelineno-0-238" name="__codelineno-0-238"></a><span class="sd">    ```</span>
<a id="__codelineno-0-239" name="__codelineno-0-239"></a>
<a id="__codelineno-0-240" name="__codelineno-0-240"></a><span class="sd">    324 µs ± 9.44 µs per loop (mean ± std. dev. of 7 runs, 1,000 loops each)</span>
<a id="__codelineno-0-241" name="__codelineno-0-241"></a>
<a id="__codelineno-0-242" name="__codelineno-0-242"></a><span class="sd">    Args:</span>
<a id="__codelineno-0-243" name="__codelineno-0-243"></a><span class="sd">        our_units: All our squad units, including core and fodder.</span>
<a id="__codelineno-0-244" name="__codelineno-0-244"></a><span class="sd">        target: The target we want the fodder to lead us to.</span>
<a id="__codelineno-0-245" name="__codelineno-0-245"></a><span class="sd">        fodder_tags: A list of fodder unit tags.</span>
<a id="__codelineno-0-246" name="__codelineno-0-246"></a><span class="sd">        unit_multiplier: How far core units should retreat when</span>
<a id="__codelineno-0-247" name="__codelineno-0-247"></a><span class="sd">            adjusting during combat.</span>
<a id="__codelineno-0-248" name="__codelineno-0-248"></a><span class="sd">        retreat_angle: Angle (in radians) for diagonal</span>
<a id="__codelineno-0-249" name="__codelineno-0-249"></a><span class="sd">            retreat of core units.</span>
<a id="__codelineno-0-250" name="__codelineno-0-250"></a>
<a id="__codelineno-0-251" name="__codelineno-0-251"></a><span class="sd">    Returns:</span>
<a id="__codelineno-0-252" name="__codelineno-0-252"></a><span class="sd">        A dictionary where keys are unit tags requiring movement</span>
<a id="__codelineno-0-253" name="__codelineno-0-253"></a><span class="sd">        and values are tuples of x, y coordinates.</span>
<a id="__codelineno-0-254" name="__codelineno-0-254"></a>
<a id="__codelineno-0-255" name="__codelineno-0-255"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-256" name="__codelineno-0-256"></a>    <span class="o">...</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="cython_extensions.combat_utils.cy_attack_ready" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">cy_attack_ready</span><span class="p">(</span><span class="n">ai</span><span class="p">,</span> <span class="n">unit</span><span class="p">,</span> <span class="n">target</span><span class="p">)</span></code>

<a href="#cython_extensions.combat_utils.cy_attack_ready" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Check if the unit is ready to attack the target.</p>
<p>Takes into account turn rate and unit speeds</p>
<p>Example:
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="kn">from</span><span class="w"> </span><span class="nn">cython_extensions</span><span class="w"> </span><span class="kn">import</span> <span class="n">cy_attack_ready</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="n">worker</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">workers</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="n">target</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">enemy_units</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a><span class="n">attack_ready</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="n">cy_attack_ready</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">worker</span><span class="p">,</span> <span class="n">target</span><span class="p">)</span>
</code></pre></div></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>1.46 µs ± 5.45 ns per loop (mean ± std. dev. of 7 runs, 1,000,000 loops each)
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a>
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a>Python alternative:
<a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a>5.66 µs ± 21.2 ns per loop (mean ± std. dev. of 7 runs, 100,000 loops each)
</code></pre></div>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>ai</code>
            </td>
            <td>
                  <code><span title="sc2.bot_ai.BotAI">BotAI</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Bot object that will be running the game.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>unit</code>
            </td>
            <td>
                  <code><span title="sc2.unit.Unit">Unit</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The unit we want to check.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>target</code>
            </td>
            <td>
                  <code><span title="sc2.unit.Unit">Unit</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The thing we want to shoot.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>True if the unit is ready to attack the target, False otherwise.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>cython_extensions/combat_utils.pyi</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-0-10">10</a></span>
<span class="normal"><a href="#__codelineno-0-11">11</a></span>
<span class="normal"><a href="#__codelineno-0-12">12</a></span>
<span class="normal"><a href="#__codelineno-0-13">13</a></span>
<span class="normal"><a href="#__codelineno-0-14">14</a></span>
<span class="normal"><a href="#__codelineno-0-15">15</a></span>
<span class="normal"><a href="#__codelineno-0-16">16</a></span>
<span class="normal"><a href="#__codelineno-0-17">17</a></span>
<span class="normal"><a href="#__codelineno-0-18">18</a></span>
<span class="normal"><a href="#__codelineno-0-19">19</a></span>
<span class="normal"><a href="#__codelineno-0-20">20</a></span>
<span class="normal"><a href="#__codelineno-0-21">21</a></span>
<span class="normal"><a href="#__codelineno-0-22">22</a></span>
<span class="normal"><a href="#__codelineno-0-23">23</a></span>
<span class="normal"><a href="#__codelineno-0-24">24</a></span>
<span class="normal"><a href="#__codelineno-0-25">25</a></span>
<span class="normal"><a href="#__codelineno-0-26">26</a></span>
<span class="normal"><a href="#__codelineno-0-27">27</a></span>
<span class="normal"><a href="#__codelineno-0-28">28</a></span>
<span class="normal"><a href="#__codelineno-0-29">29</a></span>
<span class="normal"><a href="#__codelineno-0-30">30</a></span>
<span class="normal"><a href="#__codelineno-0-31">31</a></span>
<span class="normal"><a href="#__codelineno-0-32">32</a></span>
<span class="normal"><a href="#__codelineno-0-33">33</a></span>
<span class="normal"><a href="#__codelineno-0-34">34</a></span>
<span class="normal"><a href="#__codelineno-0-35">35</a></span>
<span class="normal"><a href="#__codelineno-0-36">36</a></span>
<span class="normal"><a href="#__codelineno-0-37">37</a></span>
<span class="normal"><a href="#__codelineno-0-38">38</a></span>
<span class="normal"><a href="#__codelineno-0-39">39</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-9" name="__codelineno-0-9"></a><span class="k">def</span><span class="w"> </span><span class="nf">cy_attack_ready</span><span class="p">(</span><span class="n">ai</span><span class="p">:</span> <span class="n">BotAI</span><span class="p">,</span> <span class="n">unit</span><span class="p">:</span> <span class="n">Unit</span><span class="p">,</span> <span class="n">target</span><span class="p">:</span> <span class="n">Unit</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<a id="__codelineno-0-10" name="__codelineno-0-10"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Check if the unit is ready to attack the target.</span>
<a id="__codelineno-0-11" name="__codelineno-0-11"></a>
<a id="__codelineno-0-12" name="__codelineno-0-12"></a><span class="sd">    Takes into account turn rate and unit speeds</span>
<a id="__codelineno-0-13" name="__codelineno-0-13"></a>
<a id="__codelineno-0-14" name="__codelineno-0-14"></a><span class="sd">    Example:</span>
<a id="__codelineno-0-15" name="__codelineno-0-15"></a><span class="sd">    ```py</span>
<a id="__codelineno-0-16" name="__codelineno-0-16"></a><span class="sd">    from cython_extensions import cy_attack_ready</span>
<a id="__codelineno-0-17" name="__codelineno-0-17"></a>
<a id="__codelineno-0-18" name="__codelineno-0-18"></a><span class="sd">    worker = self.workers[0]</span>
<a id="__codelineno-0-19" name="__codelineno-0-19"></a><span class="sd">    target = self.enemy_units[0]</span>
<a id="__codelineno-0-20" name="__codelineno-0-20"></a>
<a id="__codelineno-0-21" name="__codelineno-0-21"></a><span class="sd">    attack_ready: bool = cy_attack_ready(self, worker, target)</span>
<a id="__codelineno-0-22" name="__codelineno-0-22"></a><span class="sd">    ```</span>
<a id="__codelineno-0-23" name="__codelineno-0-23"></a>
<a id="__codelineno-0-24" name="__codelineno-0-24"></a><span class="sd">    ```</span>
<a id="__codelineno-0-25" name="__codelineno-0-25"></a><span class="sd">    1.46 µs ± 5.45 ns per loop (mean ± std. dev. of 7 runs, 1,000,000 loops each)</span>
<a id="__codelineno-0-26" name="__codelineno-0-26"></a>
<a id="__codelineno-0-27" name="__codelineno-0-27"></a><span class="sd">    Python alternative:</span>
<a id="__codelineno-0-28" name="__codelineno-0-28"></a><span class="sd">    5.66 µs ± 21.2 ns per loop (mean ± std. dev. of 7 runs, 100,000 loops each)</span>
<a id="__codelineno-0-29" name="__codelineno-0-29"></a><span class="sd">    ```</span>
<a id="__codelineno-0-30" name="__codelineno-0-30"></a>
<a id="__codelineno-0-31" name="__codelineno-0-31"></a><span class="sd">    Args:</span>
<a id="__codelineno-0-32" name="__codelineno-0-32"></a><span class="sd">        ai: Bot object that will be running the game.</span>
<a id="__codelineno-0-33" name="__codelineno-0-33"></a><span class="sd">        unit: The unit we want to check.</span>
<a id="__codelineno-0-34" name="__codelineno-0-34"></a><span class="sd">        target: The thing we want to shoot.</span>
<a id="__codelineno-0-35" name="__codelineno-0-35"></a>
<a id="__codelineno-0-36" name="__codelineno-0-36"></a><span class="sd">    Returns:</span>
<a id="__codelineno-0-37" name="__codelineno-0-37"></a><span class="sd">        True if the unit is ready to attack the target, False otherwise.</span>
<a id="__codelineno-0-38" name="__codelineno-0-38"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-39" name="__codelineno-0-39"></a>    <span class="o">...</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="cython_extensions.combat_utils.cy_find_aoe_position" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">cy_find_aoe_position</span><span class="p">(</span><span class="n">effect_radius</span><span class="p">,</span> <span class="n">targets</span><span class="p">,</span> <span class="n">bonus_tags</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

<a href="#cython_extensions.combat_utils.cy_find_aoe_position" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Find best splash target given a group of enemies.</p>
<p>Big thanks to idontcodethisgame for the original code in Eris</p>
<p>WARNING: Please don't spam this function, it's fine to use as required
but is costly. For example: only use this if unit ability is ready,
only if enemy are in combat range etc.</p>
<p>Example:
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="kn">from</span><span class="w"> </span><span class="nn">cython_extensions</span><span class="w"> </span><span class="kn">import</span> <span class="n">cy_find_aoe_position</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="kn">from</span><span class="w"> </span><span class="nn">sc2.ids.ability_id</span><span class="w"> </span><span class="kn">import</span> <span class="n">AbilityId</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="kn">from</span><span class="w"> </span><span class="nn">sc2.ids.unit_typeid</span><span class="w"> </span><span class="kn">import</span> <span class="n">UnitTypeId</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="kn">from</span><span class="w"> </span><span class="nn">sc2.position</span><span class="w"> </span><span class="kn">import</span> <span class="n">Point2</span>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a><span class="kn">from</span><span class="w"> </span><span class="nn">sc2.units</span><span class="w"> </span><span class="kn">import</span> <span class="n">Units</span>
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a><span class="kn">from</span><span class="w"> </span><span class="nn">sc2.unit</span><span class="w"> </span><span class="kn">import</span> <span class="n">Unit</span>
<a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a>
<a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a><span class="n">enemies</span><span class="p">:</span> <span class="n">Units</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">enemy_units</span>
<a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a>
<a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a><span class="k">for</span> <span class="n">unit</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">units</span><span class="p">:</span>
<a id="__codelineno-0-12" name="__codelineno-0-12" href="#__codelineno-0-12"></a>    <span class="k">if</span> <span class="n">unit</span><span class="o">.</span><span class="n">type_id</span> <span class="o">==</span> <span class="n">UnitTypeId</span><span class="o">.</span><span class="n">RAVAGER</span><span class="p">:</span>
<a id="__codelineno-0-13" name="__codelineno-0-13" href="#__codelineno-0-13"></a>        <span class="c1"># in practice, don&#39;t do this query for every individual unit</span>
<a id="__codelineno-0-14" name="__codelineno-0-14" href="#__codelineno-0-14"></a>        <span class="n">abilities</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_available_abilities</span><span class="p">(</span><span class="n">unit</span><span class="p">)</span>
<a id="__codelineno-0-15" name="__codelineno-0-15" href="#__codelineno-0-15"></a>        <span class="k">if</span> <span class="n">AbilityId</span><span class="o">.</span><span class="n">EFFECT_CORROSIVEBILE</span> <span class="ow">in</span> <span class="n">abilities</span><span class="p">:</span>
<a id="__codelineno-0-16" name="__codelineno-0-16" href="#__codelineno-0-16"></a>            <span class="n">target</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">]</span> <span class="o">=</span> <span class="n">cy_find_aoe_position</span><span class="p">(</span><span class="n">effect_radius</span><span class="o">=</span><span class="mf">1.375</span><span class="p">,</span> <span class="n">targets</span><span class="o">=</span><span class="n">enemies</span><span class="p">)</span>
<a id="__codelineno-0-17" name="__codelineno-0-17" href="#__codelineno-0-17"></a>            <span class="c1"># in practise in some scenarios, you should do an extra check to</span>
<a id="__codelineno-0-18" name="__codelineno-0-18" href="#__codelineno-0-18"></a>            <span class="c1"># count how many units you would hit, this only finds position, not amount</span>
<a id="__codelineno-0-19" name="__codelineno-0-19" href="#__codelineno-0-19"></a>            <span class="k">if</span> <span class="n">pos</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-20" name="__codelineno-0-20" href="#__codelineno-0-20"></a>                <span class="n">unit</span><span class="p">(</span><span class="n">AbilityId</span><span class="o">.</span><span class="n">EFFECT_CORROSIVEBILE</span><span class="p">,</span> <span class="n">Point2</span><span class="p">(</span><span class="n">pos</span><span class="p">))</span>
</code></pre></div></p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>effect_radius</code>
            </td>
            <td>
                  <code><span title="float">float</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The radius of the effect (range).</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>targets</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="sc2.units.Units">Units</span>, <span title="list">list</span>[<span title="sc2.unit.Unit">Unit</span>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>All enemy units we would like to check.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>bonus_tags</code>
            </td>
            <td>
                  <code><span title="set">set</span>[<span title="int">int</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If provided, give more value to these enemy tags.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="numpy.ndarray">ndarray</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A 1D numpy array containing x and y coordinates of aoe position,</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="numpy.ndarray">ndarray</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>or None.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>cython_extensions/combat_utils.pyi</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-99"> 99</a></span>
<span class="normal"><a href="#__codelineno-0-100">100</a></span>
<span class="normal"><a href="#__codelineno-0-101">101</a></span>
<span class="normal"><a href="#__codelineno-0-102">102</a></span>
<span class="normal"><a href="#__codelineno-0-103">103</a></span>
<span class="normal"><a href="#__codelineno-0-104">104</a></span>
<span class="normal"><a href="#__codelineno-0-105">105</a></span>
<span class="normal"><a href="#__codelineno-0-106">106</a></span>
<span class="normal"><a href="#__codelineno-0-107">107</a></span>
<span class="normal"><a href="#__codelineno-0-108">108</a></span>
<span class="normal"><a href="#__codelineno-0-109">109</a></span>
<span class="normal"><a href="#__codelineno-0-110">110</a></span>
<span class="normal"><a href="#__codelineno-0-111">111</a></span>
<span class="normal"><a href="#__codelineno-0-112">112</a></span>
<span class="normal"><a href="#__codelineno-0-113">113</a></span>
<span class="normal"><a href="#__codelineno-0-114">114</a></span>
<span class="normal"><a href="#__codelineno-0-115">115</a></span>
<span class="normal"><a href="#__codelineno-0-116">116</a></span>
<span class="normal"><a href="#__codelineno-0-117">117</a></span>
<span class="normal"><a href="#__codelineno-0-118">118</a></span>
<span class="normal"><a href="#__codelineno-0-119">119</a></span>
<span class="normal"><a href="#__codelineno-0-120">120</a></span>
<span class="normal"><a href="#__codelineno-0-121">121</a></span>
<span class="normal"><a href="#__codelineno-0-122">122</a></span>
<span class="normal"><a href="#__codelineno-0-123">123</a></span>
<span class="normal"><a href="#__codelineno-0-124">124</a></span>
<span class="normal"><a href="#__codelineno-0-125">125</a></span>
<span class="normal"><a href="#__codelineno-0-126">126</a></span>
<span class="normal"><a href="#__codelineno-0-127">127</a></span>
<span class="normal"><a href="#__codelineno-0-128">128</a></span>
<span class="normal"><a href="#__codelineno-0-129">129</a></span>
<span class="normal"><a href="#__codelineno-0-130">130</a></span>
<span class="normal"><a href="#__codelineno-0-131">131</a></span>
<span class="normal"><a href="#__codelineno-0-132">132</a></span>
<span class="normal"><a href="#__codelineno-0-133">133</a></span>
<span class="normal"><a href="#__codelineno-0-134">134</a></span>
<span class="normal"><a href="#__codelineno-0-135">135</a></span>
<span class="normal"><a href="#__codelineno-0-136">136</a></span>
<span class="normal"><a href="#__codelineno-0-137">137</a></span>
<span class="normal"><a href="#__codelineno-0-138">138</a></span>
<span class="normal"><a href="#__codelineno-0-139">139</a></span>
<span class="normal"><a href="#__codelineno-0-140">140</a></span>
<span class="normal"><a href="#__codelineno-0-141">141</a></span>
<span class="normal"><a href="#__codelineno-0-142">142</a></span>
<span class="normal"><a href="#__codelineno-0-143">143</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-99" name="__codelineno-0-99"></a><span class="k">def</span><span class="w"> </span><span class="nf">cy_find_aoe_position</span><span class="p">(</span>
<a id="__codelineno-0-100" name="__codelineno-0-100"></a>    <span class="n">effect_radius</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">targets</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Units</span><span class="p">,</span> <span class="nb">list</span><span class="p">[</span><span class="n">Unit</span><span class="p">]],</span> <span class="n">bonus_tags</span><span class="p">:</span> <span class="nb">set</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
<a id="__codelineno-0-101" name="__codelineno-0-101"></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">]:</span>
<a id="__codelineno-0-102" name="__codelineno-0-102"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Find best splash target given a group of enemies.</span>
<a id="__codelineno-0-103" name="__codelineno-0-103"></a>
<a id="__codelineno-0-104" name="__codelineno-0-104"></a><span class="sd">    Big thanks to idontcodethisgame for the original code in Eris</span>
<a id="__codelineno-0-105" name="__codelineno-0-105"></a>
<a id="__codelineno-0-106" name="__codelineno-0-106"></a><span class="sd">    WARNING: Please don&#39;t spam this function, it&#39;s fine to use as required</span>
<a id="__codelineno-0-107" name="__codelineno-0-107"></a><span class="sd">    but is costly. For example: only use this if unit ability is ready,</span>
<a id="__codelineno-0-108" name="__codelineno-0-108"></a><span class="sd">    only if enemy are in combat range etc.</span>
<a id="__codelineno-0-109" name="__codelineno-0-109"></a>
<a id="__codelineno-0-110" name="__codelineno-0-110"></a><span class="sd">    Example:</span>
<a id="__codelineno-0-111" name="__codelineno-0-111"></a><span class="sd">    ```py</span>
<a id="__codelineno-0-112" name="__codelineno-0-112"></a><span class="sd">    import numpy as np</span>
<a id="__codelineno-0-113" name="__codelineno-0-113"></a><span class="sd">    from cython_extensions import cy_find_aoe_position</span>
<a id="__codelineno-0-114" name="__codelineno-0-114"></a><span class="sd">    from sc2.ids.ability_id import AbilityId</span>
<a id="__codelineno-0-115" name="__codelineno-0-115"></a><span class="sd">    from sc2.ids.unit_typeid import UnitTypeId</span>
<a id="__codelineno-0-116" name="__codelineno-0-116"></a><span class="sd">    from sc2.position import Point2</span>
<a id="__codelineno-0-117" name="__codelineno-0-117"></a><span class="sd">    from sc2.units import Units</span>
<a id="__codelineno-0-118" name="__codelineno-0-118"></a><span class="sd">    from sc2.unit import Unit</span>
<a id="__codelineno-0-119" name="__codelineno-0-119"></a>
<a id="__codelineno-0-120" name="__codelineno-0-120"></a><span class="sd">    enemies: Units = self.enemy_units</span>
<a id="__codelineno-0-121" name="__codelineno-0-121"></a>
<a id="__codelineno-0-122" name="__codelineno-0-122"></a><span class="sd">    for unit in self.units:</span>
<a id="__codelineno-0-123" name="__codelineno-0-123"></a><span class="sd">        if unit.type_id == UnitTypeId.RAVAGER:</span>
<a id="__codelineno-0-124" name="__codelineno-0-124"></a><span class="sd">            # in practice, don&#39;t do this query for every individual unit</span>
<a id="__codelineno-0-125" name="__codelineno-0-125"></a><span class="sd">            abilities = await self.get_available_abilities(unit)</span>
<a id="__codelineno-0-126" name="__codelineno-0-126"></a><span class="sd">            if AbilityId.EFFECT_CORROSIVEBILE in abilities:</span>
<a id="__codelineno-0-127" name="__codelineno-0-127"></a><span class="sd">                target: Optional[np.ndarray] = cy_find_aoe_position(effect_radius=1.375, targets=enemies)</span>
<a id="__codelineno-0-128" name="__codelineno-0-128"></a><span class="sd">                # in practise in some scenarios, you should do an extra check to</span>
<a id="__codelineno-0-129" name="__codelineno-0-129"></a><span class="sd">                # count how many units you would hit, this only finds position, not amount</span>
<a id="__codelineno-0-130" name="__codelineno-0-130"></a><span class="sd">                if pos is not None:</span>
<a id="__codelineno-0-131" name="__codelineno-0-131"></a><span class="sd">                    unit(AbilityId.EFFECT_CORROSIVEBILE, Point2(pos))</span>
<a id="__codelineno-0-132" name="__codelineno-0-132"></a><span class="sd">    ```</span>
<a id="__codelineno-0-133" name="__codelineno-0-133"></a>
<a id="__codelineno-0-134" name="__codelineno-0-134"></a><span class="sd">    Args:</span>
<a id="__codelineno-0-135" name="__codelineno-0-135"></a><span class="sd">        effect_radius: The radius of the effect (range).</span>
<a id="__codelineno-0-136" name="__codelineno-0-136"></a><span class="sd">        targets: All enemy units we would like to check.</span>
<a id="__codelineno-0-137" name="__codelineno-0-137"></a><span class="sd">        bonus_tags: If provided, give more value to these enemy tags.</span>
<a id="__codelineno-0-138" name="__codelineno-0-138"></a>
<a id="__codelineno-0-139" name="__codelineno-0-139"></a><span class="sd">    Returns:</span>
<a id="__codelineno-0-140" name="__codelineno-0-140"></a><span class="sd">        A 1D numpy array containing x and y coordinates of aoe position,</span>
<a id="__codelineno-0-141" name="__codelineno-0-141"></a><span class="sd">        or None.</span>
<a id="__codelineno-0-142" name="__codelineno-0-142"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-143" name="__codelineno-0-143"></a>    <span class="o">...</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="cython_extensions.combat_utils.cy_is_facing" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">cy_is_facing</span><span class="p">(</span><span class="n">unit</span><span class="p">,</span> <span class="n">other_unit</span><span class="p">,</span> <span class="n">angle_error</span><span class="p">)</span></code>

<a href="#cython_extensions.combat_utils.cy_is_facing" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Get turn speed of unit in radians</p>
<p>Example:
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="kn">from</span><span class="w"> </span><span class="nn">cython_extensions</span><span class="w"> </span><span class="kn">import</span> <span class="n">cy_is_facing</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="n">unit</span><span class="p">:</span> <span class="n">Unit</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">workers</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="n">other_unit</span><span class="p">:</span> <span class="n">Unit</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">townhalls</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="n">is_facing</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="n">cy_is_facing</span><span class="p">(</span><span class="n">unit</span><span class="p">,</span> <span class="n">other_unit</span><span class="p">)</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>323 ns ± 3.93 ns per loop (mean ± std. dev. of 7 runs, 1,000,000 loops each)
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a>
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a>Python-sc2&#39;s `unit.is_facing(other_unit)` alternative:
<a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a>2.94 µs ± 8 ns per loop (mean ± std. dev. of 7 runs, 100,000 loops each)
</code></pre></div></p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>unit</code>
            </td>
            <td>
                  <code><span title="sc2.unit.Unit">Unit</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The actual unit we are checking.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>other_unit</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The unit type ID integer value.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>angle_error</code>
            </td>
            <td>
                  <code><span title="float">float</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Some leeway when deciding if a unit is facing the other unit.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>True if the unit is facing the other unit, False otherwise.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>cython_extensions/combat_utils.pyi</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-41">41</a></span>
<span class="normal"><a href="#__codelineno-0-42">42</a></span>
<span class="normal"><a href="#__codelineno-0-43">43</a></span>
<span class="normal"><a href="#__codelineno-0-44">44</a></span>
<span class="normal"><a href="#__codelineno-0-45">45</a></span>
<span class="normal"><a href="#__codelineno-0-46">46</a></span>
<span class="normal"><a href="#__codelineno-0-47">47</a></span>
<span class="normal"><a href="#__codelineno-0-48">48</a></span>
<span class="normal"><a href="#__codelineno-0-49">49</a></span>
<span class="normal"><a href="#__codelineno-0-50">50</a></span>
<span class="normal"><a href="#__codelineno-0-51">51</a></span>
<span class="normal"><a href="#__codelineno-0-52">52</a></span>
<span class="normal"><a href="#__codelineno-0-53">53</a></span>
<span class="normal"><a href="#__codelineno-0-54">54</a></span>
<span class="normal"><a href="#__codelineno-0-55">55</a></span>
<span class="normal"><a href="#__codelineno-0-56">56</a></span>
<span class="normal"><a href="#__codelineno-0-57">57</a></span>
<span class="normal"><a href="#__codelineno-0-58">58</a></span>
<span class="normal"><a href="#__codelineno-0-59">59</a></span>
<span class="normal"><a href="#__codelineno-0-60">60</a></span>
<span class="normal"><a href="#__codelineno-0-61">61</a></span>
<span class="normal"><a href="#__codelineno-0-62">62</a></span>
<span class="normal"><a href="#__codelineno-0-63">63</a></span>
<span class="normal"><a href="#__codelineno-0-64">64</a></span>
<span class="normal"><a href="#__codelineno-0-65">65</a></span>
<span class="normal"><a href="#__codelineno-0-66">66</a></span>
<span class="normal"><a href="#__codelineno-0-67">67</a></span>
<span class="normal"><a href="#__codelineno-0-68">68</a></span>
<span class="normal"><a href="#__codelineno-0-69">69</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-41" name="__codelineno-0-41"></a><span class="k">def</span><span class="w"> </span><span class="nf">cy_is_facing</span><span class="p">(</span><span class="n">unit</span><span class="p">:</span> <span class="n">Unit</span><span class="p">,</span> <span class="n">other_unit</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">angle_error</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<a id="__codelineno-0-42" name="__codelineno-0-42"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Get turn speed of unit in radians</span>
<a id="__codelineno-0-43" name="__codelineno-0-43"></a>
<a id="__codelineno-0-44" name="__codelineno-0-44"></a><span class="sd">    Example:</span>
<a id="__codelineno-0-45" name="__codelineno-0-45"></a><span class="sd">    ```py</span>
<a id="__codelineno-0-46" name="__codelineno-0-46"></a><span class="sd">    from cython_extensions import cy_is_facing</span>
<a id="__codelineno-0-47" name="__codelineno-0-47"></a>
<a id="__codelineno-0-48" name="__codelineno-0-48"></a><span class="sd">    unit: Unit = self.workers[0]</span>
<a id="__codelineno-0-49" name="__codelineno-0-49"></a><span class="sd">    other_unit: Unit = self.townhalls[0]</span>
<a id="__codelineno-0-50" name="__codelineno-0-50"></a><span class="sd">    is_facing: bool = cy_is_facing(unit, other_unit)</span>
<a id="__codelineno-0-51" name="__codelineno-0-51"></a><span class="sd">    ```</span>
<a id="__codelineno-0-52" name="__codelineno-0-52"></a><span class="sd">    ```</span>
<a id="__codelineno-0-53" name="__codelineno-0-53"></a><span class="sd">    323 ns ± 3.93 ns per loop (mean ± std. dev. of 7 runs, 1,000,000 loops each)</span>
<a id="__codelineno-0-54" name="__codelineno-0-54"></a>
<a id="__codelineno-0-55" name="__codelineno-0-55"></a><span class="sd">    Python-sc2&#39;s `unit.is_facing(other_unit)` alternative:</span>
<a id="__codelineno-0-56" name="__codelineno-0-56"></a><span class="sd">    2.94 µs ± 8 ns per loop (mean ± std. dev. of 7 runs, 100,000 loops each)</span>
<a id="__codelineno-0-57" name="__codelineno-0-57"></a><span class="sd">    ```</span>
<a id="__codelineno-0-58" name="__codelineno-0-58"></a>
<a id="__codelineno-0-59" name="__codelineno-0-59"></a><span class="sd">    Args:</span>
<a id="__codelineno-0-60" name="__codelineno-0-60"></a><span class="sd">        unit: The actual unit we are checking.</span>
<a id="__codelineno-0-61" name="__codelineno-0-61"></a><span class="sd">        other_unit: The unit type ID integer value.</span>
<a id="__codelineno-0-62" name="__codelineno-0-62"></a><span class="sd">        angle_error: Some leeway when deciding if a unit is facing the other unit.</span>
<a id="__codelineno-0-63" name="__codelineno-0-63"></a><span class="sd">        Defaults to 0.3.</span>
<a id="__codelineno-0-64" name="__codelineno-0-64"></a>
<a id="__codelineno-0-65" name="__codelineno-0-65"></a><span class="sd">    Returns:</span>
<a id="__codelineno-0-66" name="__codelineno-0-66"></a><span class="sd">        True if the unit is facing the other unit, False otherwise.</span>
<a id="__codelineno-0-67" name="__codelineno-0-67"></a>
<a id="__codelineno-0-68" name="__codelineno-0-68"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-69" name="__codelineno-0-69"></a>    <span class="o">...</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="cython_extensions.combat_utils.cy_pick_enemy_target" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">cy_pick_enemy_target</span><span class="p">(</span><span class="n">enemies</span><span class="p">)</span></code>

<a href="#cython_extensions.combat_utils.cy_pick_enemy_target" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Pick the best thing to shoot at out of all enemies.</p>
<p>Example:
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="kn">from</span><span class="w"> </span><span class="nn">cython_extensions</span><span class="w"> </span><span class="kn">import</span> <span class="n">cy_pick_enemy_target</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="kn">from</span><span class="w"> </span><span class="nn">sc2.units</span><span class="w"> </span><span class="kn">import</span> <span class="n">Units</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="kn">from</span><span class="w"> </span><span class="nn">sc2.unit</span><span class="w"> </span><span class="kn">import</span> <span class="n">Unit</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="n">enemies</span><span class="p">:</span> <span class="n">Units</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">enemy_units</span>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a>
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a><span class="n">target</span><span class="p">:</span> <span class="n">Unit</span> <span class="o">=</span> <span class="n">cy_pick_enemy_target</span><span class="p">(</span><span class="n">enemies</span><span class="p">)</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>70.5 µs ± 818 ns per loop (mean ± std. dev. of 7 runs, 10,000 loops each)
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a>
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a>Python alternative:
<a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a>115 µs ± 766 ns per loop (mean ± std. dev. of 7 runs, 10,000 loops each)
</code></pre></div></p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>enemies</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="sc2.units.Units">Units</span>, <span title="list">list</span>[<span title="sc2.unit.Unit">Unit</span>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>All enemy units we would like to check.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="sc2.unit.Unit">Unit</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The best unit to target.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>cython_extensions/combat_utils.pyi</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-71">71</a></span>
<span class="normal"><a href="#__codelineno-0-72">72</a></span>
<span class="normal"><a href="#__codelineno-0-73">73</a></span>
<span class="normal"><a href="#__codelineno-0-74">74</a></span>
<span class="normal"><a href="#__codelineno-0-75">75</a></span>
<span class="normal"><a href="#__codelineno-0-76">76</a></span>
<span class="normal"><a href="#__codelineno-0-77">77</a></span>
<span class="normal"><a href="#__codelineno-0-78">78</a></span>
<span class="normal"><a href="#__codelineno-0-79">79</a></span>
<span class="normal"><a href="#__codelineno-0-80">80</a></span>
<span class="normal"><a href="#__codelineno-0-81">81</a></span>
<span class="normal"><a href="#__codelineno-0-82">82</a></span>
<span class="normal"><a href="#__codelineno-0-83">83</a></span>
<span class="normal"><a href="#__codelineno-0-84">84</a></span>
<span class="normal"><a href="#__codelineno-0-85">85</a></span>
<span class="normal"><a href="#__codelineno-0-86">86</a></span>
<span class="normal"><a href="#__codelineno-0-87">87</a></span>
<span class="normal"><a href="#__codelineno-0-88">88</a></span>
<span class="normal"><a href="#__codelineno-0-89">89</a></span>
<span class="normal"><a href="#__codelineno-0-90">90</a></span>
<span class="normal"><a href="#__codelineno-0-91">91</a></span>
<span class="normal"><a href="#__codelineno-0-92">92</a></span>
<span class="normal"><a href="#__codelineno-0-93">93</a></span>
<span class="normal"><a href="#__codelineno-0-94">94</a></span>
<span class="normal"><a href="#__codelineno-0-95">95</a></span>
<span class="normal"><a href="#__codelineno-0-96">96</a></span>
<span class="normal"><a href="#__codelineno-0-97">97</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-71" name="__codelineno-0-71"></a><span class="k">def</span><span class="w"> </span><span class="nf">cy_pick_enemy_target</span><span class="p">(</span><span class="n">enemies</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Units</span><span class="p">,</span> <span class="nb">list</span><span class="p">[</span><span class="n">Unit</span><span class="p">]])</span> <span class="o">-&gt;</span> <span class="n">Unit</span><span class="p">:</span>
<a id="__codelineno-0-72" name="__codelineno-0-72"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Pick the best thing to shoot at out of all enemies.</span>
<a id="__codelineno-0-73" name="__codelineno-0-73"></a>
<a id="__codelineno-0-74" name="__codelineno-0-74"></a><span class="sd">    Example:</span>
<a id="__codelineno-0-75" name="__codelineno-0-75"></a><span class="sd">    ```py</span>
<a id="__codelineno-0-76" name="__codelineno-0-76"></a><span class="sd">    from cython_extensions import cy_pick_enemy_target</span>
<a id="__codelineno-0-77" name="__codelineno-0-77"></a><span class="sd">    from sc2.units import Units</span>
<a id="__codelineno-0-78" name="__codelineno-0-78"></a><span class="sd">    from sc2.unit import Unit</span>
<a id="__codelineno-0-79" name="__codelineno-0-79"></a>
<a id="__codelineno-0-80" name="__codelineno-0-80"></a><span class="sd">    enemies: Units = self.enemy_units</span>
<a id="__codelineno-0-81" name="__codelineno-0-81"></a>
<a id="__codelineno-0-82" name="__codelineno-0-82"></a><span class="sd">    target: Unit = cy_pick_enemy_target(enemies)</span>
<a id="__codelineno-0-83" name="__codelineno-0-83"></a><span class="sd">    ```</span>
<a id="__codelineno-0-84" name="__codelineno-0-84"></a><span class="sd">    ```</span>
<a id="__codelineno-0-85" name="__codelineno-0-85"></a><span class="sd">    70.5 µs ± 818 ns per loop (mean ± std. dev. of 7 runs, 10,000 loops each)</span>
<a id="__codelineno-0-86" name="__codelineno-0-86"></a>
<a id="__codelineno-0-87" name="__codelineno-0-87"></a><span class="sd">    Python alternative:</span>
<a id="__codelineno-0-88" name="__codelineno-0-88"></a><span class="sd">    115 µs ± 766 ns per loop (mean ± std. dev. of 7 runs, 10,000 loops each)</span>
<a id="__codelineno-0-89" name="__codelineno-0-89"></a><span class="sd">    ```</span>
<a id="__codelineno-0-90" name="__codelineno-0-90"></a>
<a id="__codelineno-0-91" name="__codelineno-0-91"></a><span class="sd">    Args:</span>
<a id="__codelineno-0-92" name="__codelineno-0-92"></a><span class="sd">        enemies: All enemy units we would like to check.</span>
<a id="__codelineno-0-93" name="__codelineno-0-93"></a>
<a id="__codelineno-0-94" name="__codelineno-0-94"></a><span class="sd">    Returns:</span>
<a id="__codelineno-0-95" name="__codelineno-0-95"></a><span class="sd">        The best unit to target.</span>
<a id="__codelineno-0-96" name="__codelineno-0-96"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-97" name="__codelineno-0-97"></a>    <span class="o">...</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="cython_extensions.combat_utils.cy_range_vs_target" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">cy_range_vs_target</span><span class="p">(</span><span class="n">unit</span><span class="p">,</span> <span class="n">target</span><span class="p">)</span></code>

<a href="#cython_extensions.combat_utils.cy_range_vs_target" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Cython version of range_vs_target</p>
<p>Example:
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="kn">from</span><span class="w"> </span><span class="nn">cython_extensions</span><span class="w"> </span><span class="kn">import</span> <span class="n">cy_range_vs_target</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="kn">from</span><span class="w"> </span><span class="nn">sc2.unit</span><span class="w"> </span><span class="kn">import</span> <span class="n">Unit</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="n">unit</span><span class="p">:</span> <span class="n">Unit</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">units</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="n">target</span><span class="p">:</span> <span class="n">Unit</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">enemies</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a>
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a><span class="nb">range</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="n">cy_range_vs_target</span><span class="p">(</span><span class="n">unit</span><span class="p">,</span> <span class="n">target</span><span class="p">)</span>
</code></pre></div></p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>unit</code>
            </td>
            <td>
                  <code><span title="sc2.unit.Unit">Unit</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The unit we want to check.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>target</code>
            </td>
            <td>
                  <code><span title="sc2.unit.Unit">Unit</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The target we want to check.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="float">float</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The weapon range to the target</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>cython_extensions/combat_utils.pyi</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-258">258</a></span>
<span class="normal"><a href="#__codelineno-0-259">259</a></span>
<span class="normal"><a href="#__codelineno-0-260">260</a></span>
<span class="normal"><a href="#__codelineno-0-261">261</a></span>
<span class="normal"><a href="#__codelineno-0-262">262</a></span>
<span class="normal"><a href="#__codelineno-0-263">263</a></span>
<span class="normal"><a href="#__codelineno-0-264">264</a></span>
<span class="normal"><a href="#__codelineno-0-265">265</a></span>
<span class="normal"><a href="#__codelineno-0-266">266</a></span>
<span class="normal"><a href="#__codelineno-0-267">267</a></span>
<span class="normal"><a href="#__codelineno-0-268">268</a></span>
<span class="normal"><a href="#__codelineno-0-269">269</a></span>
<span class="normal"><a href="#__codelineno-0-270">270</a></span>
<span class="normal"><a href="#__codelineno-0-271">271</a></span>
<span class="normal"><a href="#__codelineno-0-272">272</a></span>
<span class="normal"><a href="#__codelineno-0-273">273</a></span>
<span class="normal"><a href="#__codelineno-0-274">274</a></span>
<span class="normal"><a href="#__codelineno-0-275">275</a></span>
<span class="normal"><a href="#__codelineno-0-276">276</a></span>
<span class="normal"><a href="#__codelineno-0-277">277</a></span>
<span class="normal"><a href="#__codelineno-0-278">278</a></span>
<span class="normal"><a href="#__codelineno-0-279">279</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-258" name="__codelineno-0-258"></a><span class="k">def</span><span class="w"> </span><span class="nf">cy_range_vs_target</span><span class="p">(</span><span class="n">unit</span><span class="p">:</span> <span class="n">Unit</span><span class="p">,</span> <span class="n">target</span><span class="p">:</span> <span class="n">Unit</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
<a id="__codelineno-0-259" name="__codelineno-0-259"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Cython version of range_vs_target</span>
<a id="__codelineno-0-260" name="__codelineno-0-260"></a>
<a id="__codelineno-0-261" name="__codelineno-0-261"></a><span class="sd">    Example:</span>
<a id="__codelineno-0-262" name="__codelineno-0-262"></a><span class="sd">    ```py</span>
<a id="__codelineno-0-263" name="__codelineno-0-263"></a><span class="sd">    from cython_extensions import cy_range_vs_target</span>
<a id="__codelineno-0-264" name="__codelineno-0-264"></a><span class="sd">    from sc2.unit import Unit</span>
<a id="__codelineno-0-265" name="__codelineno-0-265"></a>
<a id="__codelineno-0-266" name="__codelineno-0-266"></a><span class="sd">    unit: Unit = self.units[0]</span>
<a id="__codelineno-0-267" name="__codelineno-0-267"></a><span class="sd">    target: Unit = self.enemies[0]</span>
<a id="__codelineno-0-268" name="__codelineno-0-268"></a>
<a id="__codelineno-0-269" name="__codelineno-0-269"></a><span class="sd">    range: float = cy_range_vs_target(unit, target)</span>
<a id="__codelineno-0-270" name="__codelineno-0-270"></a><span class="sd">    ```</span>
<a id="__codelineno-0-271" name="__codelineno-0-271"></a>
<a id="__codelineno-0-272" name="__codelineno-0-272"></a><span class="sd">    Args:</span>
<a id="__codelineno-0-273" name="__codelineno-0-273"></a><span class="sd">        unit: The unit we want to check.</span>
<a id="__codelineno-0-274" name="__codelineno-0-274"></a><span class="sd">        target: The target we want to check.</span>
<a id="__codelineno-0-275" name="__codelineno-0-275"></a>
<a id="__codelineno-0-276" name="__codelineno-0-276"></a><span class="sd">    Returns:</span>
<a id="__codelineno-0-277" name="__codelineno-0-277"></a><span class="sd">        The weapon range to the target</span>
<a id="__codelineno-0-278" name="__codelineno-0-278"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-279" name="__codelineno-0-279"></a>    <span class="o">...</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<a id="cython_extensions.dijkstra"></a>
    <div class="doc doc-contents first">










  <div class="doc doc-children">









<div class="doc doc-object doc-class">



<h2 id="cython_extensions.dijkstra.DijkstraOutput" class="doc doc-heading">
            <code>DijkstraOutput</code>


<a href="#cython_extensions.dijkstra.DijkstraOutput" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">


        <p>Result of Dijkstras algorithm containing distance and forward pointer grids.</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="cython_extensions.dijkstra.DijkstraOutput.forward_x">forward_x</span></code></td>
            <td>
                  <code><span title="numpy.ndarray">ndarray</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Forward pointer grid (x-coordinates).</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="cython_extensions.dijkstra.DijkstraOutput.forward_y">forward_y</span></code></td>
            <td>
                  <code><span title="numpy.ndarray">ndarray</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Forward pointer grid (y-coordinates).</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="cython_extensions.dijkstra.DijkstraOutput.distance">distance</span></code></td>
            <td>
                  <code><span title="numpy.ndarray">ndarray</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Distance grid.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>








              <details class="quote">
                <summary>Source code in <code>cython_extensions/dijkstra.pyi</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-0-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-0-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-0-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-0-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-0-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-0-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-0-10">10</a></span>
<span class="normal"><a href="#__codelineno-0-11">11</a></span>
<span class="normal"><a href="#__codelineno-0-12">12</a></span>
<span class="normal"><a href="#__codelineno-0-13">13</a></span>
<span class="normal"><a href="#__codelineno-0-14">14</a></span>
<span class="normal"><a href="#__codelineno-0-15">15</a></span>
<span class="normal"><a href="#__codelineno-0-16">16</a></span>
<span class="normal"><a href="#__codelineno-0-17">17</a></span>
<span class="normal"><a href="#__codelineno-0-18">18</a></span>
<span class="normal"><a href="#__codelineno-0-19">19</a></span>
<span class="normal"><a href="#__codelineno-0-20">20</a></span>
<span class="normal"><a href="#__codelineno-0-21">21</a></span>
<span class="normal"><a href="#__codelineno-0-22">22</a></span>
<span class="normal"><a href="#__codelineno-0-23">23</a></span>
<span class="normal"><a href="#__codelineno-0-24">24</a></span>
<span class="normal"><a href="#__codelineno-0-25">25</a></span>
<span class="normal"><a href="#__codelineno-0-26">26</a></span>
<span class="normal"><a href="#__codelineno-0-27">27</a></span>
<span class="normal"><a href="#__codelineno-0-28">28</a></span>
<span class="normal"><a href="#__codelineno-0-29">29</a></span>
<span class="normal"><a href="#__codelineno-0-30">30</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-3" name="__codelineno-0-3"></a><span class="k">class</span><span class="w"> </span><span class="nc">DijkstraOutput</span><span class="p">:</span>
<a id="__codelineno-0-4" name="__codelineno-0-4"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Result of Dijkstras algorithm containing distance and forward pointer grids.</span>
<a id="__codelineno-0-5" name="__codelineno-0-5"></a>
<a id="__codelineno-0-6" name="__codelineno-0-6"></a><span class="sd">    Attributes:</span>
<a id="__codelineno-0-7" name="__codelineno-0-7"></a><span class="sd">        forward_x: Forward pointer grid (x-coordinates).</span>
<a id="__codelineno-0-8" name="__codelineno-0-8"></a><span class="sd">        forward_y: Forward pointer grid (y-coordinates).</span>
<a id="__codelineno-0-9" name="__codelineno-0-9"></a><span class="sd">        distance: Distance grid.</span>
<a id="__codelineno-0-10" name="__codelineno-0-10"></a>
<a id="__codelineno-0-11" name="__codelineno-0-11"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-12" name="__codelineno-0-12"></a>
<a id="__codelineno-0-13" name="__codelineno-0-13"></a>    <span class="n">forward_x</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span>
<a id="__codelineno-0-14" name="__codelineno-0-14"></a>    <span class="n">forward_y</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span>
<a id="__codelineno-0-15" name="__codelineno-0-15"></a>    <span class="n">distance</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span>
<a id="__codelineno-0-16" name="__codelineno-0-16"></a>
<a id="__codelineno-0-17" name="__codelineno-0-17"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_path</span><span class="p">(</span>
<a id="__codelineno-0-18" name="__codelineno-0-18"></a>        <span class="bp">self</span><span class="p">,</span> <span class="n">source</span><span class="p">:</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">],</span> <span class="n">limit</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span>
<a id="__codelineno-0-19" name="__codelineno-0-19"></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">]]:</span>
<a id="__codelineno-0-20" name="__codelineno-0-20"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Follow the path from a given source using the forward pointer grids.</span>
<a id="__codelineno-0-21" name="__codelineno-0-21"></a>
<a id="__codelineno-0-22" name="__codelineno-0-22"></a><span class="sd">        Args:</span>
<a id="__codelineno-0-23" name="__codelineno-0-23"></a><span class="sd">            source: Start point.</span>
<a id="__codelineno-0-24" name="__codelineno-0-24"></a><span class="sd">            limit: Maximum length of the returned path. Defaults to 0 indicating no limit.</span>
<a id="__codelineno-0-25" name="__codelineno-0-25"></a>
<a id="__codelineno-0-26" name="__codelineno-0-26"></a><span class="sd">        Returns:</span>
<a id="__codelineno-0-27" name="__codelineno-0-27"></a><span class="sd">            The lowest cost path from source to any of the targets.</span>
<a id="__codelineno-0-28" name="__codelineno-0-28"></a>
<a id="__codelineno-0-29" name="__codelineno-0-29"></a><span class="sd">        &quot;&quot;&quot;</span>
<a id="__codelineno-0-30" name="__codelineno-0-30"></a>        <span class="o">...</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">










<div class="doc doc-object doc-function">


<h3 id="cython_extensions.dijkstra.DijkstraOutput.get_path" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_path</span><span class="p">(</span><span class="n">source</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span></code>

<a href="#cython_extensions.dijkstra.DijkstraOutput.get_path" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Follow the path from a given source using the forward pointer grids.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>source</code>
            </td>
            <td>
                  <code><span title="tuple">tuple</span>[<span title="int">int</span>, <span title="int">int</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Start point.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>limit</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Maximum length of the returned path. Defaults to 0 indicating no limit.</p>
              </div>
            </td>
            <td>
                  <code>0</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="list">list</span>[<span title="tuple">tuple</span>[<span title="int">int</span>, <span title="int">int</span>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The lowest cost path from source to any of the targets.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>cython_extensions/dijkstra.pyi</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-17">17</a></span>
<span class="normal"><a href="#__codelineno-0-18">18</a></span>
<span class="normal"><a href="#__codelineno-0-19">19</a></span>
<span class="normal"><a href="#__codelineno-0-20">20</a></span>
<span class="normal"><a href="#__codelineno-0-21">21</a></span>
<span class="normal"><a href="#__codelineno-0-22">22</a></span>
<span class="normal"><a href="#__codelineno-0-23">23</a></span>
<span class="normal"><a href="#__codelineno-0-24">24</a></span>
<span class="normal"><a href="#__codelineno-0-25">25</a></span>
<span class="normal"><a href="#__codelineno-0-26">26</a></span>
<span class="normal"><a href="#__codelineno-0-27">27</a></span>
<span class="normal"><a href="#__codelineno-0-28">28</a></span>
<span class="normal"><a href="#__codelineno-0-29">29</a></span>
<span class="normal"><a href="#__codelineno-0-30">30</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-17" name="__codelineno-0-17"></a><span class="k">def</span><span class="w"> </span><span class="nf">get_path</span><span class="p">(</span>
<a id="__codelineno-0-18" name="__codelineno-0-18"></a>    <span class="bp">self</span><span class="p">,</span> <span class="n">source</span><span class="p">:</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">],</span> <span class="n">limit</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span>
<a id="__codelineno-0-19" name="__codelineno-0-19"></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">]]:</span>
<a id="__codelineno-0-20" name="__codelineno-0-20"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Follow the path from a given source using the forward pointer grids.</span>
<a id="__codelineno-0-21" name="__codelineno-0-21"></a>
<a id="__codelineno-0-22" name="__codelineno-0-22"></a><span class="sd">    Args:</span>
<a id="__codelineno-0-23" name="__codelineno-0-23"></a><span class="sd">        source: Start point.</span>
<a id="__codelineno-0-24" name="__codelineno-0-24"></a><span class="sd">        limit: Maximum length of the returned path. Defaults to 0 indicating no limit.</span>
<a id="__codelineno-0-25" name="__codelineno-0-25"></a>
<a id="__codelineno-0-26" name="__codelineno-0-26"></a><span class="sd">    Returns:</span>
<a id="__codelineno-0-27" name="__codelineno-0-27"></a><span class="sd">        The lowest cost path from source to any of the targets.</span>
<a id="__codelineno-0-28" name="__codelineno-0-28"></a>
<a id="__codelineno-0-29" name="__codelineno-0-29"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-30" name="__codelineno-0-30"></a>    <span class="o">...</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>


<div class="doc doc-object doc-function">


<h2 id="cython_extensions.dijkstra.cy_dijkstra" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">cy_dijkstra</span><span class="p">(</span><span class="n">cost_grid</span><span class="p">,</span> <span class="n">targets</span><span class="p">,</span> <span class="n">checks_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code>

<a href="#cython_extensions.dijkstra.cy_dijkstra" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Run Dijkstras algorithm on a grid, yielding many-target-shortest paths for each position.</p>
<p>Example:
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="kn">from</span><span class="w"> </span><span class="nn">cython_extensions</span><span class="w"> </span><span class="kn">import</span> <span class="n">cy_dijkstra</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="n">targets</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">u</span><span class="o">.</span><span class="n">position</span><span class="o">.</span><span class="n">rounded</span> <span class="k">for</span> <span class="n">u</span> <span class="ow">in</span> <span class="n">bot</span><span class="o">.</span><span class="n">enemy_units</span><span class="p">],</span> <span class="n">np</span><span class="o">.</span><span class="n">intp</span><span class="p">)</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="n">cost</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">bot</span><span class="o">.</span><span class="n">game_info</span><span class="o">.</span><span class="n">pathing_grid</span><span class="o">.</span><span class="n">data_numpy</span><span class="o">.</span><span class="n">T</span> <span class="o">==</span> <span class="mi">1</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">inf</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">float64</span><span class="p">)</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="n">pathing</span> <span class="o">=</span> <span class="n">cy_dijkstra</span><span class="p">(</span><span class="n">cost</span><span class="p">,</span> <span class="n">targets</span><span class="p">)</span>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a>
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a><span class="k">for</span> <span class="n">unit</span> <span class="ow">in</span> <span class="n">bot</span><span class="o">.</span><span class="n">units</span><span class="p">:</span>
<a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a>    <span class="n">path</span> <span class="o">=</span> <span class="n">pathing</span><span class="o">.</span><span class="n">get_path</span><span class="p">(</span><span class="n">unit</span><span class="o">.</span><span class="n">position</span><span class="o">.</span><span class="n">rounded</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="mi">7</span><span class="p">)</span>  <span class="c1"># path limit is optional</span>
<a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a>    <span class="n">unit</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="n">Point2</span><span class="p">(</span><span class="n">path</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]))</span>
</code></pre></div></p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>cost_grid</code>
            </td>
            <td>
                  <code><span title="numpy.ndarray">ndarray</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Cost grid. Entries must be positive. Set unpathable cells to infinity.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>targets</code>
            </td>
            <td>
                  <code><span title="numpy.ndarray">ndarray</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Target array of shape (*, 2) containing x and y coordinates of the target points.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>checks_enabled</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Pass False to deactivate grid value and target coordinates checks. Defaults to True.</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="DijkstraOutput (cython_extensions.dijkstra.DijkstraOutput)" href="#cython_extensions.dijkstra.DijkstraOutput">DijkstraOutput</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Pathfinding object containing distances and pointer grids.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>cython_extensions/dijkstra.pyi</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-32">32</a></span>
<span class="normal"><a href="#__codelineno-0-33">33</a></span>
<span class="normal"><a href="#__codelineno-0-34">34</a></span>
<span class="normal"><a href="#__codelineno-0-35">35</a></span>
<span class="normal"><a href="#__codelineno-0-36">36</a></span>
<span class="normal"><a href="#__codelineno-0-37">37</a></span>
<span class="normal"><a href="#__codelineno-0-38">38</a></span>
<span class="normal"><a href="#__codelineno-0-39">39</a></span>
<span class="normal"><a href="#__codelineno-0-40">40</a></span>
<span class="normal"><a href="#__codelineno-0-41">41</a></span>
<span class="normal"><a href="#__codelineno-0-42">42</a></span>
<span class="normal"><a href="#__codelineno-0-43">43</a></span>
<span class="normal"><a href="#__codelineno-0-44">44</a></span>
<span class="normal"><a href="#__codelineno-0-45">45</a></span>
<span class="normal"><a href="#__codelineno-0-46">46</a></span>
<span class="normal"><a href="#__codelineno-0-47">47</a></span>
<span class="normal"><a href="#__codelineno-0-48">48</a></span>
<span class="normal"><a href="#__codelineno-0-49">49</a></span>
<span class="normal"><a href="#__codelineno-0-50">50</a></span>
<span class="normal"><a href="#__codelineno-0-51">51</a></span>
<span class="normal"><a href="#__codelineno-0-52">52</a></span>
<span class="normal"><a href="#__codelineno-0-53">53</a></span>
<span class="normal"><a href="#__codelineno-0-54">54</a></span>
<span class="normal"><a href="#__codelineno-0-55">55</a></span>
<span class="normal"><a href="#__codelineno-0-56">56</a></span>
<span class="normal"><a href="#__codelineno-0-57">57</a></span>
<span class="normal"><a href="#__codelineno-0-58">58</a></span>
<span class="normal"><a href="#__codelineno-0-59">59</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-32" name="__codelineno-0-32"></a><span class="k">def</span><span class="w"> </span><span class="nf">cy_dijkstra</span><span class="p">(</span>
<a id="__codelineno-0-33" name="__codelineno-0-33"></a>    <span class="n">cost_grid</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span> <span class="n">targets</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span> <span class="n">checks_enabled</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>
<a id="__codelineno-0-34" name="__codelineno-0-34"></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">DijkstraOutput</span><span class="p">:</span>
<a id="__codelineno-0-35" name="__codelineno-0-35"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Run Dijkstras algorithm on a grid, yielding many-target-shortest paths for each position.</span>
<a id="__codelineno-0-36" name="__codelineno-0-36"></a>
<a id="__codelineno-0-37" name="__codelineno-0-37"></a><span class="sd">    Example:</span>
<a id="__codelineno-0-38" name="__codelineno-0-38"></a><span class="sd">    ```py</span>
<a id="__codelineno-0-39" name="__codelineno-0-39"></a><span class="sd">    from cython_extensions import cy_dijkstra</span>
<a id="__codelineno-0-40" name="__codelineno-0-40"></a>
<a id="__codelineno-0-41" name="__codelineno-0-41"></a><span class="sd">    targets = np.array([u.position.rounded for u in bot.enemy_units], np.intp)</span>
<a id="__codelineno-0-42" name="__codelineno-0-42"></a><span class="sd">    cost = np.where(bot.game_info.pathing_grid.data_numpy.T == 1, 1.0, np.inf).astype(np.float64)</span>
<a id="__codelineno-0-43" name="__codelineno-0-43"></a><span class="sd">    pathing = cy_dijkstra(cost, targets)</span>
<a id="__codelineno-0-44" name="__codelineno-0-44"></a>
<a id="__codelineno-0-45" name="__codelineno-0-45"></a><span class="sd">    for unit in bot.units:</span>
<a id="__codelineno-0-46" name="__codelineno-0-46"></a><span class="sd">        path = pathing.get_path(unit.position.rounded, limit=7)  # path limit is optional</span>
<a id="__codelineno-0-47" name="__codelineno-0-47"></a><span class="sd">        unit.move(Point2(path[-1]))</span>
<a id="__codelineno-0-48" name="__codelineno-0-48"></a><span class="sd">    ```</span>
<a id="__codelineno-0-49" name="__codelineno-0-49"></a>
<a id="__codelineno-0-50" name="__codelineno-0-50"></a><span class="sd">    Args:</span>
<a id="__codelineno-0-51" name="__codelineno-0-51"></a><span class="sd">        cost_grid: Cost grid. Entries must be positive. Set unpathable cells to infinity.</span>
<a id="__codelineno-0-52" name="__codelineno-0-52"></a><span class="sd">        targets: Target array of shape (*, 2) containing x and y coordinates of the target points.</span>
<a id="__codelineno-0-53" name="__codelineno-0-53"></a><span class="sd">        checks_enabled: Pass False to deactivate grid value and target coordinates checks. Defaults to True.</span>
<a id="__codelineno-0-54" name="__codelineno-0-54"></a>
<a id="__codelineno-0-55" name="__codelineno-0-55"></a><span class="sd">    Returns:</span>
<a id="__codelineno-0-56" name="__codelineno-0-56"></a><span class="sd">        Pathfinding object containing distances and pointer grids.</span>
<a id="__codelineno-0-57" name="__codelineno-0-57"></a>
<a id="__codelineno-0-58" name="__codelineno-0-58"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-59" name="__codelineno-0-59"></a>    <span class="o">...</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<a id="cython_extensions.general_utils"></a>
    <div class="doc doc-contents first">










  <div class="doc doc-children">










<div class="doc doc-object doc-function">


<h2 id="cython_extensions.general_utils.cy_has_creep" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">cy_has_creep</span><span class="p">(</span><span class="n">creep_numpy_grid</span><span class="p">,</span> <span class="n">position</span><span class="p">)</span></code>

<a href="#cython_extensions.general_utils.cy_has_creep" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Check if a position has creep.</p>
<p>Example:
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="kn">from</span><span class="w"> </span><span class="nn">cython_functions</span><span class="w"> </span><span class="kn">import</span> <span class="n">cy_has_creep</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="kn">from</span><span class="w"> </span><span class="nn">sc2.position</span><span class="w"> </span><span class="kn">import</span> <span class="n">Point2</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="n">position</span><span class="p">:</span> <span class="n">Point2</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">start_location</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a><span class="n">has_creep</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="n">cy_has_creep</span><span class="p">(</span>
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">state</span><span class="o">.</span><span class="n">creep</span><span class="o">.</span><span class="n">data_numpy</span><span class="p">,</span>
<a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a>    <span class="n">position</span>
<a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a><span class="p">)</span>
</code></pre></div></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>243 ns ± 4.4 ns per loop (mean ± std. dev. of 7 runs, 1,000,000 loops each)
</code></pre></div>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>creep_numpy_grid</code>
            </td>
            <td>
                  <code><span title="numpy.ndarray">ndarray</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Position to check for power.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>position</code>
            </td>
            <td>
                  <code><span title="sc2.position.Point2">Point2</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The pylons we want to check.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>True if <code>position</code> has creep, False otherwise.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>cython_extensions/general_utils.pyi</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-0-10">10</a></span>
<span class="normal"><a href="#__codelineno-0-11">11</a></span>
<span class="normal"><a href="#__codelineno-0-12">12</a></span>
<span class="normal"><a href="#__codelineno-0-13">13</a></span>
<span class="normal"><a href="#__codelineno-0-14">14</a></span>
<span class="normal"><a href="#__codelineno-0-15">15</a></span>
<span class="normal"><a href="#__codelineno-0-16">16</a></span>
<span class="normal"><a href="#__codelineno-0-17">17</a></span>
<span class="normal"><a href="#__codelineno-0-18">18</a></span>
<span class="normal"><a href="#__codelineno-0-19">19</a></span>
<span class="normal"><a href="#__codelineno-0-20">20</a></span>
<span class="normal"><a href="#__codelineno-0-21">21</a></span>
<span class="normal"><a href="#__codelineno-0-22">22</a></span>
<span class="normal"><a href="#__codelineno-0-23">23</a></span>
<span class="normal"><a href="#__codelineno-0-24">24</a></span>
<span class="normal"><a href="#__codelineno-0-25">25</a></span>
<span class="normal"><a href="#__codelineno-0-26">26</a></span>
<span class="normal"><a href="#__codelineno-0-27">27</a></span>
<span class="normal"><a href="#__codelineno-0-28">28</a></span>
<span class="normal"><a href="#__codelineno-0-29">29</a></span>
<span class="normal"><a href="#__codelineno-0-30">30</a></span>
<span class="normal"><a href="#__codelineno-0-31">31</a></span>
<span class="normal"><a href="#__codelineno-0-32">32</a></span>
<span class="normal"><a href="#__codelineno-0-33">33</a></span>
<span class="normal"><a href="#__codelineno-0-34">34</a></span>
<span class="normal"><a href="#__codelineno-0-35">35</a></span>
<span class="normal"><a href="#__codelineno-0-36">36</a></span>
<span class="normal"><a href="#__codelineno-0-37">37</a></span>
<span class="normal"><a href="#__codelineno-0-38">38</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-9" name="__codelineno-0-9"></a><span class="k">def</span><span class="w"> </span><span class="nf">cy_has_creep</span><span class="p">(</span><span class="n">creep_numpy_grid</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span> <span class="n">position</span><span class="p">:</span> <span class="n">Point2</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<a id="__codelineno-0-10" name="__codelineno-0-10"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-11" name="__codelineno-0-11"></a><span class="sd">    Check if a position has creep.</span>
<a id="__codelineno-0-12" name="__codelineno-0-12"></a>
<a id="__codelineno-0-13" name="__codelineno-0-13"></a><span class="sd">    Example:</span>
<a id="__codelineno-0-14" name="__codelineno-0-14"></a><span class="sd">    ```py</span>
<a id="__codelineno-0-15" name="__codelineno-0-15"></a><span class="sd">    from cython_functions import cy_has_creep</span>
<a id="__codelineno-0-16" name="__codelineno-0-16"></a><span class="sd">    from sc2.position import Point2</span>
<a id="__codelineno-0-17" name="__codelineno-0-17"></a>
<a id="__codelineno-0-18" name="__codelineno-0-18"></a><span class="sd">    position: Point2 = self.start_location</span>
<a id="__codelineno-0-19" name="__codelineno-0-19"></a>
<a id="__codelineno-0-20" name="__codelineno-0-20"></a><span class="sd">    has_creep: bool = cy_has_creep(</span>
<a id="__codelineno-0-21" name="__codelineno-0-21"></a><span class="sd">        self.state.creep.data_numpy,</span>
<a id="__codelineno-0-22" name="__codelineno-0-22"></a><span class="sd">        position</span>
<a id="__codelineno-0-23" name="__codelineno-0-23"></a><span class="sd">    )</span>
<a id="__codelineno-0-24" name="__codelineno-0-24"></a><span class="sd">    ```</span>
<a id="__codelineno-0-25" name="__codelineno-0-25"></a>
<a id="__codelineno-0-26" name="__codelineno-0-26"></a><span class="sd">    ```</span>
<a id="__codelineno-0-27" name="__codelineno-0-27"></a><span class="sd">    243 ns ± 4.4 ns per loop (mean ± std. dev. of 7 runs, 1,000,000 loops each)</span>
<a id="__codelineno-0-28" name="__codelineno-0-28"></a><span class="sd">    ```</span>
<a id="__codelineno-0-29" name="__codelineno-0-29"></a>
<a id="__codelineno-0-30" name="__codelineno-0-30"></a><span class="sd">    Args:</span>
<a id="__codelineno-0-31" name="__codelineno-0-31"></a><span class="sd">        creep_numpy_grid: Position to check for power.</span>
<a id="__codelineno-0-32" name="__codelineno-0-32"></a><span class="sd">        position: The pylons we want to check.</span>
<a id="__codelineno-0-33" name="__codelineno-0-33"></a>
<a id="__codelineno-0-34" name="__codelineno-0-34"></a>
<a id="__codelineno-0-35" name="__codelineno-0-35"></a><span class="sd">    Returns:</span>
<a id="__codelineno-0-36" name="__codelineno-0-36"></a><span class="sd">        True if `position` has creep, False otherwise.</span>
<a id="__codelineno-0-37" name="__codelineno-0-37"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-38" name="__codelineno-0-38"></a>    <span class="o">...</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="cython_extensions.general_utils.cy_in_pathing_grid_burny" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">cy_in_pathing_grid_burny</span><span class="p">(</span><span class="n">pathing_numpy_grid</span><span class="p">,</span> <span class="n">position</span><span class="p">)</span></code>

<a href="#cython_extensions.general_utils.cy_in_pathing_grid_burny" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Check if a position is pathable. This is optimized for use with
the numpy pathing grid found in burnysc2.
<code>self.game_info.pathing_grid.data_numpy</code> which only contains
0s and 1s.</p>
<p>This is a fast replacement for <code>self.in_pathing_grid(position)</code> function
in burnysc2.</p>
<p>If using MapAnalyzer grids or some other type of numpy grid,
check out <code>cy_in_pathing_grid_ma</code> instead/</p>
<p>Example using burny sc2:
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="kn">from</span><span class="w"> </span><span class="nn">cython_functions</span><span class="w"> </span><span class="kn">import</span> <span class="n">cy_in_pathing_grid_burny</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="kn">from</span><span class="w"> </span><span class="nn">sc2.position</span><span class="w"> </span><span class="kn">import</span> <span class="n">Point2</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="n">position</span><span class="p">:</span> <span class="n">Point2</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">start_location</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a><span class="n">is_pathable</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="n">cy_in_pathing_grid_burny</span><span class="p">(</span>
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">game_info</span><span class="o">.</span><span class="n">pathing_grid</span><span class="o">.</span><span class="n">data_numpy</span><span class="p">,</span>
<a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a>    <span class="n">position</span>
<a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a><span class="p">)</span>
</code></pre></div></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>243 ns ± 1.51 ns per loop (mean ± std. dev. of 7 runs, 1,000,000 loops each)
</code></pre></div>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>pathing_numpy_grid</code>
            </td>
            <td>
                  <code><span title="numpy.ndarray">ndarray</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The 2D grid to check on.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>position</code>
            </td>
            <td>
                  <code><span title="sc2.position.Point2">Point2</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The postions we want to check.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>True if <code>position</code> is pathable, False otherwise.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>cython_extensions/general_utils.pyi</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-76"> 76</a></span>
<span class="normal"><a href="#__codelineno-0-77"> 77</a></span>
<span class="normal"><a href="#__codelineno-0-78"> 78</a></span>
<span class="normal"><a href="#__codelineno-0-79"> 79</a></span>
<span class="normal"><a href="#__codelineno-0-80"> 80</a></span>
<span class="normal"><a href="#__codelineno-0-81"> 81</a></span>
<span class="normal"><a href="#__codelineno-0-82"> 82</a></span>
<span class="normal"><a href="#__codelineno-0-83"> 83</a></span>
<span class="normal"><a href="#__codelineno-0-84"> 84</a></span>
<span class="normal"><a href="#__codelineno-0-85"> 85</a></span>
<span class="normal"><a href="#__codelineno-0-86"> 86</a></span>
<span class="normal"><a href="#__codelineno-0-87"> 87</a></span>
<span class="normal"><a href="#__codelineno-0-88"> 88</a></span>
<span class="normal"><a href="#__codelineno-0-89"> 89</a></span>
<span class="normal"><a href="#__codelineno-0-90"> 90</a></span>
<span class="normal"><a href="#__codelineno-0-91"> 91</a></span>
<span class="normal"><a href="#__codelineno-0-92"> 92</a></span>
<span class="normal"><a href="#__codelineno-0-93"> 93</a></span>
<span class="normal"><a href="#__codelineno-0-94"> 94</a></span>
<span class="normal"><a href="#__codelineno-0-95"> 95</a></span>
<span class="normal"><a href="#__codelineno-0-96"> 96</a></span>
<span class="normal"><a href="#__codelineno-0-97"> 97</a></span>
<span class="normal"><a href="#__codelineno-0-98"> 98</a></span>
<span class="normal"><a href="#__codelineno-0-99"> 99</a></span>
<span class="normal"><a href="#__codelineno-0-100">100</a></span>
<span class="normal"><a href="#__codelineno-0-101">101</a></span>
<span class="normal"><a href="#__codelineno-0-102">102</a></span>
<span class="normal"><a href="#__codelineno-0-103">103</a></span>
<span class="normal"><a href="#__codelineno-0-104">104</a></span>
<span class="normal"><a href="#__codelineno-0-105">105</a></span>
<span class="normal"><a href="#__codelineno-0-106">106</a></span>
<span class="normal"><a href="#__codelineno-0-107">107</a></span>
<span class="normal"><a href="#__codelineno-0-108">108</a></span>
<span class="normal"><a href="#__codelineno-0-109">109</a></span>
<span class="normal"><a href="#__codelineno-0-110">110</a></span>
<span class="normal"><a href="#__codelineno-0-111">111</a></span>
<span class="normal"><a href="#__codelineno-0-112">112</a></span>
<span class="normal"><a href="#__codelineno-0-113">113</a></span>
<span class="normal"><a href="#__codelineno-0-114">114</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-76" name="__codelineno-0-76"></a><span class="k">def</span><span class="w"> </span><span class="nf">cy_in_pathing_grid_burny</span><span class="p">(</span><span class="n">pathing_numpy_grid</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span> <span class="n">position</span><span class="p">:</span> <span class="n">Point2</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<a id="__codelineno-0-77" name="__codelineno-0-77"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-78" name="__codelineno-0-78"></a><span class="sd">    Check if a position is pathable. This is optimized for use with</span>
<a id="__codelineno-0-79" name="__codelineno-0-79"></a><span class="sd">    the numpy pathing grid found in burnysc2.</span>
<a id="__codelineno-0-80" name="__codelineno-0-80"></a><span class="sd">    `self.game_info.pathing_grid.data_numpy` which only contains</span>
<a id="__codelineno-0-81" name="__codelineno-0-81"></a><span class="sd">    0s and 1s.</span>
<a id="__codelineno-0-82" name="__codelineno-0-82"></a>
<a id="__codelineno-0-83" name="__codelineno-0-83"></a><span class="sd">    This is a fast replacement for `self.in_pathing_grid(position)` function</span>
<a id="__codelineno-0-84" name="__codelineno-0-84"></a><span class="sd">    in burnysc2.</span>
<a id="__codelineno-0-85" name="__codelineno-0-85"></a>
<a id="__codelineno-0-86" name="__codelineno-0-86"></a><span class="sd">    If using MapAnalyzer grids or some other type of numpy grid,</span>
<a id="__codelineno-0-87" name="__codelineno-0-87"></a><span class="sd">    check out `cy_in_pathing_grid_ma` instead/</span>
<a id="__codelineno-0-88" name="__codelineno-0-88"></a>
<a id="__codelineno-0-89" name="__codelineno-0-89"></a><span class="sd">    Example using burny sc2:</span>
<a id="__codelineno-0-90" name="__codelineno-0-90"></a><span class="sd">    ```py</span>
<a id="__codelineno-0-91" name="__codelineno-0-91"></a><span class="sd">    from cython_functions import cy_in_pathing_grid_burny</span>
<a id="__codelineno-0-92" name="__codelineno-0-92"></a><span class="sd">    from sc2.position import Point2</span>
<a id="__codelineno-0-93" name="__codelineno-0-93"></a>
<a id="__codelineno-0-94" name="__codelineno-0-94"></a><span class="sd">    position: Point2 = self.start_location</span>
<a id="__codelineno-0-95" name="__codelineno-0-95"></a>
<a id="__codelineno-0-96" name="__codelineno-0-96"></a><span class="sd">    is_pathable: bool = cy_in_pathing_grid_burny(</span>
<a id="__codelineno-0-97" name="__codelineno-0-97"></a><span class="sd">        self.game_info.pathing_grid.data_numpy,</span>
<a id="__codelineno-0-98" name="__codelineno-0-98"></a><span class="sd">        position</span>
<a id="__codelineno-0-99" name="__codelineno-0-99"></a><span class="sd">    )</span>
<a id="__codelineno-0-100" name="__codelineno-0-100"></a><span class="sd">    ```</span>
<a id="__codelineno-0-101" name="__codelineno-0-101"></a>
<a id="__codelineno-0-102" name="__codelineno-0-102"></a><span class="sd">    ```</span>
<a id="__codelineno-0-103" name="__codelineno-0-103"></a><span class="sd">    243 ns ± 1.51 ns per loop (mean ± std. dev. of 7 runs, 1,000,000 loops each)</span>
<a id="__codelineno-0-104" name="__codelineno-0-104"></a><span class="sd">    ```</span>
<a id="__codelineno-0-105" name="__codelineno-0-105"></a>
<a id="__codelineno-0-106" name="__codelineno-0-106"></a><span class="sd">    Args:</span>
<a id="__codelineno-0-107" name="__codelineno-0-107"></a><span class="sd">        pathing_numpy_grid: The 2D grid to check on.</span>
<a id="__codelineno-0-108" name="__codelineno-0-108"></a><span class="sd">        position: The postions we want to check.</span>
<a id="__codelineno-0-109" name="__codelineno-0-109"></a>
<a id="__codelineno-0-110" name="__codelineno-0-110"></a>
<a id="__codelineno-0-111" name="__codelineno-0-111"></a><span class="sd">    Returns:</span>
<a id="__codelineno-0-112" name="__codelineno-0-112"></a><span class="sd">        True if `position` is pathable, False otherwise.</span>
<a id="__codelineno-0-113" name="__codelineno-0-113"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-114" name="__codelineno-0-114"></a>    <span class="o">...</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="cython_extensions.general_utils.cy_in_pathing_grid_ma" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">cy_in_pathing_grid_ma</span><span class="p">(</span><span class="n">pathing_numpy_grid</span><span class="p">,</span> <span class="n">position</span><span class="p">)</span></code>

<a href="#cython_extensions.general_utils.cy_in_pathing_grid_ma" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Check if a position is pathable. This is optimized for use with
numpy pathing grids from MapAnalyzer that contain enemy influence.
The grids passed in here are already transposed vs the burnysc2
default pathing grid.
This may work with other custom numpy pathing grids that contain float values.</p>
<p>Example using ares sc2 (which has MapAnalyzer grids):
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="kn">from</span><span class="w"> </span><span class="nn">cython_functions</span><span class="w"> </span><span class="kn">import</span> <span class="n">cy_in_pathing_grid_ma</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="kn">from</span><span class="w"> </span><span class="nn">sc2.position</span><span class="w"> </span><span class="kn">import</span> <span class="n">Point2</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="n">position</span><span class="p">:</span> <span class="n">Point2</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">start_location</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="c1"># ares function to get pathing grid containing enemy influence</span>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a><span class="n">grid</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">mediator</span><span class="o">.</span><span class="n">get_ground_grid</span>
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a>
<a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a><span class="n">is_pathable</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="n">cy_in_pathing_grid_ma</span><span class="p">(</span>
<a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a>    <span class="n">grid</span><span class="p">,</span> <span class="n">position</span>
<a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a><span class="p">)</span>
</code></pre></div></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>243 ns ± 1.51 ns per loop (mean ± std. dev. of 7 runs, 1,000,000 loops each)
</code></pre></div>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>pathing_numpy_grid</code>
            </td>
            <td>
                  <code><span title="numpy.ndarray">ndarray</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The 2D grid to check on.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>position</code>
            </td>
            <td>
                  <code><span title="sc2.position.Point2">Point2</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The postions we want to check.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>True if <code>position</code> is pathable, False otherwise.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>cython_extensions/general_utils.pyi</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-40">40</a></span>
<span class="normal"><a href="#__codelineno-0-41">41</a></span>
<span class="normal"><a href="#__codelineno-0-42">42</a></span>
<span class="normal"><a href="#__codelineno-0-43">43</a></span>
<span class="normal"><a href="#__codelineno-0-44">44</a></span>
<span class="normal"><a href="#__codelineno-0-45">45</a></span>
<span class="normal"><a href="#__codelineno-0-46">46</a></span>
<span class="normal"><a href="#__codelineno-0-47">47</a></span>
<span class="normal"><a href="#__codelineno-0-48">48</a></span>
<span class="normal"><a href="#__codelineno-0-49">49</a></span>
<span class="normal"><a href="#__codelineno-0-50">50</a></span>
<span class="normal"><a href="#__codelineno-0-51">51</a></span>
<span class="normal"><a href="#__codelineno-0-52">52</a></span>
<span class="normal"><a href="#__codelineno-0-53">53</a></span>
<span class="normal"><a href="#__codelineno-0-54">54</a></span>
<span class="normal"><a href="#__codelineno-0-55">55</a></span>
<span class="normal"><a href="#__codelineno-0-56">56</a></span>
<span class="normal"><a href="#__codelineno-0-57">57</a></span>
<span class="normal"><a href="#__codelineno-0-58">58</a></span>
<span class="normal"><a href="#__codelineno-0-59">59</a></span>
<span class="normal"><a href="#__codelineno-0-60">60</a></span>
<span class="normal"><a href="#__codelineno-0-61">61</a></span>
<span class="normal"><a href="#__codelineno-0-62">62</a></span>
<span class="normal"><a href="#__codelineno-0-63">63</a></span>
<span class="normal"><a href="#__codelineno-0-64">64</a></span>
<span class="normal"><a href="#__codelineno-0-65">65</a></span>
<span class="normal"><a href="#__codelineno-0-66">66</a></span>
<span class="normal"><a href="#__codelineno-0-67">67</a></span>
<span class="normal"><a href="#__codelineno-0-68">68</a></span>
<span class="normal"><a href="#__codelineno-0-69">69</a></span>
<span class="normal"><a href="#__codelineno-0-70">70</a></span>
<span class="normal"><a href="#__codelineno-0-71">71</a></span>
<span class="normal"><a href="#__codelineno-0-72">72</a></span>
<span class="normal"><a href="#__codelineno-0-73">73</a></span>
<span class="normal"><a href="#__codelineno-0-74">74</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-40" name="__codelineno-0-40"></a><span class="k">def</span><span class="w"> </span><span class="nf">cy_in_pathing_grid_ma</span><span class="p">(</span><span class="n">pathing_numpy_grid</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span> <span class="n">position</span><span class="p">:</span> <span class="n">Point2</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<a id="__codelineno-0-41" name="__codelineno-0-41"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-42" name="__codelineno-0-42"></a><span class="sd">    Check if a position is pathable. This is optimized for use with</span>
<a id="__codelineno-0-43" name="__codelineno-0-43"></a><span class="sd">    numpy pathing grids from MapAnalyzer that contain enemy influence.</span>
<a id="__codelineno-0-44" name="__codelineno-0-44"></a><span class="sd">    The grids passed in here are already transposed vs the burnysc2</span>
<a id="__codelineno-0-45" name="__codelineno-0-45"></a><span class="sd">    default pathing grid.</span>
<a id="__codelineno-0-46" name="__codelineno-0-46"></a><span class="sd">    This may work with other custom numpy pathing grids that contain float values.</span>
<a id="__codelineno-0-47" name="__codelineno-0-47"></a>
<a id="__codelineno-0-48" name="__codelineno-0-48"></a><span class="sd">    Example using ares sc2 (which has MapAnalyzer grids):</span>
<a id="__codelineno-0-49" name="__codelineno-0-49"></a><span class="sd">    ```py</span>
<a id="__codelineno-0-50" name="__codelineno-0-50"></a><span class="sd">    from cython_functions import cy_in_pathing_grid_ma</span>
<a id="__codelineno-0-51" name="__codelineno-0-51"></a><span class="sd">    from sc2.position import Point2</span>
<a id="__codelineno-0-52" name="__codelineno-0-52"></a>
<a id="__codelineno-0-53" name="__codelineno-0-53"></a><span class="sd">    position: Point2 = self.start_location</span>
<a id="__codelineno-0-54" name="__codelineno-0-54"></a><span class="sd">    # ares function to get pathing grid containing enemy influence</span>
<a id="__codelineno-0-55" name="__codelineno-0-55"></a><span class="sd">    grid: np.ndarray = self.mediator.get_ground_grid</span>
<a id="__codelineno-0-56" name="__codelineno-0-56"></a>
<a id="__codelineno-0-57" name="__codelineno-0-57"></a><span class="sd">    is_pathable: bool = cy_in_pathing_grid_ma(</span>
<a id="__codelineno-0-58" name="__codelineno-0-58"></a><span class="sd">        grid, position</span>
<a id="__codelineno-0-59" name="__codelineno-0-59"></a><span class="sd">    )</span>
<a id="__codelineno-0-60" name="__codelineno-0-60"></a><span class="sd">    ```</span>
<a id="__codelineno-0-61" name="__codelineno-0-61"></a>
<a id="__codelineno-0-62" name="__codelineno-0-62"></a><span class="sd">    ```</span>
<a id="__codelineno-0-63" name="__codelineno-0-63"></a><span class="sd">    243 ns ± 1.51 ns per loop (mean ± std. dev. of 7 runs, 1,000,000 loops each)</span>
<a id="__codelineno-0-64" name="__codelineno-0-64"></a><span class="sd">    ```</span>
<a id="__codelineno-0-65" name="__codelineno-0-65"></a>
<a id="__codelineno-0-66" name="__codelineno-0-66"></a><span class="sd">    Args:</span>
<a id="__codelineno-0-67" name="__codelineno-0-67"></a><span class="sd">        pathing_numpy_grid: The 2D grid to check on.</span>
<a id="__codelineno-0-68" name="__codelineno-0-68"></a><span class="sd">        position: The postions we want to check.</span>
<a id="__codelineno-0-69" name="__codelineno-0-69"></a>
<a id="__codelineno-0-70" name="__codelineno-0-70"></a>
<a id="__codelineno-0-71" name="__codelineno-0-71"></a><span class="sd">    Returns:</span>
<a id="__codelineno-0-72" name="__codelineno-0-72"></a><span class="sd">        True if `position` is pathable, False otherwise.</span>
<a id="__codelineno-0-73" name="__codelineno-0-73"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-74" name="__codelineno-0-74"></a>    <span class="o">...</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="cython_extensions.general_utils.cy_pylon_matrix_covers" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">cy_pylon_matrix_covers</span><span class="p">(</span><span class="n">position</span><span class="p">,</span> <span class="n">pylons</span><span class="p">,</span> <span class="n">height_grid</span><span class="p">,</span> <span class="n">pylon_build_progress</span><span class="o">=</span><span class="mf">1.0</span><span class="p">)</span></code>

<a href="#cython_extensions.general_utils.cy_pylon_matrix_covers" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Check if a position is powered by a pylon.</p>
<p>Example:
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="kn">from</span><span class="w"> </span><span class="nn">cython_functions</span><span class="w"> </span><span class="kn">import</span> <span class="n">cy_pylon_matrix_covers</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="kn">from</span><span class="w"> </span><span class="nn">sc2.position</span><span class="w"> </span><span class="kn">import</span> <span class="n">Point2</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="c1"># check if start location is powered by pylon</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="n">position</span><span class="p">:</span> <span class="n">Point2</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">start_location</span>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a>
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a><span class="n">can_place_structure_here</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="n">cy_pylon_matrix_covers</span><span class="p">(</span>
<a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a>    <span class="n">position</span><span class="p">,</span>
<a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">structures</span><span class="p">(</span><span class="n">UnitTypeId</span><span class="o">.</span><span class="n">PYLON</span><span class="p">),</span>
<a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">game_info</span><span class="o">.</span><span class="n">terrain_height</span><span class="o">.</span><span class="n">data_numpy</span>
<a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a><span class="p">)</span>
</code></pre></div></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>1.85 µs ± 8.72 ns per loop (mean ± std. dev. of 7 runs, 1,000,000 loops each)
</code></pre></div>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>position</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="sc2.position.Point2">Point2</span>, <span title="tuple">tuple</span>[<span title="float">float</span>, <span title="float">float</span>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Position to check for power.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>pylons</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="sc2.units.Units">Units</span>, <span title="list">list</span>[<span title="sc2.unit.Unit">Unit</span>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The pylons we want to check.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>height_grid</code>
            </td>
            <td>
                  <code><span title="numpy.ndarray">ndarray</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Height grid supplied from <code>python-sc2</code> as a numpy array.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>pylon_build_progress</code>
            </td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="float">float</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If less than 1.0, check near pending pylons.
Default is 1.0.</p>
              </div>
            </td>
            <td>
                  <code>1.0</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>True if <code>position</code> has power, False otherwise.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>cython_extensions/general_utils.pyi</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-116">116</a></span>
<span class="normal"><a href="#__codelineno-0-117">117</a></span>
<span class="normal"><a href="#__codelineno-0-118">118</a></span>
<span class="normal"><a href="#__codelineno-0-119">119</a></span>
<span class="normal"><a href="#__codelineno-0-120">120</a></span>
<span class="normal"><a href="#__codelineno-0-121">121</a></span>
<span class="normal"><a href="#__codelineno-0-122">122</a></span>
<span class="normal"><a href="#__codelineno-0-123">123</a></span>
<span class="normal"><a href="#__codelineno-0-124">124</a></span>
<span class="normal"><a href="#__codelineno-0-125">125</a></span>
<span class="normal"><a href="#__codelineno-0-126">126</a></span>
<span class="normal"><a href="#__codelineno-0-127">127</a></span>
<span class="normal"><a href="#__codelineno-0-128">128</a></span>
<span class="normal"><a href="#__codelineno-0-129">129</a></span>
<span class="normal"><a href="#__codelineno-0-130">130</a></span>
<span class="normal"><a href="#__codelineno-0-131">131</a></span>
<span class="normal"><a href="#__codelineno-0-132">132</a></span>
<span class="normal"><a href="#__codelineno-0-133">133</a></span>
<span class="normal"><a href="#__codelineno-0-134">134</a></span>
<span class="normal"><a href="#__codelineno-0-135">135</a></span>
<span class="normal"><a href="#__codelineno-0-136">136</a></span>
<span class="normal"><a href="#__codelineno-0-137">137</a></span>
<span class="normal"><a href="#__codelineno-0-138">138</a></span>
<span class="normal"><a href="#__codelineno-0-139">139</a></span>
<span class="normal"><a href="#__codelineno-0-140">140</a></span>
<span class="normal"><a href="#__codelineno-0-141">141</a></span>
<span class="normal"><a href="#__codelineno-0-142">142</a></span>
<span class="normal"><a href="#__codelineno-0-143">143</a></span>
<span class="normal"><a href="#__codelineno-0-144">144</a></span>
<span class="normal"><a href="#__codelineno-0-145">145</a></span>
<span class="normal"><a href="#__codelineno-0-146">146</a></span>
<span class="normal"><a href="#__codelineno-0-147">147</a></span>
<span class="normal"><a href="#__codelineno-0-148">148</a></span>
<span class="normal"><a href="#__codelineno-0-149">149</a></span>
<span class="normal"><a href="#__codelineno-0-150">150</a></span>
<span class="normal"><a href="#__codelineno-0-151">151</a></span>
<span class="normal"><a href="#__codelineno-0-152">152</a></span>
<span class="normal"><a href="#__codelineno-0-153">153</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-116" name="__codelineno-0-116"></a><span class="k">def</span><span class="w"> </span><span class="nf">cy_pylon_matrix_covers</span><span class="p">(</span>
<a id="__codelineno-0-117" name="__codelineno-0-117"></a>    <span class="n">position</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Point2</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">]],</span>
<a id="__codelineno-0-118" name="__codelineno-0-118"></a>    <span class="n">pylons</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Units</span><span class="p">,</span> <span class="nb">list</span><span class="p">[</span><span class="n">Unit</span><span class="p">]],</span>
<a id="__codelineno-0-119" name="__codelineno-0-119"></a>    <span class="n">height_grid</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span>
<a id="__codelineno-0-120" name="__codelineno-0-120"></a>    <span class="n">pylon_build_progress</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="mf">1.0</span><span class="p">,</span>
<a id="__codelineno-0-121" name="__codelineno-0-121"></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<a id="__codelineno-0-122" name="__codelineno-0-122"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Check if a position is powered by a pylon.</span>
<a id="__codelineno-0-123" name="__codelineno-0-123"></a>
<a id="__codelineno-0-124" name="__codelineno-0-124"></a><span class="sd">    Example:</span>
<a id="__codelineno-0-125" name="__codelineno-0-125"></a><span class="sd">    ```py</span>
<a id="__codelineno-0-126" name="__codelineno-0-126"></a><span class="sd">    from cython_functions import cy_pylon_matrix_covers</span>
<a id="__codelineno-0-127" name="__codelineno-0-127"></a><span class="sd">    from sc2.position import Point2</span>
<a id="__codelineno-0-128" name="__codelineno-0-128"></a>
<a id="__codelineno-0-129" name="__codelineno-0-129"></a><span class="sd">    # check if start location is powered by pylon</span>
<a id="__codelineno-0-130" name="__codelineno-0-130"></a><span class="sd">    position: Point2 = self.start_location</span>
<a id="__codelineno-0-131" name="__codelineno-0-131"></a>
<a id="__codelineno-0-132" name="__codelineno-0-132"></a><span class="sd">    can_place_structure_here: bool = cy_pylon_matrix_covers(</span>
<a id="__codelineno-0-133" name="__codelineno-0-133"></a><span class="sd">        position,</span>
<a id="__codelineno-0-134" name="__codelineno-0-134"></a><span class="sd">        self.structures(UnitTypeId.PYLON),</span>
<a id="__codelineno-0-135" name="__codelineno-0-135"></a><span class="sd">        self.game_info.terrain_height.data_numpy</span>
<a id="__codelineno-0-136" name="__codelineno-0-136"></a><span class="sd">    )</span>
<a id="__codelineno-0-137" name="__codelineno-0-137"></a><span class="sd">    ```</span>
<a id="__codelineno-0-138" name="__codelineno-0-138"></a>
<a id="__codelineno-0-139" name="__codelineno-0-139"></a><span class="sd">    ```</span>
<a id="__codelineno-0-140" name="__codelineno-0-140"></a><span class="sd">    1.85 µs ± 8.72 ns per loop (mean ± std. dev. of 7 runs, 1,000,000 loops each)</span>
<a id="__codelineno-0-141" name="__codelineno-0-141"></a><span class="sd">    ```</span>
<a id="__codelineno-0-142" name="__codelineno-0-142"></a>
<a id="__codelineno-0-143" name="__codelineno-0-143"></a><span class="sd">    Args:</span>
<a id="__codelineno-0-144" name="__codelineno-0-144"></a><span class="sd">        position: Position to check for power.</span>
<a id="__codelineno-0-145" name="__codelineno-0-145"></a><span class="sd">        pylons: The pylons we want to check.</span>
<a id="__codelineno-0-146" name="__codelineno-0-146"></a><span class="sd">        height_grid: Height grid supplied from `python-sc2` as a numpy array.</span>
<a id="__codelineno-0-147" name="__codelineno-0-147"></a><span class="sd">        pylon_build_progress: If less than 1.0, check near pending pylons.</span>
<a id="__codelineno-0-148" name="__codelineno-0-148"></a><span class="sd">            Default is 1.0.</span>
<a id="__codelineno-0-149" name="__codelineno-0-149"></a>
<a id="__codelineno-0-150" name="__codelineno-0-150"></a><span class="sd">    Returns:</span>
<a id="__codelineno-0-151" name="__codelineno-0-151"></a><span class="sd">        True if `position` has power, False otherwise.</span>
<a id="__codelineno-0-152" name="__codelineno-0-152"></a>
<a id="__codelineno-0-153" name="__codelineno-0-153"></a><span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="cython_extensions.general_utils.cy_unit_pending" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">cy_unit_pending</span><span class="p">(</span><span class="n">ai</span><span class="p">,</span> <span class="n">unit_type</span><span class="p">)</span></code>

<a href="#cython_extensions.general_utils.cy_unit_pending" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Check how many unit_type are pending.</p>
<p>Faster unit specific alternative to <code>python-sc2</code>'s <code>already_pending</code></p>
<p>Example:
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="kn">from</span><span class="w"> </span><span class="nn">cython_functions</span><span class="w"> </span><span class="kn">import</span> <span class="n">cy_unit_pending</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="kn">from</span><span class="w"> </span><span class="nn">sc2.ids.unit_typeid</span><span class="w"> </span><span class="kn">import</span> <span class="n">UnitTypeId</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="n">num_marines_pending</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">cy_unit_pending</span><span class="p">(</span><span class="n">UnitTypeId</span><span class="o">.</span><span class="n">MARINE</span><span class="p">)</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>453 ns ± 9.35 ns per loop (mean ± std. dev. of 7 runs, 1,000,000 loops each)
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a>
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a>Python-sc2 `already_pending` alternative:
<a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a>2.82 µs ± 29 ns per loop (mean ± std. dev. of 7 runs, 100,000 loops each)
</code></pre></div></p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>ai</code>
            </td>
            <td>
                  <code><span title="BotAI">BotAI</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Bot object that will be running the game.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>unit_type</code>
            </td>
            <td>
                  <code><span title="sc2.ids.unit_typeid.UnitTypeId">UnitTypeId</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Unit type we want to check.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>How many unit_type are currently building.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>cython_extensions/general_utils.pyi</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-155">155</a></span>
<span class="normal"><a href="#__codelineno-0-156">156</a></span>
<span class="normal"><a href="#__codelineno-0-157">157</a></span>
<span class="normal"><a href="#__codelineno-0-158">158</a></span>
<span class="normal"><a href="#__codelineno-0-159">159</a></span>
<span class="normal"><a href="#__codelineno-0-160">160</a></span>
<span class="normal"><a href="#__codelineno-0-161">161</a></span>
<span class="normal"><a href="#__codelineno-0-162">162</a></span>
<span class="normal"><a href="#__codelineno-0-163">163</a></span>
<span class="normal"><a href="#__codelineno-0-164">164</a></span>
<span class="normal"><a href="#__codelineno-0-165">165</a></span>
<span class="normal"><a href="#__codelineno-0-166">166</a></span>
<span class="normal"><a href="#__codelineno-0-167">167</a></span>
<span class="normal"><a href="#__codelineno-0-168">168</a></span>
<span class="normal"><a href="#__codelineno-0-169">169</a></span>
<span class="normal"><a href="#__codelineno-0-170">170</a></span>
<span class="normal"><a href="#__codelineno-0-171">171</a></span>
<span class="normal"><a href="#__codelineno-0-172">172</a></span>
<span class="normal"><a href="#__codelineno-0-173">173</a></span>
<span class="normal"><a href="#__codelineno-0-174">174</a></span>
<span class="normal"><a href="#__codelineno-0-175">175</a></span>
<span class="normal"><a href="#__codelineno-0-176">176</a></span>
<span class="normal"><a href="#__codelineno-0-177">177</a></span>
<span class="normal"><a href="#__codelineno-0-178">178</a></span>
<span class="normal"><a href="#__codelineno-0-179">179</a></span>
<span class="normal"><a href="#__codelineno-0-180">180</a></span>
<span class="normal"><a href="#__codelineno-0-181">181</a></span>
<span class="normal"><a href="#__codelineno-0-182">182</a></span>
<span class="normal"><a href="#__codelineno-0-183">183</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-155" name="__codelineno-0-155"></a><span class="k">def</span><span class="w"> </span><span class="nf">cy_unit_pending</span><span class="p">(</span><span class="n">ai</span><span class="p">:</span> <span class="s2">&quot;BotAI&quot;</span><span class="p">,</span> <span class="n">unit_type</span><span class="p">:</span> <span class="n">UnitID</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<a id="__codelineno-0-156" name="__codelineno-0-156"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Check how many unit_type are pending.</span>
<a id="__codelineno-0-157" name="__codelineno-0-157"></a>
<a id="__codelineno-0-158" name="__codelineno-0-158"></a><span class="sd">    Faster unit specific alternative to `python-sc2`&#39;s `already_pending`</span>
<a id="__codelineno-0-159" name="__codelineno-0-159"></a>
<a id="__codelineno-0-160" name="__codelineno-0-160"></a><span class="sd">    Example:</span>
<a id="__codelineno-0-161" name="__codelineno-0-161"></a><span class="sd">    ```py</span>
<a id="__codelineno-0-162" name="__codelineno-0-162"></a><span class="sd">    from cython_functions import cy_unit_pending</span>
<a id="__codelineno-0-163" name="__codelineno-0-163"></a><span class="sd">    from sc2.ids.unit_typeid import UnitTypeId</span>
<a id="__codelineno-0-164" name="__codelineno-0-164"></a>
<a id="__codelineno-0-165" name="__codelineno-0-165"></a><span class="sd">    num_marines_pending: int = cy_unit_pending(UnitTypeId.MARINE)</span>
<a id="__codelineno-0-166" name="__codelineno-0-166"></a><span class="sd">    ```</span>
<a id="__codelineno-0-167" name="__codelineno-0-167"></a><span class="sd">    ```</span>
<a id="__codelineno-0-168" name="__codelineno-0-168"></a><span class="sd">    453 ns ± 9.35 ns per loop (mean ± std. dev. of 7 runs, 1,000,000 loops each)</span>
<a id="__codelineno-0-169" name="__codelineno-0-169"></a>
<a id="__codelineno-0-170" name="__codelineno-0-170"></a><span class="sd">    Python-sc2 `already_pending` alternative:</span>
<a id="__codelineno-0-171" name="__codelineno-0-171"></a><span class="sd">    2.82 µs ± 29 ns per loop (mean ± std. dev. of 7 runs, 100,000 loops each)</span>
<a id="__codelineno-0-172" name="__codelineno-0-172"></a><span class="sd">    ```</span>
<a id="__codelineno-0-173" name="__codelineno-0-173"></a>
<a id="__codelineno-0-174" name="__codelineno-0-174"></a><span class="sd">    Args:</span>
<a id="__codelineno-0-175" name="__codelineno-0-175"></a><span class="sd">        ai: Bot object that will be running the game.</span>
<a id="__codelineno-0-176" name="__codelineno-0-176"></a><span class="sd">        unit_type: Unit type we want to check.</span>
<a id="__codelineno-0-177" name="__codelineno-0-177"></a>
<a id="__codelineno-0-178" name="__codelineno-0-178"></a><span class="sd">    Returns:</span>
<a id="__codelineno-0-179" name="__codelineno-0-179"></a><span class="sd">        How many unit_type are currently building.</span>
<a id="__codelineno-0-180" name="__codelineno-0-180"></a>
<a id="__codelineno-0-181" name="__codelineno-0-181"></a>
<a id="__codelineno-0-182" name="__codelineno-0-182"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-183" name="__codelineno-0-183"></a>    <span class="o">...</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<a id="cython_extensions.geometry"></a>
    <div class="doc doc-contents first">










  <div class="doc doc-children">










<div class="doc doc-object doc-function">


<h2 id="cython_extensions.geometry.cy_angle_diff" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">cy_angle_diff</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span></code>

<a href="#cython_extensions.geometry.cy_angle_diff" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Absolute angle difference between 2 angles</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>a</code>
            </td>
            <td>
                  <code><span title="float">float</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>First angle.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>b</code>
            </td>
            <td>
                  <code><span title="float">float</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Second angle.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>angle_difference</code></td>            <td>
                  <code><span title="float">float</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Difference between the two angles.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>cython_extensions/geometry.pyi</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-21">21</a></span>
<span class="normal"><a href="#__codelineno-0-22">22</a></span>
<span class="normal"><a href="#__codelineno-0-23">23</a></span>
<span class="normal"><a href="#__codelineno-0-24">24</a></span>
<span class="normal"><a href="#__codelineno-0-25">25</a></span>
<span class="normal"><a href="#__codelineno-0-26">26</a></span>
<span class="normal"><a href="#__codelineno-0-27">27</a></span>
<span class="normal"><a href="#__codelineno-0-28">28</a></span>
<span class="normal"><a href="#__codelineno-0-29">29</a></span>
<span class="normal"><a href="#__codelineno-0-30">30</a></span>
<span class="normal"><a href="#__codelineno-0-31">31</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-21" name="__codelineno-0-21"></a><span class="k">def</span><span class="w"> </span><span class="nf">cy_angle_diff</span><span class="p">(</span><span class="n">a</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">b</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
<a id="__codelineno-0-22" name="__codelineno-0-22"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Absolute angle difference between 2 angles</span>
<a id="__codelineno-0-23" name="__codelineno-0-23"></a>
<a id="__codelineno-0-24" name="__codelineno-0-24"></a><span class="sd">    Args:</span>
<a id="__codelineno-0-25" name="__codelineno-0-25"></a><span class="sd">        a: First angle.</span>
<a id="__codelineno-0-26" name="__codelineno-0-26"></a><span class="sd">        b: Second angle.</span>
<a id="__codelineno-0-27" name="__codelineno-0-27"></a>
<a id="__codelineno-0-28" name="__codelineno-0-28"></a><span class="sd">    Returns:</span>
<a id="__codelineno-0-29" name="__codelineno-0-29"></a><span class="sd">        angle_difference: Difference between the two angles.</span>
<a id="__codelineno-0-30" name="__codelineno-0-30"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-31" name="__codelineno-0-31"></a>    <span class="o">...</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="cython_extensions.geometry.cy_angle_to" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">cy_angle_to</span><span class="p">(</span><span class="n">from_pos</span><span class="p">,</span> <span class="n">to_pos</span><span class="p">)</span></code>

<a href="#cython_extensions.geometry.cy_angle_to" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Angle from point to other point in radians</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>from_pos</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="sc2.position.Point2">Point2</span>, <span title="tuple">tuple</span>[<span title="float">float</span>, <span title="float">float</span>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>First 2D point.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>to_pos</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="sc2.position.Point2">Point2</span>, <span title="tuple">tuple</span>[<span title="float">float</span>, <span title="float">float</span>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Measure angle to this 2D point.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>angle</code></td>            <td>
                  <code><span title="float">float</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Angle in radians.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>cython_extensions/geometry.pyi</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-0-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-0-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-0-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-0-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-0-10">10</a></span>
<span class="normal"><a href="#__codelineno-0-11">11</a></span>
<span class="normal"><a href="#__codelineno-0-12">12</a></span>
<span class="normal"><a href="#__codelineno-0-13">13</a></span>
<span class="normal"><a href="#__codelineno-0-14">14</a></span>
<span class="normal"><a href="#__codelineno-0-15">15</a></span>
<span class="normal"><a href="#__codelineno-0-16">16</a></span>
<span class="normal"><a href="#__codelineno-0-17">17</a></span>
<span class="normal"><a href="#__codelineno-0-18">18</a></span>
<span class="normal"><a href="#__codelineno-0-19">19</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-5" name="__codelineno-0-5"></a><span class="k">def</span><span class="w"> </span><span class="nf">cy_angle_to</span><span class="p">(</span>
<a id="__codelineno-0-6" name="__codelineno-0-6"></a>    <span class="n">from_pos</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Point2</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">]],</span>
<a id="__codelineno-0-7" name="__codelineno-0-7"></a>    <span class="n">to_pos</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Point2</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">]],</span>
<a id="__codelineno-0-8" name="__codelineno-0-8"></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
<a id="__codelineno-0-9" name="__codelineno-0-9"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Angle from point to other point in radians</span>
<a id="__codelineno-0-10" name="__codelineno-0-10"></a>
<a id="__codelineno-0-11" name="__codelineno-0-11"></a><span class="sd">    Args:</span>
<a id="__codelineno-0-12" name="__codelineno-0-12"></a><span class="sd">        from_pos: First 2D point.</span>
<a id="__codelineno-0-13" name="__codelineno-0-13"></a><span class="sd">        to_pos: Measure angle to this 2D point.</span>
<a id="__codelineno-0-14" name="__codelineno-0-14"></a>
<a id="__codelineno-0-15" name="__codelineno-0-15"></a><span class="sd">    Returns:</span>
<a id="__codelineno-0-16" name="__codelineno-0-16"></a><span class="sd">        angle: Angle in radians.</span>
<a id="__codelineno-0-17" name="__codelineno-0-17"></a>
<a id="__codelineno-0-18" name="__codelineno-0-18"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-19" name="__codelineno-0-19"></a>    <span class="o">...</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="cython_extensions.geometry.cy_distance_to" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">cy_distance_to</span><span class="p">(</span><span class="n">p1</span><span class="p">,</span> <span class="n">p2</span><span class="p">)</span></code>

<a href="#cython_extensions.geometry.cy_distance_to" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Check distance between two Point2 positions.</p>
<p>Example:
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="kn">from</span><span class="w"> </span><span class="nn">cython_functions</span><span class="w"> </span><span class="kn">import</span> <span class="n">cy_distance_to</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="n">dist</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="n">cy_distance_to</span><span class="p">(</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">start_location</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_info</span><span class="o">.</span><span class="n">map_center</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="p">)</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>cy_distance_to(Point2, Point2)
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a>157 ns ± 2.69 ns per loop (mean ± std. dev. of 7 runs, 10,000,000 loops each)
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a>
<a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a>cy_distance_to(unit1.position, unit2.position)
<a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a>219 ns ± 10.5 ns per loop (mean ± std. dev. of 7 runs, 1,000,000 loops each)
<a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a>
<a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a>Python alternative:
<a id="__codelineno-1-8" name="__codelineno-1-8" href="#__codelineno-1-8"></a>
<a id="__codelineno-1-9" name="__codelineno-1-9" href="#__codelineno-1-9"></a>Point1.distance_to(Point2)
<a id="__codelineno-1-10" name="__codelineno-1-10" href="#__codelineno-1-10"></a>386 ns ± 2.71 ns per loop (mean ± std. dev. of 7 runs, 1,000,000 loops each)
<a id="__codelineno-1-11" name="__codelineno-1-11" href="#__codelineno-1-11"></a>
<a id="__codelineno-1-12" name="__codelineno-1-12" href="#__codelineno-1-12"></a>unit1.distance_to(unit2)
<a id="__codelineno-1-13" name="__codelineno-1-13" href="#__codelineno-1-13"></a>583 ns ± 7.89 ns per loop (mean ± std. dev. of 7 runs, 1,000,000 loops each)
</code></pre></div></p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>p1</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="sc2.position.Point2">Point2</span>, <span title="tuple">tuple</span>[<span title="float">float</span>, <span title="float">float</span>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>First point.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>p2</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="sc2.position.Point2">Point2</span>, <span title="tuple">tuple</span>[<span title="float">float</span>, <span title="float">float</span>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Measure to this point.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>distance</code></td>            <td>
                  <code><span title="float">float</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Distance in tiles.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>cython_extensions/geometry.pyi</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-33">33</a></span>
<span class="normal"><a href="#__codelineno-0-34">34</a></span>
<span class="normal"><a href="#__codelineno-0-35">35</a></span>
<span class="normal"><a href="#__codelineno-0-36">36</a></span>
<span class="normal"><a href="#__codelineno-0-37">37</a></span>
<span class="normal"><a href="#__codelineno-0-38">38</a></span>
<span class="normal"><a href="#__codelineno-0-39">39</a></span>
<span class="normal"><a href="#__codelineno-0-40">40</a></span>
<span class="normal"><a href="#__codelineno-0-41">41</a></span>
<span class="normal"><a href="#__codelineno-0-42">42</a></span>
<span class="normal"><a href="#__codelineno-0-43">43</a></span>
<span class="normal"><a href="#__codelineno-0-44">44</a></span>
<span class="normal"><a href="#__codelineno-0-45">45</a></span>
<span class="normal"><a href="#__codelineno-0-46">46</a></span>
<span class="normal"><a href="#__codelineno-0-47">47</a></span>
<span class="normal"><a href="#__codelineno-0-48">48</a></span>
<span class="normal"><a href="#__codelineno-0-49">49</a></span>
<span class="normal"><a href="#__codelineno-0-50">50</a></span>
<span class="normal"><a href="#__codelineno-0-51">51</a></span>
<span class="normal"><a href="#__codelineno-0-52">52</a></span>
<span class="normal"><a href="#__codelineno-0-53">53</a></span>
<span class="normal"><a href="#__codelineno-0-54">54</a></span>
<span class="normal"><a href="#__codelineno-0-55">55</a></span>
<span class="normal"><a href="#__codelineno-0-56">56</a></span>
<span class="normal"><a href="#__codelineno-0-57">57</a></span>
<span class="normal"><a href="#__codelineno-0-58">58</a></span>
<span class="normal"><a href="#__codelineno-0-59">59</a></span>
<span class="normal"><a href="#__codelineno-0-60">60</a></span>
<span class="normal"><a href="#__codelineno-0-61">61</a></span>
<span class="normal"><a href="#__codelineno-0-62">62</a></span>
<span class="normal"><a href="#__codelineno-0-63">63</a></span>
<span class="normal"><a href="#__codelineno-0-64">64</a></span>
<span class="normal"><a href="#__codelineno-0-65">65</a></span>
<span class="normal"><a href="#__codelineno-0-66">66</a></span>
<span class="normal"><a href="#__codelineno-0-67">67</a></span>
<span class="normal"><a href="#__codelineno-0-68">68</a></span>
<span class="normal"><a href="#__codelineno-0-69">69</a></span>
<span class="normal"><a href="#__codelineno-0-70">70</a></span>
<span class="normal"><a href="#__codelineno-0-71">71</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-33" name="__codelineno-0-33"></a><span class="k">def</span><span class="w"> </span><span class="nf">cy_distance_to</span><span class="p">(</span>
<a id="__codelineno-0-34" name="__codelineno-0-34"></a>    <span class="n">p1</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Point2</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">]],</span> <span class="n">p2</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Point2</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">]]</span>
<a id="__codelineno-0-35" name="__codelineno-0-35"></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
<a id="__codelineno-0-36" name="__codelineno-0-36"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Check distance between two Point2 positions.</span>
<a id="__codelineno-0-37" name="__codelineno-0-37"></a>
<a id="__codelineno-0-38" name="__codelineno-0-38"></a><span class="sd">    Example:</span>
<a id="__codelineno-0-39" name="__codelineno-0-39"></a><span class="sd">    ```py</span>
<a id="__codelineno-0-40" name="__codelineno-0-40"></a><span class="sd">    from cython_functions import cy_distance_to</span>
<a id="__codelineno-0-41" name="__codelineno-0-41"></a>
<a id="__codelineno-0-42" name="__codelineno-0-42"></a><span class="sd">    dist: float = cy_distance_to(</span>
<a id="__codelineno-0-43" name="__codelineno-0-43"></a><span class="sd">        self.start_location, self.game_info.map_center</span>
<a id="__codelineno-0-44" name="__codelineno-0-44"></a><span class="sd">    )</span>
<a id="__codelineno-0-45" name="__codelineno-0-45"></a><span class="sd">    ```</span>
<a id="__codelineno-0-46" name="__codelineno-0-46"></a><span class="sd">    ```</span>
<a id="__codelineno-0-47" name="__codelineno-0-47"></a><span class="sd">    cy_distance_to(Point2, Point2)</span>
<a id="__codelineno-0-48" name="__codelineno-0-48"></a><span class="sd">    157 ns ± 2.69 ns per loop (mean ± std. dev. of 7 runs, 10,000,000 loops each)</span>
<a id="__codelineno-0-49" name="__codelineno-0-49"></a>
<a id="__codelineno-0-50" name="__codelineno-0-50"></a><span class="sd">    cy_distance_to(unit1.position, unit2.position)</span>
<a id="__codelineno-0-51" name="__codelineno-0-51"></a><span class="sd">    219 ns ± 10.5 ns per loop (mean ± std. dev. of 7 runs, 1,000,000 loops each)</span>
<a id="__codelineno-0-52" name="__codelineno-0-52"></a>
<a id="__codelineno-0-53" name="__codelineno-0-53"></a><span class="sd">    Python alternative:</span>
<a id="__codelineno-0-54" name="__codelineno-0-54"></a>
<a id="__codelineno-0-55" name="__codelineno-0-55"></a><span class="sd">    Point1.distance_to(Point2)</span>
<a id="__codelineno-0-56" name="__codelineno-0-56"></a><span class="sd">    386 ns ± 2.71 ns per loop (mean ± std. dev. of 7 runs, 1,000,000 loops each)</span>
<a id="__codelineno-0-57" name="__codelineno-0-57"></a>
<a id="__codelineno-0-58" name="__codelineno-0-58"></a><span class="sd">    unit1.distance_to(unit2)</span>
<a id="__codelineno-0-59" name="__codelineno-0-59"></a><span class="sd">    583 ns ± 7.89 ns per loop (mean ± std. dev. of 7 runs, 1,000,000 loops each)</span>
<a id="__codelineno-0-60" name="__codelineno-0-60"></a><span class="sd">    ```</span>
<a id="__codelineno-0-61" name="__codelineno-0-61"></a>
<a id="__codelineno-0-62" name="__codelineno-0-62"></a><span class="sd">    Args:</span>
<a id="__codelineno-0-63" name="__codelineno-0-63"></a><span class="sd">        p1: First point.</span>
<a id="__codelineno-0-64" name="__codelineno-0-64"></a><span class="sd">        p2: Measure to this point.</span>
<a id="__codelineno-0-65" name="__codelineno-0-65"></a>
<a id="__codelineno-0-66" name="__codelineno-0-66"></a><span class="sd">    Returns:</span>
<a id="__codelineno-0-67" name="__codelineno-0-67"></a><span class="sd">        distance: Distance in tiles.</span>
<a id="__codelineno-0-68" name="__codelineno-0-68"></a>
<a id="__codelineno-0-69" name="__codelineno-0-69"></a>
<a id="__codelineno-0-70" name="__codelineno-0-70"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-71" name="__codelineno-0-71"></a>    <span class="o">...</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="cython_extensions.geometry.cy_distance_to_squared" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">cy_distance_to_squared</span><span class="p">(</span><span class="n">p1</span><span class="p">,</span> <span class="n">p2</span><span class="p">)</span></code>

<a href="#cython_extensions.geometry.cy_distance_to_squared" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Similar to <code>cy_distance_to</code> but without a square root operation.
Use this for ~1.3x speedup</p>
<p>Example:
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="kn">from</span><span class="w"> </span><span class="nn">cython_functions</span><span class="w"> </span><span class="kn">import</span> <span class="n">cy_distance_to_squared</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="n">dist</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="n">cy_distance_to_squared</span><span class="p">(</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">start_location</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_info</span><span class="o">.</span><span class="n">map_center</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="p">)</span>
</code></pre></div></p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>p1</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="sc2.position.Point2">Point2</span>, <span title="tuple">tuple</span>[<span title="float">float</span>, <span title="float">float</span>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>First point.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>p2</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="sc2.position.Point2">Point2</span>, <span title="tuple">tuple</span>[<span title="float">float</span>, <span title="float">float</span>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Measure to this point.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>distance</code></td>            <td>
                  <code><span title="float">float</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Distance in tiles, squared.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>cython_extensions/geometry.pyi</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-73">73</a></span>
<span class="normal"><a href="#__codelineno-0-74">74</a></span>
<span class="normal"><a href="#__codelineno-0-75">75</a></span>
<span class="normal"><a href="#__codelineno-0-76">76</a></span>
<span class="normal"><a href="#__codelineno-0-77">77</a></span>
<span class="normal"><a href="#__codelineno-0-78">78</a></span>
<span class="normal"><a href="#__codelineno-0-79">79</a></span>
<span class="normal"><a href="#__codelineno-0-80">80</a></span>
<span class="normal"><a href="#__codelineno-0-81">81</a></span>
<span class="normal"><a href="#__codelineno-0-82">82</a></span>
<span class="normal"><a href="#__codelineno-0-83">83</a></span>
<span class="normal"><a href="#__codelineno-0-84">84</a></span>
<span class="normal"><a href="#__codelineno-0-85">85</a></span>
<span class="normal"><a href="#__codelineno-0-86">86</a></span>
<span class="normal"><a href="#__codelineno-0-87">87</a></span>
<span class="normal"><a href="#__codelineno-0-88">88</a></span>
<span class="normal"><a href="#__codelineno-0-89">89</a></span>
<span class="normal"><a href="#__codelineno-0-90">90</a></span>
<span class="normal"><a href="#__codelineno-0-91">91</a></span>
<span class="normal"><a href="#__codelineno-0-92">92</a></span>
<span class="normal"><a href="#__codelineno-0-93">93</a></span>
<span class="normal"><a href="#__codelineno-0-94">94</a></span>
<span class="normal"><a href="#__codelineno-0-95">95</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-73" name="__codelineno-0-73"></a><span class="k">def</span><span class="w"> </span><span class="nf">cy_distance_to_squared</span><span class="p">(</span>
<a id="__codelineno-0-74" name="__codelineno-0-74"></a>    <span class="n">p1</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Point2</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">]],</span> <span class="n">p2</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Point2</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">]]</span>
<a id="__codelineno-0-75" name="__codelineno-0-75"></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
<a id="__codelineno-0-76" name="__codelineno-0-76"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Similar to `cy_distance_to` but without a square root operation.</span>
<a id="__codelineno-0-77" name="__codelineno-0-77"></a><span class="sd">    Use this for ~1.3x speedup</span>
<a id="__codelineno-0-78" name="__codelineno-0-78"></a>
<a id="__codelineno-0-79" name="__codelineno-0-79"></a><span class="sd">    Example:</span>
<a id="__codelineno-0-80" name="__codelineno-0-80"></a><span class="sd">    ```python</span>
<a id="__codelineno-0-81" name="__codelineno-0-81"></a><span class="sd">    from cython_functions import cy_distance_to_squared</span>
<a id="__codelineno-0-82" name="__codelineno-0-82"></a>
<a id="__codelineno-0-83" name="__codelineno-0-83"></a><span class="sd">    dist: float = cy_distance_to_squared(</span>
<a id="__codelineno-0-84" name="__codelineno-0-84"></a><span class="sd">        self.start_location, self.game_info.map_center</span>
<a id="__codelineno-0-85" name="__codelineno-0-85"></a><span class="sd">    )</span>
<a id="__codelineno-0-86" name="__codelineno-0-86"></a><span class="sd">    ```</span>
<a id="__codelineno-0-87" name="__codelineno-0-87"></a>
<a id="__codelineno-0-88" name="__codelineno-0-88"></a><span class="sd">    Args:</span>
<a id="__codelineno-0-89" name="__codelineno-0-89"></a><span class="sd">        p1: First point.</span>
<a id="__codelineno-0-90" name="__codelineno-0-90"></a><span class="sd">        p2: Measure to this point.</span>
<a id="__codelineno-0-91" name="__codelineno-0-91"></a>
<a id="__codelineno-0-92" name="__codelineno-0-92"></a><span class="sd">    Returns:</span>
<a id="__codelineno-0-93" name="__codelineno-0-93"></a><span class="sd">        distance: Distance in tiles, squared.</span>
<a id="__codelineno-0-94" name="__codelineno-0-94"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-95" name="__codelineno-0-95"></a>    <span class="o">...</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="cython_extensions.geometry.cy_find_average_angle" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">cy_find_average_angle</span><span class="p">(</span><span class="n">start_point</span><span class="p">,</span> <span class="n">reference_point</span><span class="p">,</span> <span class="n">points</span><span class="p">)</span></code>

<a href="#cython_extensions.geometry.cy_find_average_angle" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Find the average angle between the points and the reference point.</p>
<p>Given a starting point, a reference point, and a list of points, find the average
angle between the vectors from the starting point to the reference point and the
starting point to the points.</p>
<p>Example:
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="kn">from</span><span class="w"> </span><span class="nn">cython_extensions</span><span class="w"> </span><span class="kn">import</span> <span class="n">cy_find_average_angle</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="n">angle</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="n">cy_get_angle_between_points</span><span class="p">(</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">start_location</span><span class="p">,</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">game_info</span><span class="o">.</span><span class="n">map_center</span><span class="p">,</span>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a>    <span class="p">[</span><span class="n">w</span><span class="o">.</span><span class="n">position</span> <span class="k">for</span> <span class="n">w</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">workers</span><span class="p">]</span>
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a><span class="p">)</span>
</code></pre></div></p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>start_point</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="sc2.position.Point2">Point2</span>, <span title="tuple">tuple</span>[<span title="float">float</span>, <span title="float">float</span>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Origin for the vectors to the other given points.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>reference_point</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="sc2.position.Point2">Point2</span>, <span title="tuple">tuple</span>[<span title="float">float</span>, <span title="float">float</span>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Vector forming one leg of the angle.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>points</code>
            </td>
            <td>
                  <code><span title="list">list</span>[<span title="sc2.position.Point2">Point2</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Points to calculate the angle between relative
to the reference point.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="float">float</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Average angle in radians between the reference</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                  <code><span title="float">float</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>point and the given points.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>cython_extensions/geometry.pyi</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-174">174</a></span>
<span class="normal"><a href="#__codelineno-0-175">175</a></span>
<span class="normal"><a href="#__codelineno-0-176">176</a></span>
<span class="normal"><a href="#__codelineno-0-177">177</a></span>
<span class="normal"><a href="#__codelineno-0-178">178</a></span>
<span class="normal"><a href="#__codelineno-0-179">179</a></span>
<span class="normal"><a href="#__codelineno-0-180">180</a></span>
<span class="normal"><a href="#__codelineno-0-181">181</a></span>
<span class="normal"><a href="#__codelineno-0-182">182</a></span>
<span class="normal"><a href="#__codelineno-0-183">183</a></span>
<span class="normal"><a href="#__codelineno-0-184">184</a></span>
<span class="normal"><a href="#__codelineno-0-185">185</a></span>
<span class="normal"><a href="#__codelineno-0-186">186</a></span>
<span class="normal"><a href="#__codelineno-0-187">187</a></span>
<span class="normal"><a href="#__codelineno-0-188">188</a></span>
<span class="normal"><a href="#__codelineno-0-189">189</a></span>
<span class="normal"><a href="#__codelineno-0-190">190</a></span>
<span class="normal"><a href="#__codelineno-0-191">191</a></span>
<span class="normal"><a href="#__codelineno-0-192">192</a></span>
<span class="normal"><a href="#__codelineno-0-193">193</a></span>
<span class="normal"><a href="#__codelineno-0-194">194</a></span>
<span class="normal"><a href="#__codelineno-0-195">195</a></span>
<span class="normal"><a href="#__codelineno-0-196">196</a></span>
<span class="normal"><a href="#__codelineno-0-197">197</a></span>
<span class="normal"><a href="#__codelineno-0-198">198</a></span>
<span class="normal"><a href="#__codelineno-0-199">199</a></span>
<span class="normal"><a href="#__codelineno-0-200">200</a></span>
<span class="normal"><a href="#__codelineno-0-201">201</a></span>
<span class="normal"><a href="#__codelineno-0-202">202</a></span>
<span class="normal"><a href="#__codelineno-0-203">203</a></span>
<span class="normal"><a href="#__codelineno-0-204">204</a></span>
<span class="normal"><a href="#__codelineno-0-205">205</a></span>
<span class="normal"><a href="#__codelineno-0-206">206</a></span>
<span class="normal"><a href="#__codelineno-0-207">207</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-174" name="__codelineno-0-174"></a><span class="k">def</span><span class="w"> </span><span class="nf">cy_find_average_angle</span><span class="p">(</span>
<a id="__codelineno-0-175" name="__codelineno-0-175"></a>    <span class="n">start_point</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Point2</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">]],</span>
<a id="__codelineno-0-176" name="__codelineno-0-176"></a>    <span class="n">reference_point</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Point2</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">]],</span>
<a id="__codelineno-0-177" name="__codelineno-0-177"></a>    <span class="n">points</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">Point2</span><span class="p">],</span>
<a id="__codelineno-0-178" name="__codelineno-0-178"></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
<a id="__codelineno-0-179" name="__codelineno-0-179"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Find the average angle between the points and the reference point.</span>
<a id="__codelineno-0-180" name="__codelineno-0-180"></a>
<a id="__codelineno-0-181" name="__codelineno-0-181"></a><span class="sd">    Given a starting point, a reference point, and a list of points, find the average</span>
<a id="__codelineno-0-182" name="__codelineno-0-182"></a><span class="sd">    angle between the vectors from the starting point to the reference point and the</span>
<a id="__codelineno-0-183" name="__codelineno-0-183"></a><span class="sd">    starting point to the points.</span>
<a id="__codelineno-0-184" name="__codelineno-0-184"></a>
<a id="__codelineno-0-185" name="__codelineno-0-185"></a><span class="sd">    Example:</span>
<a id="__codelineno-0-186" name="__codelineno-0-186"></a><span class="sd">    ```py</span>
<a id="__codelineno-0-187" name="__codelineno-0-187"></a><span class="sd">    from cython_extensions import cy_find_average_angle</span>
<a id="__codelineno-0-188" name="__codelineno-0-188"></a>
<a id="__codelineno-0-189" name="__codelineno-0-189"></a><span class="sd">    angle: float = cy_get_angle_between_points(</span>
<a id="__codelineno-0-190" name="__codelineno-0-190"></a><span class="sd">        self.start_location,</span>
<a id="__codelineno-0-191" name="__codelineno-0-191"></a><span class="sd">        self.game_info.map_center,</span>
<a id="__codelineno-0-192" name="__codelineno-0-192"></a><span class="sd">        [w.position for w in self.workers]</span>
<a id="__codelineno-0-193" name="__codelineno-0-193"></a><span class="sd">    )</span>
<a id="__codelineno-0-194" name="__codelineno-0-194"></a><span class="sd">    ```</span>
<a id="__codelineno-0-195" name="__codelineno-0-195"></a>
<a id="__codelineno-0-196" name="__codelineno-0-196"></a><span class="sd">    Args:</span>
<a id="__codelineno-0-197" name="__codelineno-0-197"></a><span class="sd">        start_point: Origin for the vectors to the other given points.</span>
<a id="__codelineno-0-198" name="__codelineno-0-198"></a><span class="sd">        reference_point: Vector forming one leg of the angle.</span>
<a id="__codelineno-0-199" name="__codelineno-0-199"></a><span class="sd">        points: Points to calculate the angle between relative</span>
<a id="__codelineno-0-200" name="__codelineno-0-200"></a><span class="sd">            to the reference point.</span>
<a id="__codelineno-0-201" name="__codelineno-0-201"></a>
<a id="__codelineno-0-202" name="__codelineno-0-202"></a><span class="sd">    Returns:</span>
<a id="__codelineno-0-203" name="__codelineno-0-203"></a><span class="sd">        Average angle in radians between the reference</span>
<a id="__codelineno-0-204" name="__codelineno-0-204"></a><span class="sd">        point and the given points.</span>
<a id="__codelineno-0-205" name="__codelineno-0-205"></a>
<a id="__codelineno-0-206" name="__codelineno-0-206"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-207" name="__codelineno-0-207"></a>    <span class="o">...</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="cython_extensions.geometry.cy_find_correct_line" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">cy_find_correct_line</span><span class="p">(</span><span class="n">points</span><span class="p">,</span> <span class="n">base_location</span><span class="p">)</span></code>

<a href="#cython_extensions.geometry.cy_find_correct_line" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Given a list of points and a center point, find if there's a line such that all
other points are above or below the line. Returns the line in the form
Ax + By + C = 0 and the point that was used.</p>
<p>If no such line is found, it returns ((0, 0, 0), <last_point_checked>).</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>points</code>
            </td>
            <td>
                  <code><span title="list">list</span>[<span title="sc2.position.Point2">Point2</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Points that need to be on one side of the line.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>base_location</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="sc2.position.Point2">Point2</span>, <span title="tuple">tuple</span>[<span title="float">float</span>, <span title="float">float</span>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Starting point for the line.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="tuple">tuple</span>[<span title="float">float</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>First element is the coefficients of Ax + By + C = 0.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                  <code><span title="tuple">tuple</span>[<span title="float">float</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Second element is the point used to form the line.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>cython_extensions/geometry.pyi</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-209">209</a></span>
<span class="normal"><a href="#__codelineno-0-210">210</a></span>
<span class="normal"><a href="#__codelineno-0-211">211</a></span>
<span class="normal"><a href="#__codelineno-0-212">212</a></span>
<span class="normal"><a href="#__codelineno-0-213">213</a></span>
<span class="normal"><a href="#__codelineno-0-214">214</a></span>
<span class="normal"><a href="#__codelineno-0-215">215</a></span>
<span class="normal"><a href="#__codelineno-0-216">216</a></span>
<span class="normal"><a href="#__codelineno-0-217">217</a></span>
<span class="normal"><a href="#__codelineno-0-218">218</a></span>
<span class="normal"><a href="#__codelineno-0-219">219</a></span>
<span class="normal"><a href="#__codelineno-0-220">220</a></span>
<span class="normal"><a href="#__codelineno-0-221">221</a></span>
<span class="normal"><a href="#__codelineno-0-222">222</a></span>
<span class="normal"><a href="#__codelineno-0-223">223</a></span>
<span class="normal"><a href="#__codelineno-0-224">224</a></span>
<span class="normal"><a href="#__codelineno-0-225">225</a></span>
<span class="normal"><a href="#__codelineno-0-226">226</a></span>
<span class="normal"><a href="#__codelineno-0-227">227</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-209" name="__codelineno-0-209"></a><span class="k">def</span><span class="w"> </span><span class="nf">cy_find_correct_line</span><span class="p">(</span>
<a id="__codelineno-0-210" name="__codelineno-0-210"></a>    <span class="n">points</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">Point2</span><span class="p">],</span> <span class="n">base_location</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Point2</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">]]</span>
<a id="__codelineno-0-211" name="__codelineno-0-211"></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">tuple</span><span class="p">[</span><span class="nb">float</span><span class="p">],</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">float</span><span class="p">]]:</span>
<a id="__codelineno-0-212" name="__codelineno-0-212"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-213" name="__codelineno-0-213"></a><span class="sd">    Given a list of points and a center point, find if there&#39;s a line such that all</span>
<a id="__codelineno-0-214" name="__codelineno-0-214"></a><span class="sd">    other points are above or below the line. Returns the line in the form</span>
<a id="__codelineno-0-215" name="__codelineno-0-215"></a><span class="sd">    Ax + By + C = 0 and the point that was used.</span>
<a id="__codelineno-0-216" name="__codelineno-0-216"></a>
<a id="__codelineno-0-217" name="__codelineno-0-217"></a><span class="sd">    If no such line is found, it returns ((0, 0, 0), &lt;last_point_checked&gt;).</span>
<a id="__codelineno-0-218" name="__codelineno-0-218"></a>
<a id="__codelineno-0-219" name="__codelineno-0-219"></a><span class="sd">    Args:</span>
<a id="__codelineno-0-220" name="__codelineno-0-220"></a><span class="sd">        points: Points that need to be on one side of the line.</span>
<a id="__codelineno-0-221" name="__codelineno-0-221"></a><span class="sd">        base_location: Starting point for the line.</span>
<a id="__codelineno-0-222" name="__codelineno-0-222"></a>
<a id="__codelineno-0-223" name="__codelineno-0-223"></a><span class="sd">    Returns:</span>
<a id="__codelineno-0-224" name="__codelineno-0-224"></a><span class="sd">        First element is the coefficients of Ax + By + C = 0.</span>
<a id="__codelineno-0-225" name="__codelineno-0-225"></a><span class="sd">        Second element is the point used to form the line.</span>
<a id="__codelineno-0-226" name="__codelineno-0-226"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-227" name="__codelineno-0-227"></a>    <span class="o">...</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="cython_extensions.geometry.cy_get_angle_between_points" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">cy_get_angle_between_points</span><span class="p">(</span><span class="n">point_a</span><span class="p">,</span> <span class="n">point_b</span><span class="p">)</span></code>

<a href="#cython_extensions.geometry.cy_get_angle_between_points" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Get the angle between two points as if they were vectors from the origin.</p>
<p>Example:
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="kn">from</span><span class="w"> </span><span class="nn">cython_functions</span><span class="w"> </span><span class="kn">import</span> <span class="n">cy_get_angle_between_points</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="n">angle</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="n">cy_get_angle_between_points</span><span class="p">(</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">start_location</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_info</span><span class="o">.</span><span class="n">map_center</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="p">)</span>
</code></pre></div></p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>point_a</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="sc2.position.Point2">Point2</span>, <span title="tuple">tuple</span>[<span title="float">float</span>, <span title="float">float</span>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>First point.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>point_b</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="sc2.position.Point2">Point2</span>, <span title="tuple">tuple</span>[<span title="float">float</span>, <span title="float">float</span>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Measure to this point.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="float">float</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The angle between the two points.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>cython_extensions/geometry.pyi</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-150">150</a></span>
<span class="normal"><a href="#__codelineno-0-151">151</a></span>
<span class="normal"><a href="#__codelineno-0-152">152</a></span>
<span class="normal"><a href="#__codelineno-0-153">153</a></span>
<span class="normal"><a href="#__codelineno-0-154">154</a></span>
<span class="normal"><a href="#__codelineno-0-155">155</a></span>
<span class="normal"><a href="#__codelineno-0-156">156</a></span>
<span class="normal"><a href="#__codelineno-0-157">157</a></span>
<span class="normal"><a href="#__codelineno-0-158">158</a></span>
<span class="normal"><a href="#__codelineno-0-159">159</a></span>
<span class="normal"><a href="#__codelineno-0-160">160</a></span>
<span class="normal"><a href="#__codelineno-0-161">161</a></span>
<span class="normal"><a href="#__codelineno-0-162">162</a></span>
<span class="normal"><a href="#__codelineno-0-163">163</a></span>
<span class="normal"><a href="#__codelineno-0-164">164</a></span>
<span class="normal"><a href="#__codelineno-0-165">165</a></span>
<span class="normal"><a href="#__codelineno-0-166">166</a></span>
<span class="normal"><a href="#__codelineno-0-167">167</a></span>
<span class="normal"><a href="#__codelineno-0-168">168</a></span>
<span class="normal"><a href="#__codelineno-0-169">169</a></span>
<span class="normal"><a href="#__codelineno-0-170">170</a></span>
<span class="normal"><a href="#__codelineno-0-171">171</a></span>
<span class="normal"><a href="#__codelineno-0-172">172</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-150" name="__codelineno-0-150"></a><span class="k">def</span><span class="w"> </span><span class="nf">cy_get_angle_between_points</span><span class="p">(</span>
<a id="__codelineno-0-151" name="__codelineno-0-151"></a>    <span class="n">point_a</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Point2</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">]],</span>
<a id="__codelineno-0-152" name="__codelineno-0-152"></a>    <span class="n">point_b</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Point2</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">]],</span>
<a id="__codelineno-0-153" name="__codelineno-0-153"></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
<a id="__codelineno-0-154" name="__codelineno-0-154"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Get the angle between two points as if they were vectors from the origin.</span>
<a id="__codelineno-0-155" name="__codelineno-0-155"></a>
<a id="__codelineno-0-156" name="__codelineno-0-156"></a><span class="sd">    Example:</span>
<a id="__codelineno-0-157" name="__codelineno-0-157"></a><span class="sd">    ```py</span>
<a id="__codelineno-0-158" name="__codelineno-0-158"></a><span class="sd">    from cython_functions import cy_get_angle_between_points</span>
<a id="__codelineno-0-159" name="__codelineno-0-159"></a>
<a id="__codelineno-0-160" name="__codelineno-0-160"></a><span class="sd">    angle: float = cy_get_angle_between_points(</span>
<a id="__codelineno-0-161" name="__codelineno-0-161"></a><span class="sd">        self.start_location, self.game_info.map_center</span>
<a id="__codelineno-0-162" name="__codelineno-0-162"></a><span class="sd">    )</span>
<a id="__codelineno-0-163" name="__codelineno-0-163"></a><span class="sd">    ```</span>
<a id="__codelineno-0-164" name="__codelineno-0-164"></a>
<a id="__codelineno-0-165" name="__codelineno-0-165"></a><span class="sd">    Args:</span>
<a id="__codelineno-0-166" name="__codelineno-0-166"></a><span class="sd">        point_a: First point.</span>
<a id="__codelineno-0-167" name="__codelineno-0-167"></a><span class="sd">        point_b: Measure to this point.</span>
<a id="__codelineno-0-168" name="__codelineno-0-168"></a>
<a id="__codelineno-0-169" name="__codelineno-0-169"></a><span class="sd">    Returns:</span>
<a id="__codelineno-0-170" name="__codelineno-0-170"></a><span class="sd">        The angle between the two points.</span>
<a id="__codelineno-0-171" name="__codelineno-0-171"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-172" name="__codelineno-0-172"></a>    <span class="o">...</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="cython_extensions.geometry.cy_towards" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">cy_towards</span><span class="p">(</span><span class="n">start_pos</span><span class="p">,</span> <span class="n">target_pos</span><span class="p">,</span> <span class="n">distance</span><span class="p">)</span></code>

<a href="#cython_extensions.geometry.cy_towards" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Get position from start_pos towards target_pos based on distance.</p>
<p>Example:
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="kn">from</span><span class="w"> </span><span class="nn">cython_functions</span><span class="w"> </span><span class="kn">import</span> <span class="n">cy_towards</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="n">new_pos</span><span class="p">:</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="n">cy_towards</span><span class="p">(</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">start_location</span><span class="p">,</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">game_info</span><span class="o">.</span><span class="n">map_center</span><span class="p">,</span>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a>    <span class="mf">12.0</span>
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a><span class="p">)</span>
</code></pre></div></p>
<p>Note: For performance reasons this returns the point2 as a tuple, if a
python-sc2 Point2 is required it's up to the user to convert it.</p>
<p>Example:
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="n">new_pos</span><span class="p">:</span> <span class="n">Point2</span> <span class="o">=</span> <span class="n">Point2</span><span class="p">(</span>
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a>    <span class="n">cy_towards</span><span class="p">(</span>
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">start_location</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">enemy_start_locations</span><span class="p">,</span> <span class="mf">10.0</span>
<a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a>    <span class="p">)</span>
<a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a><span class="p">)</span>
</code></pre></div></p>
<p>Though for best performance it is recommended to simply work with the tuple if possible:
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="n">new_pos</span><span class="p">:</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="n">cy_towards</span><span class="p">(</span>
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">start_location</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">enemy_start_locations</span><span class="p">,</span> <span class="mf">10.0</span>
<a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a><span class="p">)</span>
</code></pre></div></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a>191 ns ± 0.855 ns per loop (mean ± std. dev. of 7 runs, 10,000,000 loops each)
<a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a>
<a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a>Python-sc2&#39;s `start_pos.towards(target_pos, distance)` alternative:
<a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a>2.73 µs ± 18.9 ns per loop (mean ± std. dev. of 7 runs, 100,000 loops each)
</code></pre></div>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>start_pos</code>
            </td>
            <td>
                  <code><span title="sc2.position.Point2">Point2</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Start from this 2D position.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>target_pos</code>
            </td>
            <td>
                  <code><span title="sc2.position.Point2">Point2</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Go towards this 2D position.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>distance</code>
            </td>
            <td>
                  <code><span title="float">float</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>How far we go towards target_pos.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="tuple">tuple</span>[<span title="float">float</span>, <span title="float">float</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The new position as a tuple of x and y coordinates.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>cython_extensions/geometry.pyi</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-97"> 97</a></span>
<span class="normal"><a href="#__codelineno-0-98"> 98</a></span>
<span class="normal"><a href="#__codelineno-0-99"> 99</a></span>
<span class="normal"><a href="#__codelineno-0-100">100</a></span>
<span class="normal"><a href="#__codelineno-0-101">101</a></span>
<span class="normal"><a href="#__codelineno-0-102">102</a></span>
<span class="normal"><a href="#__codelineno-0-103">103</a></span>
<span class="normal"><a href="#__codelineno-0-104">104</a></span>
<span class="normal"><a href="#__codelineno-0-105">105</a></span>
<span class="normal"><a href="#__codelineno-0-106">106</a></span>
<span class="normal"><a href="#__codelineno-0-107">107</a></span>
<span class="normal"><a href="#__codelineno-0-108">108</a></span>
<span class="normal"><a href="#__codelineno-0-109">109</a></span>
<span class="normal"><a href="#__codelineno-0-110">110</a></span>
<span class="normal"><a href="#__codelineno-0-111">111</a></span>
<span class="normal"><a href="#__codelineno-0-112">112</a></span>
<span class="normal"><a href="#__codelineno-0-113">113</a></span>
<span class="normal"><a href="#__codelineno-0-114">114</a></span>
<span class="normal"><a href="#__codelineno-0-115">115</a></span>
<span class="normal"><a href="#__codelineno-0-116">116</a></span>
<span class="normal"><a href="#__codelineno-0-117">117</a></span>
<span class="normal"><a href="#__codelineno-0-118">118</a></span>
<span class="normal"><a href="#__codelineno-0-119">119</a></span>
<span class="normal"><a href="#__codelineno-0-120">120</a></span>
<span class="normal"><a href="#__codelineno-0-121">121</a></span>
<span class="normal"><a href="#__codelineno-0-122">122</a></span>
<span class="normal"><a href="#__codelineno-0-123">123</a></span>
<span class="normal"><a href="#__codelineno-0-124">124</a></span>
<span class="normal"><a href="#__codelineno-0-125">125</a></span>
<span class="normal"><a href="#__codelineno-0-126">126</a></span>
<span class="normal"><a href="#__codelineno-0-127">127</a></span>
<span class="normal"><a href="#__codelineno-0-128">128</a></span>
<span class="normal"><a href="#__codelineno-0-129">129</a></span>
<span class="normal"><a href="#__codelineno-0-130">130</a></span>
<span class="normal"><a href="#__codelineno-0-131">131</a></span>
<span class="normal"><a href="#__codelineno-0-132">132</a></span>
<span class="normal"><a href="#__codelineno-0-133">133</a></span>
<span class="normal"><a href="#__codelineno-0-134">134</a></span>
<span class="normal"><a href="#__codelineno-0-135">135</a></span>
<span class="normal"><a href="#__codelineno-0-136">136</a></span>
<span class="normal"><a href="#__codelineno-0-137">137</a></span>
<span class="normal"><a href="#__codelineno-0-138">138</a></span>
<span class="normal"><a href="#__codelineno-0-139">139</a></span>
<span class="normal"><a href="#__codelineno-0-140">140</a></span>
<span class="normal"><a href="#__codelineno-0-141">141</a></span>
<span class="normal"><a href="#__codelineno-0-142">142</a></span>
<span class="normal"><a href="#__codelineno-0-143">143</a></span>
<span class="normal"><a href="#__codelineno-0-144">144</a></span>
<span class="normal"><a href="#__codelineno-0-145">145</a></span>
<span class="normal"><a href="#__codelineno-0-146">146</a></span>
<span class="normal"><a href="#__codelineno-0-147">147</a></span>
<span class="normal"><a href="#__codelineno-0-148">148</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-97" name="__codelineno-0-97"></a><span class="k">def</span><span class="w"> </span><span class="nf">cy_towards</span><span class="p">(</span>
<a id="__codelineno-0-98" name="__codelineno-0-98"></a>    <span class="n">start_pos</span><span class="p">:</span> <span class="n">Point2</span><span class="p">,</span> <span class="n">target_pos</span><span class="p">:</span> <span class="n">Point2</span><span class="p">,</span> <span class="n">distance</span><span class="p">:</span> <span class="nb">float</span>
<a id="__codelineno-0-99" name="__codelineno-0-99"></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">]:</span>
<a id="__codelineno-0-100" name="__codelineno-0-100"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Get position from start_pos towards target_pos based on distance.</span>
<a id="__codelineno-0-101" name="__codelineno-0-101"></a>
<a id="__codelineno-0-102" name="__codelineno-0-102"></a><span class="sd">    Example:</span>
<a id="__codelineno-0-103" name="__codelineno-0-103"></a><span class="sd">    ```py</span>
<a id="__codelineno-0-104" name="__codelineno-0-104"></a><span class="sd">    from cython_functions import cy_towards</span>
<a id="__codelineno-0-105" name="__codelineno-0-105"></a>
<a id="__codelineno-0-106" name="__codelineno-0-106"></a><span class="sd">    new_pos: Tuple[float, float] = cy_towards(</span>
<a id="__codelineno-0-107" name="__codelineno-0-107"></a><span class="sd">        self.start_location,</span>
<a id="__codelineno-0-108" name="__codelineno-0-108"></a><span class="sd">        self.game_info.map_center,</span>
<a id="__codelineno-0-109" name="__codelineno-0-109"></a><span class="sd">        12.0</span>
<a id="__codelineno-0-110" name="__codelineno-0-110"></a><span class="sd">    )</span>
<a id="__codelineno-0-111" name="__codelineno-0-111"></a><span class="sd">    ```</span>
<a id="__codelineno-0-112" name="__codelineno-0-112"></a>
<a id="__codelineno-0-113" name="__codelineno-0-113"></a><span class="sd">    Note: For performance reasons this returns the point2 as a tuple, if a</span>
<a id="__codelineno-0-114" name="__codelineno-0-114"></a><span class="sd">    python-sc2 Point2 is required it&#39;s up to the user to convert it.</span>
<a id="__codelineno-0-115" name="__codelineno-0-115"></a>
<a id="__codelineno-0-116" name="__codelineno-0-116"></a><span class="sd">    Example:</span>
<a id="__codelineno-0-117" name="__codelineno-0-117"></a><span class="sd">    ```py</span>
<a id="__codelineno-0-118" name="__codelineno-0-118"></a><span class="sd">    new_pos: Point2 = Point2(</span>
<a id="__codelineno-0-119" name="__codelineno-0-119"></a><span class="sd">        cy_towards(</span>
<a id="__codelineno-0-120" name="__codelineno-0-120"></a><span class="sd">            self.start_location, self.enemy_start_locations, 10.0</span>
<a id="__codelineno-0-121" name="__codelineno-0-121"></a><span class="sd">        )</span>
<a id="__codelineno-0-122" name="__codelineno-0-122"></a><span class="sd">    )</span>
<a id="__codelineno-0-123" name="__codelineno-0-123"></a><span class="sd">    ```</span>
<a id="__codelineno-0-124" name="__codelineno-0-124"></a>
<a id="__codelineno-0-125" name="__codelineno-0-125"></a><span class="sd">    Though for best performance it is recommended to simply work with the tuple if possible:</span>
<a id="__codelineno-0-126" name="__codelineno-0-126"></a><span class="sd">    ```py</span>
<a id="__codelineno-0-127" name="__codelineno-0-127"></a><span class="sd">    new_pos: tuple[float, float] = cy_towards(</span>
<a id="__codelineno-0-128" name="__codelineno-0-128"></a><span class="sd">        self.start_location, self.enemy_start_locations, 10.0</span>
<a id="__codelineno-0-129" name="__codelineno-0-129"></a><span class="sd">    )</span>
<a id="__codelineno-0-130" name="__codelineno-0-130"></a><span class="sd">    ```</span>
<a id="__codelineno-0-131" name="__codelineno-0-131"></a>
<a id="__codelineno-0-132" name="__codelineno-0-132"></a><span class="sd">    ```</span>
<a id="__codelineno-0-133" name="__codelineno-0-133"></a><span class="sd">    191 ns ± 0.855 ns per loop (mean ± std. dev. of 7 runs, 10,000,000 loops each)</span>
<a id="__codelineno-0-134" name="__codelineno-0-134"></a>
<a id="__codelineno-0-135" name="__codelineno-0-135"></a><span class="sd">    Python-sc2&#39;s `start_pos.towards(target_pos, distance)` alternative:</span>
<a id="__codelineno-0-136" name="__codelineno-0-136"></a><span class="sd">    2.73 µs ± 18.9 ns per loop (mean ± std. dev. of 7 runs, 100,000 loops each)</span>
<a id="__codelineno-0-137" name="__codelineno-0-137"></a><span class="sd">    ```</span>
<a id="__codelineno-0-138" name="__codelineno-0-138"></a>
<a id="__codelineno-0-139" name="__codelineno-0-139"></a>
<a id="__codelineno-0-140" name="__codelineno-0-140"></a><span class="sd">    Args:</span>
<a id="__codelineno-0-141" name="__codelineno-0-141"></a><span class="sd">        start_pos: Start from this 2D position.</span>
<a id="__codelineno-0-142" name="__codelineno-0-142"></a><span class="sd">        target_pos: Go towards this 2D position.</span>
<a id="__codelineno-0-143" name="__codelineno-0-143"></a><span class="sd">        distance: How far we go towards target_pos.</span>
<a id="__codelineno-0-144" name="__codelineno-0-144"></a>
<a id="__codelineno-0-145" name="__codelineno-0-145"></a><span class="sd">    Returns:</span>
<a id="__codelineno-0-146" name="__codelineno-0-146"></a><span class="sd">        The new position as a tuple of x and y coordinates.</span>
<a id="__codelineno-0-147" name="__codelineno-0-147"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-148" name="__codelineno-0-148"></a>    <span class="o">...</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="cython_extensions.geometry.cy_translate_point_along_line" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">cy_translate_point_along_line</span><span class="p">(</span><span class="n">point</span><span class="p">,</span> <span class="n">a_value</span><span class="p">,</span> <span class="n">distance</span><span class="p">)</span></code>

<a href="#cython_extensions.geometry.cy_translate_point_along_line" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Translates a point along a line defined by a slope value.</p>
<p>This function moves a given point along a line in a direction
determined by the slope <code>a_value</code>, by a specified <code>distance</code>.
The new point after translation is returned.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>point</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="sc2.position.Point2">Point2</span>, <span title="tuple">tuple</span>[<span title="float">float</span>, <span title="float">float</span>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The point to be translated, given as either a <code>Point2</code></p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>a_value</code>
            </td>
            <td>
                  <code><span title="float">float</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The slope of the line along which the point will be moved.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>distance</code>
            </td>
            <td>
                  <code><span title="float">float</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The distance to move the point along the line.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="float">float</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A tuple representing the new position of the point</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                  <code><span title="float">float</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>after translation.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>cython_extensions/geometry.pyi</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-229">229</a></span>
<span class="normal"><a href="#__codelineno-0-230">230</a></span>
<span class="normal"><a href="#__codelineno-0-231">231</a></span>
<span class="normal"><a href="#__codelineno-0-232">232</a></span>
<span class="normal"><a href="#__codelineno-0-233">233</a></span>
<span class="normal"><a href="#__codelineno-0-234">234</a></span>
<span class="normal"><a href="#__codelineno-0-235">235</a></span>
<span class="normal"><a href="#__codelineno-0-236">236</a></span>
<span class="normal"><a href="#__codelineno-0-237">237</a></span>
<span class="normal"><a href="#__codelineno-0-238">238</a></span>
<span class="normal"><a href="#__codelineno-0-239">239</a></span>
<span class="normal"><a href="#__codelineno-0-240">240</a></span>
<span class="normal"><a href="#__codelineno-0-241">241</a></span>
<span class="normal"><a href="#__codelineno-0-242">242</a></span>
<span class="normal"><a href="#__codelineno-0-243">243</a></span>
<span class="normal"><a href="#__codelineno-0-244">244</a></span>
<span class="normal"><a href="#__codelineno-0-245">245</a></span>
<span class="normal"><a href="#__codelineno-0-246">246</a></span>
<span class="normal"><a href="#__codelineno-0-247">247</a></span>
<span class="normal"><a href="#__codelineno-0-248">248</a></span>
<span class="normal"><a href="#__codelineno-0-249">249</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-229" name="__codelineno-0-229"></a><span class="k">def</span><span class="w"> </span><span class="nf">cy_translate_point_along_line</span><span class="p">(</span>
<a id="__codelineno-0-230" name="__codelineno-0-230"></a>    <span class="n">point</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Point2</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">]],</span> <span class="n">a_value</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">distance</span><span class="p">:</span> <span class="nb">float</span>
<a id="__codelineno-0-231" name="__codelineno-0-231"></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">]:</span>
<a id="__codelineno-0-232" name="__codelineno-0-232"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-233" name="__codelineno-0-233"></a><span class="sd">    Translates a point along a line defined by a slope value.</span>
<a id="__codelineno-0-234" name="__codelineno-0-234"></a>
<a id="__codelineno-0-235" name="__codelineno-0-235"></a><span class="sd">    This function moves a given point along a line in a direction</span>
<a id="__codelineno-0-236" name="__codelineno-0-236"></a><span class="sd">    determined by the slope `a_value`, by a specified `distance`.</span>
<a id="__codelineno-0-237" name="__codelineno-0-237"></a><span class="sd">    The new point after translation is returned.</span>
<a id="__codelineno-0-238" name="__codelineno-0-238"></a>
<a id="__codelineno-0-239" name="__codelineno-0-239"></a><span class="sd">    Args:</span>
<a id="__codelineno-0-240" name="__codelineno-0-240"></a><span class="sd">        point: The point to be translated, given as either a `Point2`</span>
<a id="__codelineno-0-241" name="__codelineno-0-241"></a><span class="sd">        object or a tuple of `(x, y)` coordinates.</span>
<a id="__codelineno-0-242" name="__codelineno-0-242"></a><span class="sd">        a_value: The slope of the line along which the point will be moved.</span>
<a id="__codelineno-0-243" name="__codelineno-0-243"></a><span class="sd">        distance: The distance to move the point along the line.</span>
<a id="__codelineno-0-244" name="__codelineno-0-244"></a>
<a id="__codelineno-0-245" name="__codelineno-0-245"></a><span class="sd">    Returns:</span>
<a id="__codelineno-0-246" name="__codelineno-0-246"></a><span class="sd">        A tuple representing the new position of the point</span>
<a id="__codelineno-0-247" name="__codelineno-0-247"></a><span class="sd">        after translation.</span>
<a id="__codelineno-0-248" name="__codelineno-0-248"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-249" name="__codelineno-0-249"></a>    <span class="o">...</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<a id="cython_extensions.map_analysis"></a>
    <div class="doc doc-contents first">










  <div class="doc doc-children">










<div class="doc doc-object doc-function">


<h2 id="cython_extensions.map_analysis.cy_flood_fill_grid" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">cy_flood_fill_grid</span><span class="p">(</span><span class="n">start_point</span><span class="p">,</span> <span class="n">terrain_grid</span><span class="p">,</span> <span class="n">pathing_grid</span><span class="p">,</span> <span class="n">max_distance</span><span class="p">,</span> <span class="n">cutoff_points</span><span class="p">)</span></code>

<a href="#cython_extensions.map_analysis.cy_flood_fill_grid" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Given a set of coordinates, draw a box that fits
all the points.</p>
<p>Example:
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="kn">from</span><span class="w"> </span><span class="nn">cython_extensions</span><span class="w"> </span><span class="kn">import</span> <span class="n">cy_flood_fill_grid</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="n">all_points</span> <span class="o">=</span> <span class="n">terrain_flood_fill</span><span class="p">(</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>    <span class="n">start_point</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">start_location</span><span class="o">.</span><span class="n">rounded</span><span class="p">,</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>    <span class="n">terrain_grid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">game_info</span><span class="o">.</span><span class="n">terrain_height</span><span class="o">.</span><span class="n">data_numpy</span><span class="o">.</span><span class="n">T</span><span class="p">,</span>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a>    <span class="n">pathing_grid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">game_info</span><span class="o">.</span><span class="n">pathing_grid</span><span class="o">.</span><span class="n">data_numpy</span><span class="o">.</span><span class="n">T</span><span class="p">,</span>
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a>    <span class="n">max_distance</span><span class="o">=</span><span class="mi">40</span><span class="p">,</span>
<a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a>    <span class="n">choke_points</span><span class="o">=</span><span class="p">{}</span>
<a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a><span class="p">)</span>
</code></pre></div></p>
<h4 id="cython_extensions.map_analysis.cy_flood_fill_grid--parameters">Parameters<a class="headerlink" href="#cython_extensions.map_analysis.cy_flood_fill_grid--parameters" title="Permanent link">&para;</a></h4>
<p>start_point : Start algorithm from here.
terrain_grid : Numpy array containing heights for the map.
pathing_grid : Numpy array containing pathing values for the map.
max_distance : The maximum distance the flood fill should reach before halting.
cutoff_points : Points which we don't want the algorithm to pass.
Choke points are a good use case.</p>
<h4 id="cython_extensions.map_analysis.cy_flood_fill_grid--returns">Returns<a class="headerlink" href="#cython_extensions.map_analysis.cy_flood_fill_grid--returns" title="Permanent link">&para;</a></h4>
<p>tuple of tuple of float :
    A pair of coordinates that determine the box in the following format:
    ((xmin, xmax), (ymin, ymax))</p>


            <details class="quote">
              <summary>Source code in <code>cython_extensions/map_analysis.pyi</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-35">35</a></span>
<span class="normal"><a href="#__codelineno-0-36">36</a></span>
<span class="normal"><a href="#__codelineno-0-37">37</a></span>
<span class="normal"><a href="#__codelineno-0-38">38</a></span>
<span class="normal"><a href="#__codelineno-0-39">39</a></span>
<span class="normal"><a href="#__codelineno-0-40">40</a></span>
<span class="normal"><a href="#__codelineno-0-41">41</a></span>
<span class="normal"><a href="#__codelineno-0-42">42</a></span>
<span class="normal"><a href="#__codelineno-0-43">43</a></span>
<span class="normal"><a href="#__codelineno-0-44">44</a></span>
<span class="normal"><a href="#__codelineno-0-45">45</a></span>
<span class="normal"><a href="#__codelineno-0-46">46</a></span>
<span class="normal"><a href="#__codelineno-0-47">47</a></span>
<span class="normal"><a href="#__codelineno-0-48">48</a></span>
<span class="normal"><a href="#__codelineno-0-49">49</a></span>
<span class="normal"><a href="#__codelineno-0-50">50</a></span>
<span class="normal"><a href="#__codelineno-0-51">51</a></span>
<span class="normal"><a href="#__codelineno-0-52">52</a></span>
<span class="normal"><a href="#__codelineno-0-53">53</a></span>
<span class="normal"><a href="#__codelineno-0-54">54</a></span>
<span class="normal"><a href="#__codelineno-0-55">55</a></span>
<span class="normal"><a href="#__codelineno-0-56">56</a></span>
<span class="normal"><a href="#__codelineno-0-57">57</a></span>
<span class="normal"><a href="#__codelineno-0-58">58</a></span>
<span class="normal"><a href="#__codelineno-0-59">59</a></span>
<span class="normal"><a href="#__codelineno-0-60">60</a></span>
<span class="normal"><a href="#__codelineno-0-61">61</a></span>
<span class="normal"><a href="#__codelineno-0-62">62</a></span>
<span class="normal"><a href="#__codelineno-0-63">63</a></span>
<span class="normal"><a href="#__codelineno-0-64">64</a></span>
<span class="normal"><a href="#__codelineno-0-65">65</a></span>
<span class="normal"><a href="#__codelineno-0-66">66</a></span>
<span class="normal"><a href="#__codelineno-0-67">67</a></span>
<span class="normal"><a href="#__codelineno-0-68">68</a></span>
<span class="normal"><a href="#__codelineno-0-69">69</a></span>
<span class="normal"><a href="#__codelineno-0-70">70</a></span>
<span class="normal"><a href="#__codelineno-0-71">71</a></span>
<span class="normal"><a href="#__codelineno-0-72">72</a></span>
<span class="normal"><a href="#__codelineno-0-73">73</a></span>
<span class="normal"><a href="#__codelineno-0-74">74</a></span>
<span class="normal"><a href="#__codelineno-0-75">75</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-35" name="__codelineno-0-35"></a><span class="k">def</span><span class="w"> </span><span class="nf">cy_flood_fill_grid</span><span class="p">(</span>
<a id="__codelineno-0-36" name="__codelineno-0-36"></a>    <span class="n">start_point</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Point2</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">],</span>
<a id="__codelineno-0-37" name="__codelineno-0-37"></a>    <span class="n">terrain_grid</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span>
<a id="__codelineno-0-38" name="__codelineno-0-38"></a>    <span class="n">pathing_grid</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span>
<a id="__codelineno-0-39" name="__codelineno-0-39"></a>    <span class="n">max_distance</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
<a id="__codelineno-0-40" name="__codelineno-0-40"></a>    <span class="n">cutoff_points</span><span class="p">:</span> <span class="nb">set</span><span class="p">,</span>
<a id="__codelineno-0-41" name="__codelineno-0-41"></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">set</span><span class="p">[</span><span class="nb">tuple</span><span class="p">]:</span>
<a id="__codelineno-0-42" name="__codelineno-0-42"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Given a set of coordinates, draw a box that fits</span>
<a id="__codelineno-0-43" name="__codelineno-0-43"></a><span class="sd">    all the points.</span>
<a id="__codelineno-0-44" name="__codelineno-0-44"></a>
<a id="__codelineno-0-45" name="__codelineno-0-45"></a><span class="sd">    Example:</span>
<a id="__codelineno-0-46" name="__codelineno-0-46"></a><span class="sd">    ```py</span>
<a id="__codelineno-0-47" name="__codelineno-0-47"></a><span class="sd">    from cython_extensions import cy_flood_fill_grid</span>
<a id="__codelineno-0-48" name="__codelineno-0-48"></a>
<a id="__codelineno-0-49" name="__codelineno-0-49"></a><span class="sd">    all_points = terrain_flood_fill(</span>
<a id="__codelineno-0-50" name="__codelineno-0-50"></a><span class="sd">        start_point=self.start_location.rounded,</span>
<a id="__codelineno-0-51" name="__codelineno-0-51"></a><span class="sd">        terrain_grid=self.game_info.terrain_height.data_numpy.T,</span>
<a id="__codelineno-0-52" name="__codelineno-0-52"></a><span class="sd">        pathing_grid=self.game_info.pathing_grid.data_numpy.T,</span>
<a id="__codelineno-0-53" name="__codelineno-0-53"></a><span class="sd">        max_distance=40,</span>
<a id="__codelineno-0-54" name="__codelineno-0-54"></a><span class="sd">        choke_points={}</span>
<a id="__codelineno-0-55" name="__codelineno-0-55"></a><span class="sd">    )</span>
<a id="__codelineno-0-56" name="__codelineno-0-56"></a>
<a id="__codelineno-0-57" name="__codelineno-0-57"></a><span class="sd">    ```</span>
<a id="__codelineno-0-58" name="__codelineno-0-58"></a>
<a id="__codelineno-0-59" name="__codelineno-0-59"></a><span class="sd">    Parameters</span>
<a id="__codelineno-0-60" name="__codelineno-0-60"></a><span class="sd">    ----------</span>
<a id="__codelineno-0-61" name="__codelineno-0-61"></a><span class="sd">    start_point : Start algorithm from here.</span>
<a id="__codelineno-0-62" name="__codelineno-0-62"></a><span class="sd">    terrain_grid : Numpy array containing heights for the map.</span>
<a id="__codelineno-0-63" name="__codelineno-0-63"></a><span class="sd">    pathing_grid : Numpy array containing pathing values for the map.</span>
<a id="__codelineno-0-64" name="__codelineno-0-64"></a><span class="sd">    max_distance : The maximum distance the flood fill should reach before halting.</span>
<a id="__codelineno-0-65" name="__codelineno-0-65"></a><span class="sd">    cutoff_points : Points which we don&#39;t want the algorithm to pass.</span>
<a id="__codelineno-0-66" name="__codelineno-0-66"></a><span class="sd">    Choke points are a good use case.</span>
<a id="__codelineno-0-67" name="__codelineno-0-67"></a>
<a id="__codelineno-0-68" name="__codelineno-0-68"></a><span class="sd">    Returns</span>
<a id="__codelineno-0-69" name="__codelineno-0-69"></a><span class="sd">    -------</span>
<a id="__codelineno-0-70" name="__codelineno-0-70"></a><span class="sd">    tuple of tuple of float :</span>
<a id="__codelineno-0-71" name="__codelineno-0-71"></a><span class="sd">        A pair of coordinates that determine the box in the following format:</span>
<a id="__codelineno-0-72" name="__codelineno-0-72"></a><span class="sd">        ((xmin, xmax), (ymin, ymax))</span>
<a id="__codelineno-0-73" name="__codelineno-0-73"></a>
<a id="__codelineno-0-74" name="__codelineno-0-74"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-75" name="__codelineno-0-75"></a>    <span class="o">...</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="cython_extensions.map_analysis.cy_get_bounding_box" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">cy_get_bounding_box</span><span class="p">(</span><span class="n">coordinates</span><span class="p">)</span></code>

<a href="#cython_extensions.map_analysis.cy_get_bounding_box" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Given a set of coordinates, draw a box that fits
all the points.</p>
<p>Example:
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="kn">from</span><span class="w"> </span><span class="nn">cython_extensions</span><span class="w"> </span><span class="kn">import</span> <span class="n">cy_get_bounding_box</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="n">points</span><span class="p">:</span> <span class="nb">set</span><span class="p">[</span><span class="n">Point2</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="n">w</span><span class="o">.</span><span class="n">position</span> <span class="k">for</span> <span class="n">w</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">workers</span><span class="p">}</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="n">raw_x_bounds</span><span class="p">,</span> <span class="n">raw_y_bounds</span> <span class="o">=</span> <span class="n">cy_get_bounding_box</span><span class="p">(</span><span class="n">points</span><span class="p">)</span>
</code></pre></div></p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>coordinates</code>
            </td>
            <td>
                  <code><span title="set">set</span>[<span title="sc2.position.Point2">Point2</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The points around which the bounding box should be drawn.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="tuple">tuple</span>[<span title="float">float</span>, <span title="float">float</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A tuple containing two tuples:</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                  <code><span title="tuple">tuple</span>[<span title="float">float</span>, <span title="float">float</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <ul>
<li>The first tuple represents the minimum and maximum x values</li>
</ul>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                  <code><span title="tuple">tuple</span>[<span title="tuple">tuple</span>[<span title="float">float</span>, <span title="float">float</span>], <span title="tuple">tuple</span>[<span title="float">float</span>, <span title="float">float</span>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>(xmin, xmax).</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                  <code><span title="tuple">tuple</span>[<span title="tuple">tuple</span>[<span title="float">float</span>, <span title="float">float</span>], <span title="tuple">tuple</span>[<span title="float">float</span>, <span title="float">float</span>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <ul>
<li>The second tuple represents the minimum and maximum y values</li>
</ul>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                  <code><span title="tuple">tuple</span>[<span title="tuple">tuple</span>[<span title="float">float</span>, <span title="float">float</span>], <span title="tuple">tuple</span>[<span title="float">float</span>, <span title="float">float</span>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>(ymin, ymax).</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>cython_extensions/map_analysis.pyi</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-0-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-0-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-0-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-0-10">10</a></span>
<span class="normal"><a href="#__codelineno-0-11">11</a></span>
<span class="normal"><a href="#__codelineno-0-12">12</a></span>
<span class="normal"><a href="#__codelineno-0-13">13</a></span>
<span class="normal"><a href="#__codelineno-0-14">14</a></span>
<span class="normal"><a href="#__codelineno-0-15">15</a></span>
<span class="normal"><a href="#__codelineno-0-16">16</a></span>
<span class="normal"><a href="#__codelineno-0-17">17</a></span>
<span class="normal"><a href="#__codelineno-0-18">18</a></span>
<span class="normal"><a href="#__codelineno-0-19">19</a></span>
<span class="normal"><a href="#__codelineno-0-20">20</a></span>
<span class="normal"><a href="#__codelineno-0-21">21</a></span>
<span class="normal"><a href="#__codelineno-0-22">22</a></span>
<span class="normal"><a href="#__codelineno-0-23">23</a></span>
<span class="normal"><a href="#__codelineno-0-24">24</a></span>
<span class="normal"><a href="#__codelineno-0-25">25</a></span>
<span class="normal"><a href="#__codelineno-0-26">26</a></span>
<span class="normal"><a href="#__codelineno-0-27">27</a></span>
<span class="normal"><a href="#__codelineno-0-28">28</a></span>
<span class="normal"><a href="#__codelineno-0-29">29</a></span>
<span class="normal"><a href="#__codelineno-0-30">30</a></span>
<span class="normal"><a href="#__codelineno-0-31">31</a></span>
<span class="normal"><a href="#__codelineno-0-32">32</a></span>
<span class="normal"><a href="#__codelineno-0-33">33</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-6" name="__codelineno-0-6"></a><span class="k">def</span><span class="w"> </span><span class="nf">cy_get_bounding_box</span><span class="p">(</span>
<a id="__codelineno-0-7" name="__codelineno-0-7"></a>    <span class="n">coordinates</span><span class="p">:</span> <span class="nb">set</span><span class="p">[</span><span class="n">Point2</span><span class="p">],</span>
<a id="__codelineno-0-8" name="__codelineno-0-8"></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">tuple</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">],</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">]]:</span>
<a id="__codelineno-0-9" name="__codelineno-0-9"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Given a set of coordinates, draw a box that fits</span>
<a id="__codelineno-0-10" name="__codelineno-0-10"></a><span class="sd">    all the points.</span>
<a id="__codelineno-0-11" name="__codelineno-0-11"></a>
<a id="__codelineno-0-12" name="__codelineno-0-12"></a><span class="sd">    Example:</span>
<a id="__codelineno-0-13" name="__codelineno-0-13"></a><span class="sd">    ```py</span>
<a id="__codelineno-0-14" name="__codelineno-0-14"></a><span class="sd">    from cython_extensions import cy_get_bounding_box</span>
<a id="__codelineno-0-15" name="__codelineno-0-15"></a>
<a id="__codelineno-0-16" name="__codelineno-0-16"></a><span class="sd">    points: set[Point2] = {w.position for w in self.workers}</span>
<a id="__codelineno-0-17" name="__codelineno-0-17"></a><span class="sd">    raw_x_bounds, raw_y_bounds = cy_get_bounding_box(points)</span>
<a id="__codelineno-0-18" name="__codelineno-0-18"></a>
<a id="__codelineno-0-19" name="__codelineno-0-19"></a><span class="sd">    ```</span>
<a id="__codelineno-0-20" name="__codelineno-0-20"></a>
<a id="__codelineno-0-21" name="__codelineno-0-21"></a><span class="sd">    Args:</span>
<a id="__codelineno-0-22" name="__codelineno-0-22"></a><span class="sd">        coordinates:</span>
<a id="__codelineno-0-23" name="__codelineno-0-23"></a><span class="sd">            The points around which the bounding box should be drawn.</span>
<a id="__codelineno-0-24" name="__codelineno-0-24"></a>
<a id="__codelineno-0-25" name="__codelineno-0-25"></a><span class="sd">    Returns:</span>
<a id="__codelineno-0-26" name="__codelineno-0-26"></a><span class="sd">        A tuple containing two tuples:</span>
<a id="__codelineno-0-27" name="__codelineno-0-27"></a><span class="sd">        - The first tuple represents the minimum and maximum x values</span>
<a id="__codelineno-0-28" name="__codelineno-0-28"></a><span class="sd">        (xmin, xmax).</span>
<a id="__codelineno-0-29" name="__codelineno-0-29"></a><span class="sd">        - The second tuple represents the minimum and maximum y values</span>
<a id="__codelineno-0-30" name="__codelineno-0-30"></a><span class="sd">        (ymin, ymax).</span>
<a id="__codelineno-0-31" name="__codelineno-0-31"></a>
<a id="__codelineno-0-32" name="__codelineno-0-32"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-33" name="__codelineno-0-33"></a>    <span class="o">...</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<a id="cython_extensions.numpy_helper"></a>
    <div class="doc doc-contents first">










  <div class="doc doc-children">










<div class="doc doc-object doc-function">


<h2 id="cython_extensions.numpy_helper.cy_all_points_below_max_value" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">cy_all_points_below_max_value</span><span class="p">(</span><span class="n">grid</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">points_to_check</span><span class="p">)</span></code>

<a href="#cython_extensions.numpy_helper.cy_all_points_below_max_value" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Check points on grid, and return True if they are all below
<code>value</code>.</p>
<p>Example:
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="kn">from</span><span class="w"> </span><span class="nn">cython_extensions</span><span class="w"> </span><span class="kn">import</span> <span class="n">cy_all_points_below_max_value</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="c1"># pretend grid has enemy influence added</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="n">grid</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_info</span><span class="o">.</span><span class="n">pathing_grid</span><span class="o">.</span><span class="n">data_numpy</span><span class="o">.</span><span class="n">T</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="n">all_safe</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="n">cy_all_points_below_max_value</span><span class="p">(</span>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a>    <span class="n">grid</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">start_location</span><span class="o">.</span><span class="n">rounded</span><span class="p">]</span>
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a><span class="p">)</span>
</code></pre></div></p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>grid</code>
            </td>
            <td>
                  <code><span title="numpy.ndarray">ndarray</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The grid to check.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>value</code>
            </td>
            <td>
                  <code><span title="float">float</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The max value.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>points_to_check</code>
            </td>
            <td>
                  <code><span title="list">list</span>[<span title="tuple">tuple</span>[<span title="int">int</span>, <span title="int">int</span>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>List of points we are checking.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Are all points_to_check below value?</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>cython_extensions/numpy_helper.pyi</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-100">100</a></span>
<span class="normal"><a href="#__codelineno-0-101">101</a></span>
<span class="normal"><a href="#__codelineno-0-102">102</a></span>
<span class="normal"><a href="#__codelineno-0-103">103</a></span>
<span class="normal"><a href="#__codelineno-0-104">104</a></span>
<span class="normal"><a href="#__codelineno-0-105">105</a></span>
<span class="normal"><a href="#__codelineno-0-106">106</a></span>
<span class="normal"><a href="#__codelineno-0-107">107</a></span>
<span class="normal"><a href="#__codelineno-0-108">108</a></span>
<span class="normal"><a href="#__codelineno-0-109">109</a></span>
<span class="normal"><a href="#__codelineno-0-110">110</a></span>
<span class="normal"><a href="#__codelineno-0-111">111</a></span>
<span class="normal"><a href="#__codelineno-0-112">112</a></span>
<span class="normal"><a href="#__codelineno-0-113">113</a></span>
<span class="normal"><a href="#__codelineno-0-114">114</a></span>
<span class="normal"><a href="#__codelineno-0-115">115</a></span>
<span class="normal"><a href="#__codelineno-0-116">116</a></span>
<span class="normal"><a href="#__codelineno-0-117">117</a></span>
<span class="normal"><a href="#__codelineno-0-118">118</a></span>
<span class="normal"><a href="#__codelineno-0-119">119</a></span>
<span class="normal"><a href="#__codelineno-0-120">120</a></span>
<span class="normal"><a href="#__codelineno-0-121">121</a></span>
<span class="normal"><a href="#__codelineno-0-122">122</a></span>
<span class="normal"><a href="#__codelineno-0-123">123</a></span>
<span class="normal"><a href="#__codelineno-0-124">124</a></span>
<span class="normal"><a href="#__codelineno-0-125">125</a></span>
<span class="normal"><a href="#__codelineno-0-126">126</a></span>
<span class="normal"><a href="#__codelineno-0-127">127</a></span>
<span class="normal"><a href="#__codelineno-0-128">128</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-100" name="__codelineno-0-100"></a><span class="k">def</span><span class="w"> </span><span class="nf">cy_all_points_below_max_value</span><span class="p">(</span>
<a id="__codelineno-0-101" name="__codelineno-0-101"></a>    <span class="n">grid</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">points_to_check</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">]]</span>
<a id="__codelineno-0-102" name="__codelineno-0-102"></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<a id="__codelineno-0-103" name="__codelineno-0-103"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Check points on grid, and return True if they are all below</span>
<a id="__codelineno-0-104" name="__codelineno-0-104"></a><span class="sd">    `value`.</span>
<a id="__codelineno-0-105" name="__codelineno-0-105"></a>
<a id="__codelineno-0-106" name="__codelineno-0-106"></a><span class="sd">    Example:</span>
<a id="__codelineno-0-107" name="__codelineno-0-107"></a><span class="sd">    ```py</span>
<a id="__codelineno-0-108" name="__codelineno-0-108"></a><span class="sd">    from cython_extensions import cy_all_points_below_max_value</span>
<a id="__codelineno-0-109" name="__codelineno-0-109"></a>
<a id="__codelineno-0-110" name="__codelineno-0-110"></a><span class="sd">    # pretend grid has enemy influence added</span>
<a id="__codelineno-0-111" name="__codelineno-0-111"></a><span class="sd">    grid = self.game_info.pathing_grid.data_numpy.T</span>
<a id="__codelineno-0-112" name="__codelineno-0-112"></a><span class="sd">    all_safe: bool = cy_all_points_below_max_value(</span>
<a id="__codelineno-0-113" name="__codelineno-0-113"></a><span class="sd">        grid, 1.0, [self.start_location.rounded]</span>
<a id="__codelineno-0-114" name="__codelineno-0-114"></a><span class="sd">    )</span>
<a id="__codelineno-0-115" name="__codelineno-0-115"></a>
<a id="__codelineno-0-116" name="__codelineno-0-116"></a><span class="sd">    ```</span>
<a id="__codelineno-0-117" name="__codelineno-0-117"></a>
<a id="__codelineno-0-118" name="__codelineno-0-118"></a><span class="sd">    Parameters:</span>
<a id="__codelineno-0-119" name="__codelineno-0-119"></a><span class="sd">        grid: The grid to check.</span>
<a id="__codelineno-0-120" name="__codelineno-0-120"></a><span class="sd">        value: The max value.</span>
<a id="__codelineno-0-121" name="__codelineno-0-121"></a><span class="sd">        points_to_check: List of points we are checking.</span>
<a id="__codelineno-0-122" name="__codelineno-0-122"></a>
<a id="__codelineno-0-123" name="__codelineno-0-123"></a><span class="sd">    Returns:</span>
<a id="__codelineno-0-124" name="__codelineno-0-124"></a><span class="sd">        Are all points_to_check below value?</span>
<a id="__codelineno-0-125" name="__codelineno-0-125"></a>
<a id="__codelineno-0-126" name="__codelineno-0-126"></a>
<a id="__codelineno-0-127" name="__codelineno-0-127"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-128" name="__codelineno-0-128"></a>    <span class="o">...</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="cython_extensions.numpy_helper.cy_all_points_have_value" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">cy_all_points_have_value</span><span class="p">(</span><span class="n">grid</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">points</span><span class="p">)</span></code>

<a href="#cython_extensions.numpy_helper.cy_all_points_have_value" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Check points on grid, and return True if they are all equal
<code>value</code>.</p>
<p>Example:
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="kn">from</span><span class="w"> </span><span class="nn">cython_extensions</span><span class="w"> </span><span class="kn">import</span> <span class="n">cy_all_points_have_value</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="c1"># pretend grid has enemy influence added</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="n">grid</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_info</span><span class="o">.</span><span class="n">pathing_grid</span><span class="o">.</span><span class="n">data_numpy</span><span class="o">.</span><span class="n">T</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="n">all_safe</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="n">cy_all_points_have_value</span><span class="p">(</span>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a>    <span class="n">grid</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">start_location</span><span class="o">.</span><span class="n">rounded</span><span class="p">]</span>
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a><span class="p">)</span>
</code></pre></div></p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>grid</code>
            </td>
            <td>
                  <code><span title="numpy.ndarray">ndarray</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The grid to check.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>value</code>
            </td>
            <td>
                  <code><span title="float">float</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The max value.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>points</code>
            </td>
            <td>
                  <code><span title="list">list</span>[<span title="tuple">tuple</span>[<span title="int">int</span>, <span title="int">int</span>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>List of points we are checking.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Are all points equal value?</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>cython_extensions/numpy_helper.pyi</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-130">130</a></span>
<span class="normal"><a href="#__codelineno-0-131">131</a></span>
<span class="normal"><a href="#__codelineno-0-132">132</a></span>
<span class="normal"><a href="#__codelineno-0-133">133</a></span>
<span class="normal"><a href="#__codelineno-0-134">134</a></span>
<span class="normal"><a href="#__codelineno-0-135">135</a></span>
<span class="normal"><a href="#__codelineno-0-136">136</a></span>
<span class="normal"><a href="#__codelineno-0-137">137</a></span>
<span class="normal"><a href="#__codelineno-0-138">138</a></span>
<span class="normal"><a href="#__codelineno-0-139">139</a></span>
<span class="normal"><a href="#__codelineno-0-140">140</a></span>
<span class="normal"><a href="#__codelineno-0-141">141</a></span>
<span class="normal"><a href="#__codelineno-0-142">142</a></span>
<span class="normal"><a href="#__codelineno-0-143">143</a></span>
<span class="normal"><a href="#__codelineno-0-144">144</a></span>
<span class="normal"><a href="#__codelineno-0-145">145</a></span>
<span class="normal"><a href="#__codelineno-0-146">146</a></span>
<span class="normal"><a href="#__codelineno-0-147">147</a></span>
<span class="normal"><a href="#__codelineno-0-148">148</a></span>
<span class="normal"><a href="#__codelineno-0-149">149</a></span>
<span class="normal"><a href="#__codelineno-0-150">150</a></span>
<span class="normal"><a href="#__codelineno-0-151">151</a></span>
<span class="normal"><a href="#__codelineno-0-152">152</a></span>
<span class="normal"><a href="#__codelineno-0-153">153</a></span>
<span class="normal"><a href="#__codelineno-0-154">154</a></span>
<span class="normal"><a href="#__codelineno-0-155">155</a></span>
<span class="normal"><a href="#__codelineno-0-156">156</a></span>
<span class="normal"><a href="#__codelineno-0-157">157</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-130" name="__codelineno-0-130"></a><span class="k">def</span><span class="w"> </span><span class="nf">cy_all_points_have_value</span><span class="p">(</span>
<a id="__codelineno-0-131" name="__codelineno-0-131"></a>    <span class="n">grid</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">points</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">]]</span>
<a id="__codelineno-0-132" name="__codelineno-0-132"></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<a id="__codelineno-0-133" name="__codelineno-0-133"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Check points on grid, and return True if they are all equal</span>
<a id="__codelineno-0-134" name="__codelineno-0-134"></a><span class="sd">    `value`.</span>
<a id="__codelineno-0-135" name="__codelineno-0-135"></a>
<a id="__codelineno-0-136" name="__codelineno-0-136"></a><span class="sd">    Example:</span>
<a id="__codelineno-0-137" name="__codelineno-0-137"></a><span class="sd">    ```py</span>
<a id="__codelineno-0-138" name="__codelineno-0-138"></a><span class="sd">    from cython_extensions import cy_all_points_have_value</span>
<a id="__codelineno-0-139" name="__codelineno-0-139"></a>
<a id="__codelineno-0-140" name="__codelineno-0-140"></a><span class="sd">    # pretend grid has enemy influence added</span>
<a id="__codelineno-0-141" name="__codelineno-0-141"></a><span class="sd">    grid = self.game_info.pathing_grid.data_numpy.T</span>
<a id="__codelineno-0-142" name="__codelineno-0-142"></a><span class="sd">    all_safe: bool = cy_all_points_have_value(</span>
<a id="__codelineno-0-143" name="__codelineno-0-143"></a><span class="sd">        grid, 1.0, [self.start_location.rounded]</span>
<a id="__codelineno-0-144" name="__codelineno-0-144"></a><span class="sd">    )</span>
<a id="__codelineno-0-145" name="__codelineno-0-145"></a>
<a id="__codelineno-0-146" name="__codelineno-0-146"></a><span class="sd">    ```</span>
<a id="__codelineno-0-147" name="__codelineno-0-147"></a>
<a id="__codelineno-0-148" name="__codelineno-0-148"></a><span class="sd">    Parameters:</span>
<a id="__codelineno-0-149" name="__codelineno-0-149"></a><span class="sd">        grid: The grid to check.</span>
<a id="__codelineno-0-150" name="__codelineno-0-150"></a><span class="sd">        value: The max value.</span>
<a id="__codelineno-0-151" name="__codelineno-0-151"></a><span class="sd">        points: List of points we are checking.</span>
<a id="__codelineno-0-152" name="__codelineno-0-152"></a>
<a id="__codelineno-0-153" name="__codelineno-0-153"></a><span class="sd">    Returns:</span>
<a id="__codelineno-0-154" name="__codelineno-0-154"></a><span class="sd">        Are all points equal value?</span>
<a id="__codelineno-0-155" name="__codelineno-0-155"></a>
<a id="__codelineno-0-156" name="__codelineno-0-156"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-157" name="__codelineno-0-157"></a>    <span class="o">...</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="cython_extensions.numpy_helper.cy_last_index_with_value" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">cy_last_index_with_value</span><span class="p">(</span><span class="n">grid</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">points</span><span class="p">)</span></code>

<a href="#cython_extensions.numpy_helper.cy_last_index_with_value" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Finds the last index with the matching value, stopping as soon as a
value doesn't match.
Returns -1 if points is empty or the first value doesn't match</p>
<p>Example:
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="kn">from</span><span class="w"> </span><span class="nn">cython_extensions</span><span class="w"> </span><span class="kn">import</span> <span class="n">cy_last_index_with_value</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="n">grid</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_info</span><span class="o">.</span><span class="n">pathing_grid</span><span class="o">.</span><span class="n">data_numpy</span><span class="o">.</span><span class="n">T</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="n">points</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">Point2</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">w</span><span class="o">.</span><span class="n">position</span><span class="o">.</span><span class="n">rounded</span> <span class="k">for</span> <span class="n">w</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">workers</span><span class="p">]</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="n">last_pathable_index</span> <span class="o">=</span> <span class="n">cy_last_index_with_value</span><span class="p">(</span><span class="n">grid</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">points</span><span class="p">)</span>
</code></pre></div></p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>grid</code>
            </td>
            <td>
                  <code><span title="numpy.ndarray">ndarray</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The grid to check <code>points</code> on.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>value</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The value we are looking for.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>points</code>
            </td>
            <td>
                  <code><span title="list">list</span>[<span title="tuple">tuple</span>[<span title="int">int</span>, <span title="int">int</span>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Points we want to check</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The last index in <code>points</code> that has <code>value</code></p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>cython_extensions/numpy_helper.pyi</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-0-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-0-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-0-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-0-10">10</a></span>
<span class="normal"><a href="#__codelineno-0-11">11</a></span>
<span class="normal"><a href="#__codelineno-0-12">12</a></span>
<span class="normal"><a href="#__codelineno-0-13">13</a></span>
<span class="normal"><a href="#__codelineno-0-14">14</a></span>
<span class="normal"><a href="#__codelineno-0-15">15</a></span>
<span class="normal"><a href="#__codelineno-0-16">16</a></span>
<span class="normal"><a href="#__codelineno-0-17">17</a></span>
<span class="normal"><a href="#__codelineno-0-18">18</a></span>
<span class="normal"><a href="#__codelineno-0-19">19</a></span>
<span class="normal"><a href="#__codelineno-0-20">20</a></span>
<span class="normal"><a href="#__codelineno-0-21">21</a></span>
<span class="normal"><a href="#__codelineno-0-22">22</a></span>
<span class="normal"><a href="#__codelineno-0-23">23</a></span>
<span class="normal"><a href="#__codelineno-0-24">24</a></span>
<span class="normal"><a href="#__codelineno-0-25">25</a></span>
<span class="normal"><a href="#__codelineno-0-26">26</a></span>
<span class="normal"><a href="#__codelineno-0-27">27</a></span>
<span class="normal"><a href="#__codelineno-0-28">28</a></span>
<span class="normal"><a href="#__codelineno-0-29">29</a></span>
<span class="normal"><a href="#__codelineno-0-30">30</a></span>
<span class="normal"><a href="#__codelineno-0-31">31</a></span>
<span class="normal"><a href="#__codelineno-0-32">32</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-6" name="__codelineno-0-6"></a><span class="k">def</span><span class="w"> </span><span class="nf">cy_last_index_with_value</span><span class="p">(</span>
<a id="__codelineno-0-7" name="__codelineno-0-7"></a>    <span class="n">grid</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">points</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">]]</span>
<a id="__codelineno-0-8" name="__codelineno-0-8"></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<a id="__codelineno-0-9" name="__codelineno-0-9"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Finds the last index with the matching value, stopping as soon as a</span>
<a id="__codelineno-0-10" name="__codelineno-0-10"></a><span class="sd">    value doesn&#39;t match.</span>
<a id="__codelineno-0-11" name="__codelineno-0-11"></a><span class="sd">    Returns -1 if points is empty or the first value doesn&#39;t match</span>
<a id="__codelineno-0-12" name="__codelineno-0-12"></a>
<a id="__codelineno-0-13" name="__codelineno-0-13"></a><span class="sd">    Example:</span>
<a id="__codelineno-0-14" name="__codelineno-0-14"></a><span class="sd">    ```py</span>
<a id="__codelineno-0-15" name="__codelineno-0-15"></a><span class="sd">    from cython_extensions import cy_last_index_with_value</span>
<a id="__codelineno-0-16" name="__codelineno-0-16"></a>
<a id="__codelineno-0-17" name="__codelineno-0-17"></a><span class="sd">    grid = self.game_info.pathing_grid.data_numpy.T</span>
<a id="__codelineno-0-18" name="__codelineno-0-18"></a><span class="sd">    points: list[Point2] = [w.position.rounded for w in self.workers]</span>
<a id="__codelineno-0-19" name="__codelineno-0-19"></a><span class="sd">    last_pathable_index = cy_last_index_with_value(grid, 1, points)</span>
<a id="__codelineno-0-20" name="__codelineno-0-20"></a>
<a id="__codelineno-0-21" name="__codelineno-0-21"></a><span class="sd">    ```</span>
<a id="__codelineno-0-22" name="__codelineno-0-22"></a>
<a id="__codelineno-0-23" name="__codelineno-0-23"></a><span class="sd">    Parameters:</span>
<a id="__codelineno-0-24" name="__codelineno-0-24"></a><span class="sd">        grid: The grid to check `points` on.</span>
<a id="__codelineno-0-25" name="__codelineno-0-25"></a><span class="sd">        value: The value we are looking for.</span>
<a id="__codelineno-0-26" name="__codelineno-0-26"></a><span class="sd">        points: Points we want to check</span>
<a id="__codelineno-0-27" name="__codelineno-0-27"></a>
<a id="__codelineno-0-28" name="__codelineno-0-28"></a><span class="sd">    Returns:</span>
<a id="__codelineno-0-29" name="__codelineno-0-29"></a><span class="sd">        The last index in `points` that has `value`</span>
<a id="__codelineno-0-30" name="__codelineno-0-30"></a>
<a id="__codelineno-0-31" name="__codelineno-0-31"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-32" name="__codelineno-0-32"></a>    <span class="o">...</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="cython_extensions.numpy_helper.cy_point_below_value" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">cy_point_below_value</span><span class="p">(</span><span class="n">grid</span><span class="p">,</span> <span class="n">position</span><span class="p">,</span> <span class="n">weight_safety_limit</span><span class="o">=</span><span class="mf">1.0</span><span class="p">)</span></code>

<a href="#cython_extensions.numpy_helper.cy_point_below_value" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Check a position on a 2D grid.
Is it below <code>weight_safety_limit</code>?
Useful for checking enemy influence on a position.</p>
<p>Example:
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="kn">from</span><span class="w"> </span><span class="nn">cython_extensions</span><span class="w"> </span><span class="kn">import</span> <span class="n">cy_point_below_value</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="c1"># pretend grid has enemy influence added</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="n">grid</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_info</span><span class="o">.</span><span class="n">pathing_grid</span><span class="o">.</span><span class="n">data_numpy</span><span class="o">.</span><span class="n">T</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="n">safe</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="n">cy_point_below_value</span><span class="p">(</span><span class="n">grid</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">start_location</span><span class="p">)</span>
</code></pre></div></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>987 ns ± 10.1 ns per loop (mean ± std. dev. of 7 runs, 1,000,000 loops each)
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a>
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a>Python alternative:
<a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a>4.66 µs ± 64.8 ns per loop (mean ± std. dev. of 7 runs, 100,000 loops each)
</code></pre></div>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>grid</code>
            </td>
            <td>
                  <code><span title="numpy.ndarray">ndarray</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The grid to check.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>position</code>
            </td>
            <td>
                  <code><span title="sc2.position.Point2">Point2</span> | <span title="tuple">tuple</span>[<span title="float">float</span>, <span title="float">float</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>2D coordinate to check on grid.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>weight_safety_limit</code>
            </td>
            <td>
                  <code><span title="float">float</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>(default = 1.0) We want to check
if the point is less than or equal to this.</p>
              </div>
            </td>
            <td>
                  <code>1.0</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The last index in <code>points</code> that has <code>value</code>.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>cython_extensions/numpy_helper.pyi</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-34">34</a></span>
<span class="normal"><a href="#__codelineno-0-35">35</a></span>
<span class="normal"><a href="#__codelineno-0-36">36</a></span>
<span class="normal"><a href="#__codelineno-0-37">37</a></span>
<span class="normal"><a href="#__codelineno-0-38">38</a></span>
<span class="normal"><a href="#__codelineno-0-39">39</a></span>
<span class="normal"><a href="#__codelineno-0-40">40</a></span>
<span class="normal"><a href="#__codelineno-0-41">41</a></span>
<span class="normal"><a href="#__codelineno-0-42">42</a></span>
<span class="normal"><a href="#__codelineno-0-43">43</a></span>
<span class="normal"><a href="#__codelineno-0-44">44</a></span>
<span class="normal"><a href="#__codelineno-0-45">45</a></span>
<span class="normal"><a href="#__codelineno-0-46">46</a></span>
<span class="normal"><a href="#__codelineno-0-47">47</a></span>
<span class="normal"><a href="#__codelineno-0-48">48</a></span>
<span class="normal"><a href="#__codelineno-0-49">49</a></span>
<span class="normal"><a href="#__codelineno-0-50">50</a></span>
<span class="normal"><a href="#__codelineno-0-51">51</a></span>
<span class="normal"><a href="#__codelineno-0-52">52</a></span>
<span class="normal"><a href="#__codelineno-0-53">53</a></span>
<span class="normal"><a href="#__codelineno-0-54">54</a></span>
<span class="normal"><a href="#__codelineno-0-55">55</a></span>
<span class="normal"><a href="#__codelineno-0-56">56</a></span>
<span class="normal"><a href="#__codelineno-0-57">57</a></span>
<span class="normal"><a href="#__codelineno-0-58">58</a></span>
<span class="normal"><a href="#__codelineno-0-59">59</a></span>
<span class="normal"><a href="#__codelineno-0-60">60</a></span>
<span class="normal"><a href="#__codelineno-0-61">61</a></span>
<span class="normal"><a href="#__codelineno-0-62">62</a></span>
<span class="normal"><a href="#__codelineno-0-63">63</a></span>
<span class="normal"><a href="#__codelineno-0-64">64</a></span>
<span class="normal"><a href="#__codelineno-0-65">65</a></span>
<span class="normal"><a href="#__codelineno-0-66">66</a></span>
<span class="normal"><a href="#__codelineno-0-67">67</a></span>
<span class="normal"><a href="#__codelineno-0-68">68</a></span>
<span class="normal"><a href="#__codelineno-0-69">69</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-34" name="__codelineno-0-34"></a><span class="k">def</span><span class="w"> </span><span class="nf">cy_point_below_value</span><span class="p">(</span>
<a id="__codelineno-0-35" name="__codelineno-0-35"></a>    <span class="n">grid</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span>
<a id="__codelineno-0-36" name="__codelineno-0-36"></a>    <span class="n">position</span><span class="p">:</span> <span class="n">Point2</span> <span class="o">|</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">],</span>
<a id="__codelineno-0-37" name="__codelineno-0-37"></a>    <span class="n">weight_safety_limit</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">1.0</span><span class="p">,</span>
<a id="__codelineno-0-38" name="__codelineno-0-38"></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<a id="__codelineno-0-39" name="__codelineno-0-39"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Check a position on a 2D grid.</span>
<a id="__codelineno-0-40" name="__codelineno-0-40"></a><span class="sd">    Is it below `weight_safety_limit`?</span>
<a id="__codelineno-0-41" name="__codelineno-0-41"></a><span class="sd">    Useful for checking enemy influence on a position.</span>
<a id="__codelineno-0-42" name="__codelineno-0-42"></a>
<a id="__codelineno-0-43" name="__codelineno-0-43"></a><span class="sd">    Example:</span>
<a id="__codelineno-0-44" name="__codelineno-0-44"></a><span class="sd">    ```py</span>
<a id="__codelineno-0-45" name="__codelineno-0-45"></a><span class="sd">    from cython_extensions import cy_point_below_value</span>
<a id="__codelineno-0-46" name="__codelineno-0-46"></a>
<a id="__codelineno-0-47" name="__codelineno-0-47"></a><span class="sd">    # pretend grid has enemy influence added</span>
<a id="__codelineno-0-48" name="__codelineno-0-48"></a><span class="sd">    grid = self.game_info.pathing_grid.data_numpy.T</span>
<a id="__codelineno-0-49" name="__codelineno-0-49"></a><span class="sd">    safe: bool = cy_point_below_value(grid, self.start_location)</span>
<a id="__codelineno-0-50" name="__codelineno-0-50"></a><span class="sd">    ```</span>
<a id="__codelineno-0-51" name="__codelineno-0-51"></a>
<a id="__codelineno-0-52" name="__codelineno-0-52"></a><span class="sd">    ```</span>
<a id="__codelineno-0-53" name="__codelineno-0-53"></a><span class="sd">    987 ns ± 10.1 ns per loop (mean ± std. dev. of 7 runs, 1,000,000 loops each)</span>
<a id="__codelineno-0-54" name="__codelineno-0-54"></a>
<a id="__codelineno-0-55" name="__codelineno-0-55"></a><span class="sd">    Python alternative:</span>
<a id="__codelineno-0-56" name="__codelineno-0-56"></a><span class="sd">    4.66 µs ± 64.8 ns per loop (mean ± std. dev. of 7 runs, 100,000 loops each)</span>
<a id="__codelineno-0-57" name="__codelineno-0-57"></a><span class="sd">    ```</span>
<a id="__codelineno-0-58" name="__codelineno-0-58"></a>
<a id="__codelineno-0-59" name="__codelineno-0-59"></a><span class="sd">    Parameters:</span>
<a id="__codelineno-0-60" name="__codelineno-0-60"></a><span class="sd">        grid: The grid to check.</span>
<a id="__codelineno-0-61" name="__codelineno-0-61"></a><span class="sd">        position: 2D coordinate to check on grid.</span>
<a id="__codelineno-0-62" name="__codelineno-0-62"></a><span class="sd">        weight_safety_limit: (default = 1.0) We want to check</span>
<a id="__codelineno-0-63" name="__codelineno-0-63"></a><span class="sd">            if the point is less than or equal to this.</span>
<a id="__codelineno-0-64" name="__codelineno-0-64"></a>
<a id="__codelineno-0-65" name="__codelineno-0-65"></a><span class="sd">    Returns:</span>
<a id="__codelineno-0-66" name="__codelineno-0-66"></a><span class="sd">        The last index in `points` that has `value`.</span>
<a id="__codelineno-0-67" name="__codelineno-0-67"></a>
<a id="__codelineno-0-68" name="__codelineno-0-68"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-69" name="__codelineno-0-69"></a>    <span class="o">...</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="cython_extensions.numpy_helper.cy_points_with_value" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">cy_points_with_value</span><span class="p">(</span><span class="n">grid</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">points</span><span class="p">)</span></code>

<a href="#cython_extensions.numpy_helper.cy_points_with_value" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Check points on grid, and return those that equal <code>value</code></p>
<p>Example:
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="kn">from</span><span class="w"> </span><span class="nn">cython_extensions</span><span class="w"> </span><span class="kn">import</span> <span class="n">cy_points_with_value</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="c1"># pretend grid has enemy influence added</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="n">grid</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_info</span><span class="o">.</span><span class="n">pathing_grid</span><span class="o">.</span><span class="n">data_numpy</span><span class="o">.</span><span class="n">T</span>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a><span class="n">safe</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="n">cy_points_with_value</span><span class="p">(</span>
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a>    <span class="n">grid</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">start_location</span><span class="o">.</span><span class="n">rounded</span><span class="p">]</span>
<a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a><span class="p">)</span>
</code></pre></div></p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>grid</code>
            </td>
            <td>
                  <code><span title="numpy.ndarray">ndarray</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The grid to check.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>value</code>
            </td>
            <td>
                  <code><span title="float">float</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>2D coordinate to check on grid.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>points</code>
            </td>
            <td>
                  <code><span title="list">list</span>[<span title="tuple">tuple</span>[<span title="int">int</span>, <span title="int">int</span>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>List of points we are checking.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="list">list</span>[<span title="tuple">tuple</span>[<span title="int">int</span>, <span title="int">int</span>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>All points that equal <code>value</code> on grid.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>cython_extensions/numpy_helper.pyi</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-71">71</a></span>
<span class="normal"><a href="#__codelineno-0-72">72</a></span>
<span class="normal"><a href="#__codelineno-0-73">73</a></span>
<span class="normal"><a href="#__codelineno-0-74">74</a></span>
<span class="normal"><a href="#__codelineno-0-75">75</a></span>
<span class="normal"><a href="#__codelineno-0-76">76</a></span>
<span class="normal"><a href="#__codelineno-0-77">77</a></span>
<span class="normal"><a href="#__codelineno-0-78">78</a></span>
<span class="normal"><a href="#__codelineno-0-79">79</a></span>
<span class="normal"><a href="#__codelineno-0-80">80</a></span>
<span class="normal"><a href="#__codelineno-0-81">81</a></span>
<span class="normal"><a href="#__codelineno-0-82">82</a></span>
<span class="normal"><a href="#__codelineno-0-83">83</a></span>
<span class="normal"><a href="#__codelineno-0-84">84</a></span>
<span class="normal"><a href="#__codelineno-0-85">85</a></span>
<span class="normal"><a href="#__codelineno-0-86">86</a></span>
<span class="normal"><a href="#__codelineno-0-87">87</a></span>
<span class="normal"><a href="#__codelineno-0-88">88</a></span>
<span class="normal"><a href="#__codelineno-0-89">89</a></span>
<span class="normal"><a href="#__codelineno-0-90">90</a></span>
<span class="normal"><a href="#__codelineno-0-91">91</a></span>
<span class="normal"><a href="#__codelineno-0-92">92</a></span>
<span class="normal"><a href="#__codelineno-0-93">93</a></span>
<span class="normal"><a href="#__codelineno-0-94">94</a></span>
<span class="normal"><a href="#__codelineno-0-95">95</a></span>
<span class="normal"><a href="#__codelineno-0-96">96</a></span>
<span class="normal"><a href="#__codelineno-0-97">97</a></span>
<span class="normal"><a href="#__codelineno-0-98">98</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-71" name="__codelineno-0-71"></a><span class="k">def</span><span class="w"> </span><span class="nf">cy_points_with_value</span><span class="p">(</span>
<a id="__codelineno-0-72" name="__codelineno-0-72"></a>    <span class="n">grid</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">points</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">]]</span>
<a id="__codelineno-0-73" name="__codelineno-0-73"></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">]]:</span>
<a id="__codelineno-0-74" name="__codelineno-0-74"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Check points on grid, and return those that equal `value`</span>
<a id="__codelineno-0-75" name="__codelineno-0-75"></a>
<a id="__codelineno-0-76" name="__codelineno-0-76"></a><span class="sd">    Example:</span>
<a id="__codelineno-0-77" name="__codelineno-0-77"></a><span class="sd">    ```py</span>
<a id="__codelineno-0-78" name="__codelineno-0-78"></a><span class="sd">    from cython_extensions import cy_points_with_value</span>
<a id="__codelineno-0-79" name="__codelineno-0-79"></a><span class="sd">    import numpy as np</span>
<a id="__codelineno-0-80" name="__codelineno-0-80"></a>
<a id="__codelineno-0-81" name="__codelineno-0-81"></a><span class="sd">    # pretend grid has enemy influence added</span>
<a id="__codelineno-0-82" name="__codelineno-0-82"></a><span class="sd">    grid: np.ndarray = self.game_info.pathing_grid.data_numpy.T</span>
<a id="__codelineno-0-83" name="__codelineno-0-83"></a><span class="sd">    safe: bool = cy_points_with_value(</span>
<a id="__codelineno-0-84" name="__codelineno-0-84"></a><span class="sd">        grid, 1.0, [self.start_location.rounded]</span>
<a id="__codelineno-0-85" name="__codelineno-0-85"></a><span class="sd">    )</span>
<a id="__codelineno-0-86" name="__codelineno-0-86"></a>
<a id="__codelineno-0-87" name="__codelineno-0-87"></a><span class="sd">    ```</span>
<a id="__codelineno-0-88" name="__codelineno-0-88"></a>
<a id="__codelineno-0-89" name="__codelineno-0-89"></a><span class="sd">    Parameters:</span>
<a id="__codelineno-0-90" name="__codelineno-0-90"></a><span class="sd">        grid: The grid to check.</span>
<a id="__codelineno-0-91" name="__codelineno-0-91"></a><span class="sd">        value: 2D coordinate to check on grid.</span>
<a id="__codelineno-0-92" name="__codelineno-0-92"></a><span class="sd">        points: List of points we are checking.</span>
<a id="__codelineno-0-93" name="__codelineno-0-93"></a>
<a id="__codelineno-0-94" name="__codelineno-0-94"></a><span class="sd">    Returns:</span>
<a id="__codelineno-0-95" name="__codelineno-0-95"></a><span class="sd">        All points that equal `value` on grid.</span>
<a id="__codelineno-0-96" name="__codelineno-0-96"></a>
<a id="__codelineno-0-97" name="__codelineno-0-97"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-98" name="__codelineno-0-98"></a>    <span class="o">...</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<a id="cython_extensions.placement_solver"></a>
    <div class="doc doc-contents first">










  <div class="doc doc-children">










<div class="doc doc-object doc-function">


<h2 id="cython_extensions.placement_solver.cy_can_place_structure" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">cy_can_place_structure</span><span class="p">(</span><span class="n">building_origin</span><span class="p">,</span> <span class="n">building_size</span><span class="p">,</span> <span class="n">creep_grid</span><span class="p">,</span> <span class="n">placement_grid</span><span class="p">,</span> <span class="n">pathing_grid</span><span class="p">,</span> <span class="n">avoid_creep</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">include_addon</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

<a href="#cython_extensions.placement_solver.cy_can_place_structure" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Simulate whether a structure can be placed at <code>building_origin</code>
Fast alternative to python-sc2 <code>can_place</code></p>
<p>Example:
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="kn">from</span><span class="w"> </span><span class="nn">cython_extensions</span><span class="w"> </span><span class="kn">import</span> <span class="n">cy_can_place_structure</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="n">can_place</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="n">cy_can_place_structure</span><span class="p">(</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>    <span class="p">(</span><span class="mi">155</span><span class="p">,</span> <span class="mi">45</span><span class="p">),</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>    <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">ai</span><span class="o">.</span><span class="n">state</span><span class="o">.</span><span class="n">creep</span><span class="o">.</span><span class="n">data_numpy</span><span class="p">,</span>
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">ai</span><span class="o">.</span><span class="n">game_info</span><span class="o">.</span><span class="n">placement_grid</span><span class="o">.</span><span class="n">data_numpy</span><span class="p">,</span>
<a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">ai</span><span class="o">.</span><span class="n">game_info</span><span class="o">.</span><span class="n">pathing_grid</span><span class="o">.</span><span class="n">data_numpy</span><span class="p">,</span>
<a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a>    <span class="n">avoid_creep</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">race</span> <span class="o">!=</span> <span class="n">Race</span><span class="o">.</span><span class="n">Zerg</span><span class="p">,</span>
<a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a>    <span class="n">include_addon</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
<a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a><span class="p">)</span>
</code></pre></div></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>1.21 µs ± 891 ns per loop (mean ± std. dev. of 1000 runs, 10 loops each)
</code></pre></div>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>building_origin</code>
            </td>
            <td>
                  <code><span title="tuple">tuple</span>[<span title="int">int</span>, <span title="int">int</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The top left corner of the intended structure.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>building_size</code>
            </td>
            <td>
                  <code><span title="tuple">tuple</span>[<span title="int">int</span>, <span title="int">int</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>For example: (3, 3) for barracks.
(2, 2) for depot,
(5, 5) for command center.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>creep_grid</code>
            </td>
            <td>
                  <code><span title="numpy.ndarray">ndarray</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Creep grid.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>placement_grid</code>
            </td>
            <td>
                  <code><span title="numpy.ndarray">ndarray</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>pathing_grid</code>
            </td>
            <td>
                  <code><span title="numpy.ndarray">ndarray</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>avoid_creep</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Ensure this is False if checking Zerg structures.</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>include_addon</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Check if there is room for addon too.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Can we place structure at building_origin?</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>cython_extensions/placement_solver.pyi</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-0-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-0-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-0-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-0-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-0-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-0-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-0-10">10</a></span>
<span class="normal"><a href="#__codelineno-0-11">11</a></span>
<span class="normal"><a href="#__codelineno-0-12">12</a></span>
<span class="normal"><a href="#__codelineno-0-13">13</a></span>
<span class="normal"><a href="#__codelineno-0-14">14</a></span>
<span class="normal"><a href="#__codelineno-0-15">15</a></span>
<span class="normal"><a href="#__codelineno-0-16">16</a></span>
<span class="normal"><a href="#__codelineno-0-17">17</a></span>
<span class="normal"><a href="#__codelineno-0-18">18</a></span>
<span class="normal"><a href="#__codelineno-0-19">19</a></span>
<span class="normal"><a href="#__codelineno-0-20">20</a></span>
<span class="normal"><a href="#__codelineno-0-21">21</a></span>
<span class="normal"><a href="#__codelineno-0-22">22</a></span>
<span class="normal"><a href="#__codelineno-0-23">23</a></span>
<span class="normal"><a href="#__codelineno-0-24">24</a></span>
<span class="normal"><a href="#__codelineno-0-25">25</a></span>
<span class="normal"><a href="#__codelineno-0-26">26</a></span>
<span class="normal"><a href="#__codelineno-0-27">27</a></span>
<span class="normal"><a href="#__codelineno-0-28">28</a></span>
<span class="normal"><a href="#__codelineno-0-29">29</a></span>
<span class="normal"><a href="#__codelineno-0-30">30</a></span>
<span class="normal"><a href="#__codelineno-0-31">31</a></span>
<span class="normal"><a href="#__codelineno-0-32">32</a></span>
<span class="normal"><a href="#__codelineno-0-33">33</a></span>
<span class="normal"><a href="#__codelineno-0-34">34</a></span>
<span class="normal"><a href="#__codelineno-0-35">35</a></span>
<span class="normal"><a href="#__codelineno-0-36">36</a></span>
<span class="normal"><a href="#__codelineno-0-37">37</a></span>
<span class="normal"><a href="#__codelineno-0-38">38</a></span>
<span class="normal"><a href="#__codelineno-0-39">39</a></span>
<span class="normal"><a href="#__codelineno-0-40">40</a></span>
<span class="normal"><a href="#__codelineno-0-41">41</a></span>
<span class="normal"><a href="#__codelineno-0-42">42</a></span>
<span class="normal"><a href="#__codelineno-0-43">43</a></span>
<span class="normal"><a href="#__codelineno-0-44">44</a></span>
<span class="normal"><a href="#__codelineno-0-45">45</a></span>
<span class="normal"><a href="#__codelineno-0-46">46</a></span>
<span class="normal"><a href="#__codelineno-0-47">47</a></span>
<span class="normal"><a href="#__codelineno-0-48">48</a></span>
<span class="normal"><a href="#__codelineno-0-49">49</a></span>
<span class="normal"><a href="#__codelineno-0-50">50</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-3" name="__codelineno-0-3"></a><span class="k">def</span><span class="w"> </span><span class="nf">cy_can_place_structure</span><span class="p">(</span>
<a id="__codelineno-0-4" name="__codelineno-0-4"></a>    <span class="n">building_origin</span><span class="p">:</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">],</span>
<a id="__codelineno-0-5" name="__codelineno-0-5"></a>    <span class="n">building_size</span><span class="p">:</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">],</span>
<a id="__codelineno-0-6" name="__codelineno-0-6"></a>    <span class="n">creep_grid</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span>
<a id="__codelineno-0-7" name="__codelineno-0-7"></a>    <span class="n">placement_grid</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span>
<a id="__codelineno-0-8" name="__codelineno-0-8"></a>    <span class="n">pathing_grid</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span>
<a id="__codelineno-0-9" name="__codelineno-0-9"></a>    <span class="n">avoid_creep</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
<a id="__codelineno-0-10" name="__codelineno-0-10"></a>    <span class="n">include_addon</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<a id="__codelineno-0-11" name="__codelineno-0-11"></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<a id="__codelineno-0-12" name="__codelineno-0-12"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Simulate whether a structure can be placed at `building_origin`</span>
<a id="__codelineno-0-13" name="__codelineno-0-13"></a><span class="sd">    Fast alternative to python-sc2 `can_place`</span>
<a id="__codelineno-0-14" name="__codelineno-0-14"></a>
<a id="__codelineno-0-15" name="__codelineno-0-15"></a><span class="sd">    Example:</span>
<a id="__codelineno-0-16" name="__codelineno-0-16"></a><span class="sd">    ```py</span>
<a id="__codelineno-0-17" name="__codelineno-0-17"></a><span class="sd">    from cython_extensions import cy_can_place_structure</span>
<a id="__codelineno-0-18" name="__codelineno-0-18"></a>
<a id="__codelineno-0-19" name="__codelineno-0-19"></a><span class="sd">    can_place: bool = cy_can_place_structure(</span>
<a id="__codelineno-0-20" name="__codelineno-0-20"></a><span class="sd">        (155, 45),</span>
<a id="__codelineno-0-21" name="__codelineno-0-21"></a><span class="sd">        (3, 3),</span>
<a id="__codelineno-0-22" name="__codelineno-0-22"></a><span class="sd">        self.ai.state.creep.data_numpy,</span>
<a id="__codelineno-0-23" name="__codelineno-0-23"></a><span class="sd">        self.ai.game_info.placement_grid.data_numpy,</span>
<a id="__codelineno-0-24" name="__codelineno-0-24"></a><span class="sd">        self.ai.game_info.pathing_grid.data_numpy,</span>
<a id="__codelineno-0-25" name="__codelineno-0-25"></a><span class="sd">        avoid_creep=self.race != Race.Zerg,</span>
<a id="__codelineno-0-26" name="__codelineno-0-26"></a><span class="sd">        include_addon=False,</span>
<a id="__codelineno-0-27" name="__codelineno-0-27"></a><span class="sd">    )</span>
<a id="__codelineno-0-28" name="__codelineno-0-28"></a><span class="sd">    ```</span>
<a id="__codelineno-0-29" name="__codelineno-0-29"></a>
<a id="__codelineno-0-30" name="__codelineno-0-30"></a><span class="sd">    ```</span>
<a id="__codelineno-0-31" name="__codelineno-0-31"></a><span class="sd">    1.21 µs ± 891 ns per loop (mean ± std. dev. of 1000 runs, 10 loops each)</span>
<a id="__codelineno-0-32" name="__codelineno-0-32"></a><span class="sd">    ```</span>
<a id="__codelineno-0-33" name="__codelineno-0-33"></a>
<a id="__codelineno-0-34" name="__codelineno-0-34"></a><span class="sd">    Parameters:</span>
<a id="__codelineno-0-35" name="__codelineno-0-35"></a><span class="sd">        building_origin: The top left corner of the intended structure.</span>
<a id="__codelineno-0-36" name="__codelineno-0-36"></a><span class="sd">        building_size: For example: (3, 3) for barracks.</span>
<a id="__codelineno-0-37" name="__codelineno-0-37"></a><span class="sd">            (2, 2) for depot,</span>
<a id="__codelineno-0-38" name="__codelineno-0-38"></a><span class="sd">            (5, 5) for command center.</span>
<a id="__codelineno-0-39" name="__codelineno-0-39"></a><span class="sd">        creep_grid: Creep grid.</span>
<a id="__codelineno-0-40" name="__codelineno-0-40"></a><span class="sd">        placement_grid:</span>
<a id="__codelineno-0-41" name="__codelineno-0-41"></a><span class="sd">        pathing_grid:</span>
<a id="__codelineno-0-42" name="__codelineno-0-42"></a><span class="sd">        avoid_creep: Ensure this is False if checking Zerg structures.</span>
<a id="__codelineno-0-43" name="__codelineno-0-43"></a><span class="sd">        include_addon: Check if there is room for addon too.</span>
<a id="__codelineno-0-44" name="__codelineno-0-44"></a>
<a id="__codelineno-0-45" name="__codelineno-0-45"></a><span class="sd">    Returns:</span>
<a id="__codelineno-0-46" name="__codelineno-0-46"></a><span class="sd">        Can we place structure at building_origin?</span>
<a id="__codelineno-0-47" name="__codelineno-0-47"></a>
<a id="__codelineno-0-48" name="__codelineno-0-48"></a>
<a id="__codelineno-0-49" name="__codelineno-0-49"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-50" name="__codelineno-0-50"></a>    <span class="o">...</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="cython_extensions.placement_solver.cy_find_building_locations" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">cy_find_building_locations</span><span class="p">(</span><span class="n">kernel</span><span class="p">,</span> <span class="n">x_stride</span><span class="p">,</span> <span class="n">y_stride</span><span class="p">,</span> <span class="n">x_bounds</span><span class="p">,</span> <span class="n">y_bounds</span><span class="p">,</span> <span class="n">creep_grid</span><span class="p">,</span> <span class="n">placement_grid</span><span class="p">,</span> <span class="n">pathing_grid</span><span class="p">,</span> <span class="n">points_to_avoid_grid</span><span class="p">,</span> <span class="n">building_width</span><span class="p">,</span> <span class="n">building_height</span><span class="p">,</span> <span class="n">avoid_creep</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code>

<a href="#cython_extensions.placement_solver.cy_find_building_locations" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Use a convolution pass to find all possible building locations in an area
Check <code>ares-sc2</code> for a full example of using this to calculate
building formations.</p>
<p>https://github.com/AresSC2/ares-sc2/blob/main/src/ares/managers/placement_manager.py</p>
<p>Example:
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="kn">from</span><span class="w"> </span><span class="nn">cython_extensions</span><span class="w"> </span><span class="kn">import</span> <span class="n">cy_find_building_locations</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="c1"># find 3x3 locations, making room for addons.</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="c1"># check out map_analysis.cy_get_bounding_box to calculate</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="c1"># raw_x_bounds and raw_x_bounds</span>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a><span class="n">three_by_three_positions</span> <span class="o">=</span> <span class="n">cy_find_building_locations</span><span class="p">(</span>
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a>    <span class="n">kernel</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">((</span><span class="mi">5</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">uint8</span><span class="p">),</span>
<a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a>    <span class="n">x_stride</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span>
<a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a>    <span class="n">y_stride</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span>
<a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a>    <span class="n">x_bounds</span><span class="o">=</span><span class="n">raw_x_bounds</span><span class="p">,</span>
<a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a>    <span class="n">y_bounds</span><span class="o">=</span><span class="n">raw_y_bounds</span><span class="p">,</span>
<a id="__codelineno-0-12" name="__codelineno-0-12" href="#__codelineno-0-12"></a>    <span class="n">creep_grid</span><span class="o">=</span><span class="n">creep_grid</span><span class="p">,</span>
<a id="__codelineno-0-13" name="__codelineno-0-13" href="#__codelineno-0-13"></a>    <span class="n">placement_grid</span><span class="o">=</span><span class="n">placement_grid</span><span class="p">,</span>
<a id="__codelineno-0-14" name="__codelineno-0-14" href="#__codelineno-0-14"></a>    <span class="n">pathing_grid</span><span class="o">=</span><span class="n">pathing_grid</span><span class="p">,</span>
<a id="__codelineno-0-15" name="__codelineno-0-15" href="#__codelineno-0-15"></a>    <span class="n">points_to_avoid_grid</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">points_to_avoid_grid</span><span class="p">,</span>
<a id="__codelineno-0-16" name="__codelineno-0-16" href="#__codelineno-0-16"></a>    <span class="n">building_width</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span>
<a id="__codelineno-0-17" name="__codelineno-0-17" href="#__codelineno-0-17"></a>    <span class="n">building_height</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span>
<a id="__codelineno-0-18" name="__codelineno-0-18" href="#__codelineno-0-18"></a>    <span class="n">avoid_creep</span><span class="o">=</span><span class="kc">True</span>
<a id="__codelineno-0-19" name="__codelineno-0-19" href="#__codelineno-0-19"></a><span class="p">)</span>
</code></pre></div></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>64.8 µs ± 4.05 µs per loop (mean ± std. dev. of 1000 runs, 10 loops each)
</code></pre></div>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>kernel</code>
            </td>
            <td>
                  <code><span title="numpy.ndarray">ndarray</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The size of the sliding window that scans this area.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>x_stride</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The x distance the kernel window moves each step.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>y_stride</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The y distance the kernel window moves downwards.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>x_bounds</code>
            </td>
            <td>
                  <code><span title="tuple">tuple</span>[<span title="int">int</span>, <span title="int">int</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The starting point of the algorithm.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>y_bounds</code>
            </td>
            <td>
                  <code><span title="tuple">tuple</span>[<span title="int">int</span>, <span title="int">int</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The end point of the algorithm.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>creep_grid</code>
            </td>
            <td>
                  <code><span title="numpy.ndarray">ndarray</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>placement_grid</code>
            </td>
            <td>
                  <code><span title="numpy.ndarray">ndarray</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>pathing_grid</code>
            </td>
            <td>
                  <code><span title="numpy.ndarray">ndarray</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>points_to_avoid_grid</code>
            </td>
            <td>
                  <code><span title="numpy.ndarray">ndarray</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Grid containing <code>1</code>s where we shouldn't
place anything.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>building_width</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>building_height</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>avoid_creep</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Ensure this is False if checking Zerg structures.</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="list">list</span>[<span title="tuple">tuple</span>[<span title="float">float</span>, <span title="float">float</span>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Final list of positions that make up the building formation.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>cython_extensions/placement_solver.pyi</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-52"> 52</a></span>
<span class="normal"><a href="#__codelineno-0-53"> 53</a></span>
<span class="normal"><a href="#__codelineno-0-54"> 54</a></span>
<span class="normal"><a href="#__codelineno-0-55"> 55</a></span>
<span class="normal"><a href="#__codelineno-0-56"> 56</a></span>
<span class="normal"><a href="#__codelineno-0-57"> 57</a></span>
<span class="normal"><a href="#__codelineno-0-58"> 58</a></span>
<span class="normal"><a href="#__codelineno-0-59"> 59</a></span>
<span class="normal"><a href="#__codelineno-0-60"> 60</a></span>
<span class="normal"><a href="#__codelineno-0-61"> 61</a></span>
<span class="normal"><a href="#__codelineno-0-62"> 62</a></span>
<span class="normal"><a href="#__codelineno-0-63"> 63</a></span>
<span class="normal"><a href="#__codelineno-0-64"> 64</a></span>
<span class="normal"><a href="#__codelineno-0-65"> 65</a></span>
<span class="normal"><a href="#__codelineno-0-66"> 66</a></span>
<span class="normal"><a href="#__codelineno-0-67"> 67</a></span>
<span class="normal"><a href="#__codelineno-0-68"> 68</a></span>
<span class="normal"><a href="#__codelineno-0-69"> 69</a></span>
<span class="normal"><a href="#__codelineno-0-70"> 70</a></span>
<span class="normal"><a href="#__codelineno-0-71"> 71</a></span>
<span class="normal"><a href="#__codelineno-0-72"> 72</a></span>
<span class="normal"><a href="#__codelineno-0-73"> 73</a></span>
<span class="normal"><a href="#__codelineno-0-74"> 74</a></span>
<span class="normal"><a href="#__codelineno-0-75"> 75</a></span>
<span class="normal"><a href="#__codelineno-0-76"> 76</a></span>
<span class="normal"><a href="#__codelineno-0-77"> 77</a></span>
<span class="normal"><a href="#__codelineno-0-78"> 78</a></span>
<span class="normal"><a href="#__codelineno-0-79"> 79</a></span>
<span class="normal"><a href="#__codelineno-0-80"> 80</a></span>
<span class="normal"><a href="#__codelineno-0-81"> 81</a></span>
<span class="normal"><a href="#__codelineno-0-82"> 82</a></span>
<span class="normal"><a href="#__codelineno-0-83"> 83</a></span>
<span class="normal"><a href="#__codelineno-0-84"> 84</a></span>
<span class="normal"><a href="#__codelineno-0-85"> 85</a></span>
<span class="normal"><a href="#__codelineno-0-86"> 86</a></span>
<span class="normal"><a href="#__codelineno-0-87"> 87</a></span>
<span class="normal"><a href="#__codelineno-0-88"> 88</a></span>
<span class="normal"><a href="#__codelineno-0-89"> 89</a></span>
<span class="normal"><a href="#__codelineno-0-90"> 90</a></span>
<span class="normal"><a href="#__codelineno-0-91"> 91</a></span>
<span class="normal"><a href="#__codelineno-0-92"> 92</a></span>
<span class="normal"><a href="#__codelineno-0-93"> 93</a></span>
<span class="normal"><a href="#__codelineno-0-94"> 94</a></span>
<span class="normal"><a href="#__codelineno-0-95"> 95</a></span>
<span class="normal"><a href="#__codelineno-0-96"> 96</a></span>
<span class="normal"><a href="#__codelineno-0-97"> 97</a></span>
<span class="normal"><a href="#__codelineno-0-98"> 98</a></span>
<span class="normal"><a href="#__codelineno-0-99"> 99</a></span>
<span class="normal"><a href="#__codelineno-0-100">100</a></span>
<span class="normal"><a href="#__codelineno-0-101">101</a></span>
<span class="normal"><a href="#__codelineno-0-102">102</a></span>
<span class="normal"><a href="#__codelineno-0-103">103</a></span>
<span class="normal"><a href="#__codelineno-0-104">104</a></span>
<span class="normal"><a href="#__codelineno-0-105">105</a></span>
<span class="normal"><a href="#__codelineno-0-106">106</a></span>
<span class="normal"><a href="#__codelineno-0-107">107</a></span>
<span class="normal"><a href="#__codelineno-0-108">108</a></span>
<span class="normal"><a href="#__codelineno-0-109">109</a></span>
<span class="normal"><a href="#__codelineno-0-110">110</a></span>
<span class="normal"><a href="#__codelineno-0-111">111</a></span>
<span class="normal"><a href="#__codelineno-0-112">112</a></span>
<span class="normal"><a href="#__codelineno-0-113">113</a></span>
<span class="normal"><a href="#__codelineno-0-114">114</a></span>
<span class="normal"><a href="#__codelineno-0-115">115</a></span>
<span class="normal"><a href="#__codelineno-0-116">116</a></span>
<span class="normal"><a href="#__codelineno-0-117">117</a></span>
<span class="normal"><a href="#__codelineno-0-118">118</a></span>
<span class="normal"><a href="#__codelineno-0-119">119</a></span>
<span class="normal"><a href="#__codelineno-0-120">120</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-52" name="__codelineno-0-52"></a><span class="k">def</span><span class="w"> </span><span class="nf">cy_find_building_locations</span><span class="p">(</span>
<a id="__codelineno-0-53" name="__codelineno-0-53"></a>    <span class="n">kernel</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span>
<a id="__codelineno-0-54" name="__codelineno-0-54"></a>    <span class="n">x_stride</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
<a id="__codelineno-0-55" name="__codelineno-0-55"></a>    <span class="n">y_stride</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
<a id="__codelineno-0-56" name="__codelineno-0-56"></a>    <span class="n">x_bounds</span><span class="p">:</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">],</span>
<a id="__codelineno-0-57" name="__codelineno-0-57"></a>    <span class="n">y_bounds</span><span class="p">:</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">],</span>
<a id="__codelineno-0-58" name="__codelineno-0-58"></a>    <span class="n">creep_grid</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span>
<a id="__codelineno-0-59" name="__codelineno-0-59"></a>    <span class="n">placement_grid</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span>
<a id="__codelineno-0-60" name="__codelineno-0-60"></a>    <span class="n">pathing_grid</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span>
<a id="__codelineno-0-61" name="__codelineno-0-61"></a>    <span class="n">points_to_avoid_grid</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span>
<a id="__codelineno-0-62" name="__codelineno-0-62"></a>    <span class="n">building_width</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
<a id="__codelineno-0-63" name="__codelineno-0-63"></a>    <span class="n">building_height</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
<a id="__codelineno-0-64" name="__codelineno-0-64"></a>    <span class="n">avoid_creep</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
<a id="__codelineno-0-65" name="__codelineno-0-65"></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">tuple</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">]]:</span>
<a id="__codelineno-0-66" name="__codelineno-0-66"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Use a convolution pass to find all possible building locations in an area</span>
<a id="__codelineno-0-67" name="__codelineno-0-67"></a><span class="sd">    Check `ares-sc2` for a full example of using this to calculate</span>
<a id="__codelineno-0-68" name="__codelineno-0-68"></a><span class="sd">    building formations.</span>
<a id="__codelineno-0-69" name="__codelineno-0-69"></a>
<a id="__codelineno-0-70" name="__codelineno-0-70"></a><span class="sd">    https://github.com/AresSC2/ares-sc2/blob/main/src/ares/managers/placement_manager.py</span>
<a id="__codelineno-0-71" name="__codelineno-0-71"></a>
<a id="__codelineno-0-72" name="__codelineno-0-72"></a><span class="sd">    Example:</span>
<a id="__codelineno-0-73" name="__codelineno-0-73"></a><span class="sd">    ```py</span>
<a id="__codelineno-0-74" name="__codelineno-0-74"></a><span class="sd">    from cython_extensions import cy_find_building_locations</span>
<a id="__codelineno-0-75" name="__codelineno-0-75"></a>
<a id="__codelineno-0-76" name="__codelineno-0-76"></a><span class="sd">    # find 3x3 locations, making room for addons.</span>
<a id="__codelineno-0-77" name="__codelineno-0-77"></a><span class="sd">    # check out map_analysis.cy_get_bounding_box to calculate</span>
<a id="__codelineno-0-78" name="__codelineno-0-78"></a><span class="sd">    # raw_x_bounds and raw_x_bounds</span>
<a id="__codelineno-0-79" name="__codelineno-0-79"></a><span class="sd">    three_by_three_positions = cy_find_building_locations(</span>
<a id="__codelineno-0-80" name="__codelineno-0-80"></a><span class="sd">        kernel=np.ones((5, 3), dtype=np.uint8),</span>
<a id="__codelineno-0-81" name="__codelineno-0-81"></a><span class="sd">        x_stride=5,</span>
<a id="__codelineno-0-82" name="__codelineno-0-82"></a><span class="sd">        y_stride=3,</span>
<a id="__codelineno-0-83" name="__codelineno-0-83"></a><span class="sd">        x_bounds=raw_x_bounds,</span>
<a id="__codelineno-0-84" name="__codelineno-0-84"></a><span class="sd">        y_bounds=raw_y_bounds,</span>
<a id="__codelineno-0-85" name="__codelineno-0-85"></a><span class="sd">        creep_grid=creep_grid,</span>
<a id="__codelineno-0-86" name="__codelineno-0-86"></a><span class="sd">        placement_grid=placement_grid,</span>
<a id="__codelineno-0-87" name="__codelineno-0-87"></a><span class="sd">        pathing_grid=pathing_grid,</span>
<a id="__codelineno-0-88" name="__codelineno-0-88"></a><span class="sd">        points_to_avoid_grid=self.points_to_avoid_grid,</span>
<a id="__codelineno-0-89" name="__codelineno-0-89"></a><span class="sd">        building_width=3,</span>
<a id="__codelineno-0-90" name="__codelineno-0-90"></a><span class="sd">        building_height=3,</span>
<a id="__codelineno-0-91" name="__codelineno-0-91"></a><span class="sd">        avoid_creep=True</span>
<a id="__codelineno-0-92" name="__codelineno-0-92"></a><span class="sd">    )</span>
<a id="__codelineno-0-93" name="__codelineno-0-93"></a>
<a id="__codelineno-0-94" name="__codelineno-0-94"></a><span class="sd">    ```</span>
<a id="__codelineno-0-95" name="__codelineno-0-95"></a>
<a id="__codelineno-0-96" name="__codelineno-0-96"></a><span class="sd">    ```</span>
<a id="__codelineno-0-97" name="__codelineno-0-97"></a><span class="sd">    64.8 µs ± 4.05 µs per loop (mean ± std. dev. of 1000 runs, 10 loops each)</span>
<a id="__codelineno-0-98" name="__codelineno-0-98"></a><span class="sd">    ```</span>
<a id="__codelineno-0-99" name="__codelineno-0-99"></a>
<a id="__codelineno-0-100" name="__codelineno-0-100"></a><span class="sd">    Parameters:</span>
<a id="__codelineno-0-101" name="__codelineno-0-101"></a><span class="sd">        kernel: The size of the sliding window that scans this area.</span>
<a id="__codelineno-0-102" name="__codelineno-0-102"></a><span class="sd">        x_stride: The x distance the kernel window moves each step.</span>
<a id="__codelineno-0-103" name="__codelineno-0-103"></a><span class="sd">        y_stride: The y distance the kernel window moves downwards.</span>
<a id="__codelineno-0-104" name="__codelineno-0-104"></a><span class="sd">        x_bounds: The starting point of the algorithm.</span>
<a id="__codelineno-0-105" name="__codelineno-0-105"></a><span class="sd">        y_bounds: The end point of the algorithm.</span>
<a id="__codelineno-0-106" name="__codelineno-0-106"></a><span class="sd">        creep_grid:</span>
<a id="__codelineno-0-107" name="__codelineno-0-107"></a><span class="sd">        placement_grid:</span>
<a id="__codelineno-0-108" name="__codelineno-0-108"></a><span class="sd">        pathing_grid:</span>
<a id="__codelineno-0-109" name="__codelineno-0-109"></a><span class="sd">        points_to_avoid_grid: Grid containing `1`s where we shouldn&#39;t</span>
<a id="__codelineno-0-110" name="__codelineno-0-110"></a><span class="sd">            place anything.</span>
<a id="__codelineno-0-111" name="__codelineno-0-111"></a><span class="sd">        building_width:</span>
<a id="__codelineno-0-112" name="__codelineno-0-112"></a><span class="sd">        building_height:</span>
<a id="__codelineno-0-113" name="__codelineno-0-113"></a><span class="sd">        avoid_creep: Ensure this is False if checking Zerg structures.</span>
<a id="__codelineno-0-114" name="__codelineno-0-114"></a>
<a id="__codelineno-0-115" name="__codelineno-0-115"></a><span class="sd">    Returns:</span>
<a id="__codelineno-0-116" name="__codelineno-0-116"></a><span class="sd">        Final list of positions that make up the building formation.</span>
<a id="__codelineno-0-117" name="__codelineno-0-117"></a>
<a id="__codelineno-0-118" name="__codelineno-0-118"></a>
<a id="__codelineno-0-119" name="__codelineno-0-119"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-120" name="__codelineno-0-120"></a>    <span class="o">...</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<a id="cython_extensions.units_utils"></a>
    <div class="doc doc-contents first">










  <div class="doc doc-children">










<div class="doc doc-object doc-function">


<h2 id="cython_extensions.units_utils.cy_center" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">cy_center</span><span class="p">(</span><span class="n">units</span><span class="p">)</span></code>

<a href="#cython_extensions.units_utils.cy_center" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Given some units, find the center point.</p>
<p>Example:
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="kn">from</span><span class="w"> </span><span class="nn">ares.cython_functions.units_utils</span><span class="w"> </span><span class="kn">import</span> <span class="n">cy_center</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="n">centroid</span><span class="p">:</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="n">cy_center</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">workers</span><span class="p">)</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="c1"># centroid_point2 = Point2(centroid)</span>
</code></pre></div></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>54.2 µs ± 137 ns per loop (mean ± std. dev. of 7 runs, 10,000 loops each)
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a>
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a>`python-sc2`&#39;s `units.center` alternative:
<a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a>107 µs ± 255 ns per loop (mean ± std. dev. of 7 runs, 10,000 loops each)
</code></pre></div>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>units</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="sc2.units.Units">Units</span>, <span title="list">list</span>[<span title="sc2.unit.Unit">Unit</span>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Units we want to check</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="tuple">tuple</span>[<span title="float">float</span>, <span title="float">float</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Centroid of all units positions</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>cython_extensions/units_utils.pyi</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-0-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-0-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-0-10">10</a></span>
<span class="normal"><a href="#__codelineno-0-11">11</a></span>
<span class="normal"><a href="#__codelineno-0-12">12</a></span>
<span class="normal"><a href="#__codelineno-0-13">13</a></span>
<span class="normal"><a href="#__codelineno-0-14">14</a></span>
<span class="normal"><a href="#__codelineno-0-15">15</a></span>
<span class="normal"><a href="#__codelineno-0-16">16</a></span>
<span class="normal"><a href="#__codelineno-0-17">17</a></span>
<span class="normal"><a href="#__codelineno-0-18">18</a></span>
<span class="normal"><a href="#__codelineno-0-19">19</a></span>
<span class="normal"><a href="#__codelineno-0-20">20</a></span>
<span class="normal"><a href="#__codelineno-0-21">21</a></span>
<span class="normal"><a href="#__codelineno-0-22">22</a></span>
<span class="normal"><a href="#__codelineno-0-23">23</a></span>
<span class="normal"><a href="#__codelineno-0-24">24</a></span>
<span class="normal"><a href="#__codelineno-0-25">25</a></span>
<span class="normal"><a href="#__codelineno-0-26">26</a></span>
<span class="normal"><a href="#__codelineno-0-27">27</a></span>
<span class="normal"><a href="#__codelineno-0-28">28</a></span>
<span class="normal"><a href="#__codelineno-0-29">29</a></span>
<span class="normal"><a href="#__codelineno-0-30">30</a></span>
<span class="normal"><a href="#__codelineno-0-31">31</a></span>
<span class="normal"><a href="#__codelineno-0-32">32</a></span>
<span class="normal"><a href="#__codelineno-0-33">33</a></span>
<span class="normal"><a href="#__codelineno-0-34">34</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-7" name="__codelineno-0-7"></a><span class="k">def</span><span class="w"> </span><span class="nf">cy_center</span><span class="p">(</span><span class="n">units</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Units</span><span class="p">,</span> <span class="nb">list</span><span class="p">[</span><span class="n">Unit</span><span class="p">]])</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">]:</span>
<a id="__codelineno-0-8" name="__codelineno-0-8"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Given some units, find the center point.</span>
<a id="__codelineno-0-9" name="__codelineno-0-9"></a>
<a id="__codelineno-0-10" name="__codelineno-0-10"></a>
<a id="__codelineno-0-11" name="__codelineno-0-11"></a><span class="sd">    Example:</span>
<a id="__codelineno-0-12" name="__codelineno-0-12"></a><span class="sd">    ```py</span>
<a id="__codelineno-0-13" name="__codelineno-0-13"></a><span class="sd">    from ares.cython_functions.units_utils import cy_center</span>
<a id="__codelineno-0-14" name="__codelineno-0-14"></a>
<a id="__codelineno-0-15" name="__codelineno-0-15"></a><span class="sd">    centroid: Tuple[float, float] = cy_center(self.workers)</span>
<a id="__codelineno-0-16" name="__codelineno-0-16"></a>
<a id="__codelineno-0-17" name="__codelineno-0-17"></a><span class="sd">    # centroid_point2 = Point2(centroid)</span>
<a id="__codelineno-0-18" name="__codelineno-0-18"></a><span class="sd">    ```</span>
<a id="__codelineno-0-19" name="__codelineno-0-19"></a>
<a id="__codelineno-0-20" name="__codelineno-0-20"></a><span class="sd">    ```</span>
<a id="__codelineno-0-21" name="__codelineno-0-21"></a><span class="sd">    54.2 µs ± 137 ns per loop (mean ± std. dev. of 7 runs, 10,000 loops each)</span>
<a id="__codelineno-0-22" name="__codelineno-0-22"></a>
<a id="__codelineno-0-23" name="__codelineno-0-23"></a><span class="sd">    `python-sc2`&#39;s `units.center` alternative:</span>
<a id="__codelineno-0-24" name="__codelineno-0-24"></a><span class="sd">    107 µs ± 255 ns per loop (mean ± std. dev. of 7 runs, 10,000 loops each)</span>
<a id="__codelineno-0-25" name="__codelineno-0-25"></a><span class="sd">    ```</span>
<a id="__codelineno-0-26" name="__codelineno-0-26"></a>
<a id="__codelineno-0-27" name="__codelineno-0-27"></a><span class="sd">    Parameters:</span>
<a id="__codelineno-0-28" name="__codelineno-0-28"></a><span class="sd">        units: Units we want to check</span>
<a id="__codelineno-0-29" name="__codelineno-0-29"></a>
<a id="__codelineno-0-30" name="__codelineno-0-30"></a><span class="sd">    Returns:</span>
<a id="__codelineno-0-31" name="__codelineno-0-31"></a><span class="sd">        Centroid of all units positions</span>
<a id="__codelineno-0-32" name="__codelineno-0-32"></a>
<a id="__codelineno-0-33" name="__codelineno-0-33"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-34" name="__codelineno-0-34"></a>    <span class="o">...</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="cython_extensions.units_utils.cy_closest_to" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">cy_closest_to</span><span class="p">(</span><span class="n">position</span><span class="p">,</span> <span class="n">units</span><span class="p">)</span></code>

<a href="#cython_extensions.units_utils.cy_closest_to" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Iterate through <code>units</code> to find closest to <code>position</code>.</p>
<p>Example:
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="kn">from</span><span class="w"> </span><span class="nn">cython_functions</span><span class="w"> </span><span class="kn">import</span> <span class="n">cy_closest_to</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="kn">from</span><span class="w"> </span><span class="nn">sc2.unit</span><span class="w"> </span><span class="kn">import</span> <span class="n">Unit</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="n">closest_unit</span><span class="p">:</span> <span class="n">Unit</span> <span class="o">=</span> <span class="n">cy_closest_to</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">start_location</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">workers</span><span class="p">)</span>
</code></pre></div></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>14.3 µs ± 135 ns per loop (mean ± std. dev. of 7 runs, 100,000 loops each)
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a>
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a>python-sc2&#39;s `units.closest_to()` alternative:
<a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a>98.9 µs ± 240 ns per loop (mean ± std. dev. of 7 runs, 10,000 loops each)
<a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a>
<a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a>If using python-sc2&#39;s `units.closest_to(Point2):
<a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a>200 µs ± 1.02 µs per loop (mean ± std. dev. of 7 runs, 1,000 loops each)
</code></pre></div>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>position</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="sc2.position.Point2">Point2</span>, <span title="tuple">tuple</span>[<span title="float">float</span>, <span title="float">float</span>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Position to measure distance from.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>units</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="sc2.units.Units">Units</span>, <span title="list">list</span>[<span title="sc2.unit.Unit">Unit</span>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Collection of units we want to check.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="sc2.unit.Unit">Unit</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Unit closest to <code>position</code>.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>cython_extensions/units_utils.pyi</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-36">36</a></span>
<span class="normal"><a href="#__codelineno-0-37">37</a></span>
<span class="normal"><a href="#__codelineno-0-38">38</a></span>
<span class="normal"><a href="#__codelineno-0-39">39</a></span>
<span class="normal"><a href="#__codelineno-0-40">40</a></span>
<span class="normal"><a href="#__codelineno-0-41">41</a></span>
<span class="normal"><a href="#__codelineno-0-42">42</a></span>
<span class="normal"><a href="#__codelineno-0-43">43</a></span>
<span class="normal"><a href="#__codelineno-0-44">44</a></span>
<span class="normal"><a href="#__codelineno-0-45">45</a></span>
<span class="normal"><a href="#__codelineno-0-46">46</a></span>
<span class="normal"><a href="#__codelineno-0-47">47</a></span>
<span class="normal"><a href="#__codelineno-0-48">48</a></span>
<span class="normal"><a href="#__codelineno-0-49">49</a></span>
<span class="normal"><a href="#__codelineno-0-50">50</a></span>
<span class="normal"><a href="#__codelineno-0-51">51</a></span>
<span class="normal"><a href="#__codelineno-0-52">52</a></span>
<span class="normal"><a href="#__codelineno-0-53">53</a></span>
<span class="normal"><a href="#__codelineno-0-54">54</a></span>
<span class="normal"><a href="#__codelineno-0-55">55</a></span>
<span class="normal"><a href="#__codelineno-0-56">56</a></span>
<span class="normal"><a href="#__codelineno-0-57">57</a></span>
<span class="normal"><a href="#__codelineno-0-58">58</a></span>
<span class="normal"><a href="#__codelineno-0-59">59</a></span>
<span class="normal"><a href="#__codelineno-0-60">60</a></span>
<span class="normal"><a href="#__codelineno-0-61">61</a></span>
<span class="normal"><a href="#__codelineno-0-62">62</a></span>
<span class="normal"><a href="#__codelineno-0-63">63</a></span>
<span class="normal"><a href="#__codelineno-0-64">64</a></span>
<span class="normal"><a href="#__codelineno-0-65">65</a></span>
<span class="normal"><a href="#__codelineno-0-66">66</a></span>
<span class="normal"><a href="#__codelineno-0-67">67</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-36" name="__codelineno-0-36"></a><span class="k">def</span><span class="w"> </span><span class="nf">cy_closest_to</span><span class="p">(</span>
<a id="__codelineno-0-37" name="__codelineno-0-37"></a>    <span class="n">position</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Point2</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">]],</span> <span class="n">units</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Units</span><span class="p">,</span> <span class="nb">list</span><span class="p">[</span><span class="n">Unit</span><span class="p">]]</span>
<a id="__codelineno-0-38" name="__codelineno-0-38"></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Unit</span><span class="p">:</span>
<a id="__codelineno-0-39" name="__codelineno-0-39"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Iterate through `units` to find closest to `position`.</span>
<a id="__codelineno-0-40" name="__codelineno-0-40"></a>
<a id="__codelineno-0-41" name="__codelineno-0-41"></a><span class="sd">    Example:</span>
<a id="__codelineno-0-42" name="__codelineno-0-42"></a><span class="sd">    ```py</span>
<a id="__codelineno-0-43" name="__codelineno-0-43"></a><span class="sd">    from cython_functions import cy_closest_to</span>
<a id="__codelineno-0-44" name="__codelineno-0-44"></a><span class="sd">    from sc2.unit import Unit</span>
<a id="__codelineno-0-45" name="__codelineno-0-45"></a>
<a id="__codelineno-0-46" name="__codelineno-0-46"></a><span class="sd">    closest_unit: Unit = cy_closest_to(self.start_location, self.workers)</span>
<a id="__codelineno-0-47" name="__codelineno-0-47"></a><span class="sd">    ```</span>
<a id="__codelineno-0-48" name="__codelineno-0-48"></a>
<a id="__codelineno-0-49" name="__codelineno-0-49"></a><span class="sd">    ```</span>
<a id="__codelineno-0-50" name="__codelineno-0-50"></a><span class="sd">    14.3 µs ± 135 ns per loop (mean ± std. dev. of 7 runs, 100,000 loops each)</span>
<a id="__codelineno-0-51" name="__codelineno-0-51"></a>
<a id="__codelineno-0-52" name="__codelineno-0-52"></a><span class="sd">    python-sc2&#39;s `units.closest_to()` alternative:</span>
<a id="__codelineno-0-53" name="__codelineno-0-53"></a><span class="sd">    98.9 µs ± 240 ns per loop (mean ± std. dev. of 7 runs, 10,000 loops each)</span>
<a id="__codelineno-0-54" name="__codelineno-0-54"></a>
<a id="__codelineno-0-55" name="__codelineno-0-55"></a><span class="sd">    If using python-sc2&#39;s `units.closest_to(Point2):</span>
<a id="__codelineno-0-56" name="__codelineno-0-56"></a><span class="sd">    200 µs ± 1.02 µs per loop (mean ± std. dev. of 7 runs, 1,000 loops each)</span>
<a id="__codelineno-0-57" name="__codelineno-0-57"></a><span class="sd">    ```</span>
<a id="__codelineno-0-58" name="__codelineno-0-58"></a>
<a id="__codelineno-0-59" name="__codelineno-0-59"></a><span class="sd">    Parameters:</span>
<a id="__codelineno-0-60" name="__codelineno-0-60"></a><span class="sd">        position: Position to measure distance from.</span>
<a id="__codelineno-0-61" name="__codelineno-0-61"></a><span class="sd">        units: Collection of units we want to check.</span>
<a id="__codelineno-0-62" name="__codelineno-0-62"></a>
<a id="__codelineno-0-63" name="__codelineno-0-63"></a><span class="sd">    Returns:</span>
<a id="__codelineno-0-64" name="__codelineno-0-64"></a><span class="sd">        Unit closest to `position`.</span>
<a id="__codelineno-0-65" name="__codelineno-0-65"></a>
<a id="__codelineno-0-66" name="__codelineno-0-66"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-67" name="__codelineno-0-67"></a>    <span class="o">...</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="cython_extensions.units_utils.cy_find_units_center_mass" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">cy_find_units_center_mass</span><span class="p">(</span><span class="n">units</span><span class="p">,</span> <span class="n">distance</span><span class="p">)</span></code>

<a href="#cython_extensions.units_utils.cy_find_units_center_mass" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Given some units, find the center mass</p>
<p>Example:
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="kn">from</span><span class="w"> </span><span class="nn">cython_functions</span><span class="w"> </span><span class="kn">import</span> <span class="n">cy_find_units_center_mass</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="kn">from</span><span class="w"> </span><span class="nn">sc2.position</span><span class="w"> </span><span class="kn">import</span> <span class="n">Point2</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="n">center_mass</span><span class="p">:</span> <span class="n">Point2</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="n">num_units</span><span class="p">:</span> <span class="nb">int</span>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a><span class="n">center_mass</span><span class="p">,</span> <span class="n">num_units</span> <span class="o">=</span> <span class="n">cy_find_units_center_mass</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">units</span><span class="p">,</span> <span class="mf">10.0</span><span class="p">)</span>
</code></pre></div></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>47.8 ms ± 674 µs per loop (mean ± std. dev. of 7 runs, 10 loops each)
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a>
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a>python alternative:
<a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a>322 ms ± 5.2 ms per loop (mean ± std. dev. of 7 runs, 1 loop each)
</code></pre></div>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>units</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="sc2.units.Units">Units</span>, <span title="list">list</span>[<span title="sc2.unit.Unit">Unit</span>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Collection of units we want to check.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>distance</code>
            </td>
            <td>
                  <code><span title="float">float</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The distance to check from the center mass.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="tuple">tuple</span>[<span title="tuple">tuple</span>[<span title="float">float</span>, <span title="float">float</span>], <span title="int">int</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The center mass, and how many units are within <code>distance</code> of the center mass.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>cython_extensions/units_utils.pyi</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-69">69</a></span>
<span class="normal"><a href="#__codelineno-0-70">70</a></span>
<span class="normal"><a href="#__codelineno-0-71">71</a></span>
<span class="normal"><a href="#__codelineno-0-72">72</a></span>
<span class="normal"><a href="#__codelineno-0-73">73</a></span>
<span class="normal"><a href="#__codelineno-0-74">74</a></span>
<span class="normal"><a href="#__codelineno-0-75">75</a></span>
<span class="normal"><a href="#__codelineno-0-76">76</a></span>
<span class="normal"><a href="#__codelineno-0-77">77</a></span>
<span class="normal"><a href="#__codelineno-0-78">78</a></span>
<span class="normal"><a href="#__codelineno-0-79">79</a></span>
<span class="normal"><a href="#__codelineno-0-80">80</a></span>
<span class="normal"><a href="#__codelineno-0-81">81</a></span>
<span class="normal"><a href="#__codelineno-0-82">82</a></span>
<span class="normal"><a href="#__codelineno-0-83">83</a></span>
<span class="normal"><a href="#__codelineno-0-84">84</a></span>
<span class="normal"><a href="#__codelineno-0-85">85</a></span>
<span class="normal"><a href="#__codelineno-0-86">86</a></span>
<span class="normal"><a href="#__codelineno-0-87">87</a></span>
<span class="normal"><a href="#__codelineno-0-88">88</a></span>
<span class="normal"><a href="#__codelineno-0-89">89</a></span>
<span class="normal"><a href="#__codelineno-0-90">90</a></span>
<span class="normal"><a href="#__codelineno-0-91">91</a></span>
<span class="normal"><a href="#__codelineno-0-92">92</a></span>
<span class="normal"><a href="#__codelineno-0-93">93</a></span>
<span class="normal"><a href="#__codelineno-0-94">94</a></span>
<span class="normal"><a href="#__codelineno-0-95">95</a></span>
<span class="normal"><a href="#__codelineno-0-96">96</a></span>
<span class="normal"><a href="#__codelineno-0-97">97</a></span>
<span class="normal"><a href="#__codelineno-0-98">98</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-69" name="__codelineno-0-69"></a><span class="k">def</span><span class="w"> </span><span class="nf">cy_find_units_center_mass</span><span class="p">(</span>
<a id="__codelineno-0-70" name="__codelineno-0-70"></a>    <span class="n">units</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Units</span><span class="p">,</span> <span class="nb">list</span><span class="p">[</span><span class="n">Unit</span><span class="p">]],</span> <span class="n">distance</span><span class="p">:</span> <span class="nb">float</span>
<a id="__codelineno-0-71" name="__codelineno-0-71"></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">tuple</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">],</span> <span class="nb">int</span><span class="p">]:</span>
<a id="__codelineno-0-72" name="__codelineno-0-72"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Given some units, find the center mass</span>
<a id="__codelineno-0-73" name="__codelineno-0-73"></a>
<a id="__codelineno-0-74" name="__codelineno-0-74"></a><span class="sd">    Example:</span>
<a id="__codelineno-0-75" name="__codelineno-0-75"></a><span class="sd">    ```py</span>
<a id="__codelineno-0-76" name="__codelineno-0-76"></a><span class="sd">    from cython_functions import cy_find_units_center_mass</span>
<a id="__codelineno-0-77" name="__codelineno-0-77"></a><span class="sd">    from sc2.position import Point2</span>
<a id="__codelineno-0-78" name="__codelineno-0-78"></a>
<a id="__codelineno-0-79" name="__codelineno-0-79"></a><span class="sd">    center_mass: Point2</span>
<a id="__codelineno-0-80" name="__codelineno-0-80"></a><span class="sd">    num_units: int</span>
<a id="__codelineno-0-81" name="__codelineno-0-81"></a><span class="sd">    center_mass, num_units = cy_find_units_center_mass(self.units, 10.0)</span>
<a id="__codelineno-0-82" name="__codelineno-0-82"></a><span class="sd">    ```</span>
<a id="__codelineno-0-83" name="__codelineno-0-83"></a>
<a id="__codelineno-0-84" name="__codelineno-0-84"></a><span class="sd">    ```</span>
<a id="__codelineno-0-85" name="__codelineno-0-85"></a><span class="sd">    47.8 ms ± 674 µs per loop (mean ± std. dev. of 7 runs, 10 loops each)</span>
<a id="__codelineno-0-86" name="__codelineno-0-86"></a>
<a id="__codelineno-0-87" name="__codelineno-0-87"></a><span class="sd">    python alternative:</span>
<a id="__codelineno-0-88" name="__codelineno-0-88"></a><span class="sd">    322 ms ± 5.2 ms per loop (mean ± std. dev. of 7 runs, 1 loop each)</span>
<a id="__codelineno-0-89" name="__codelineno-0-89"></a><span class="sd">    ```</span>
<a id="__codelineno-0-90" name="__codelineno-0-90"></a>
<a id="__codelineno-0-91" name="__codelineno-0-91"></a><span class="sd">    Parameters:</span>
<a id="__codelineno-0-92" name="__codelineno-0-92"></a><span class="sd">        units: Collection of units we want to check.</span>
<a id="__codelineno-0-93" name="__codelineno-0-93"></a><span class="sd">        distance: The distance to check from the center mass.</span>
<a id="__codelineno-0-94" name="__codelineno-0-94"></a>
<a id="__codelineno-0-95" name="__codelineno-0-95"></a><span class="sd">    Returns:</span>
<a id="__codelineno-0-96" name="__codelineno-0-96"></a><span class="sd">        The center mass, and how many units are within `distance` of the center mass.</span>
<a id="__codelineno-0-97" name="__codelineno-0-97"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-98" name="__codelineno-0-98"></a>    <span class="o">...</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="cython_extensions.units_utils.cy_in_attack_range" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">cy_in_attack_range</span><span class="p">(</span><span class="n">unit</span><span class="p">,</span> <span class="n">units</span><span class="p">,</span> <span class="n">bonus_distance</span><span class="o">=</span><span class="mf">0.0</span><span class="p">)</span></code>

<a href="#cython_extensions.units_utils.cy_in_attack_range" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Find all units that unit can shoot at.</p>
<p>Doesn't check if the unit weapon is ready. See:
<code>cython_functions.attack_ready</code></p>
<p>Example:
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="kn">from</span><span class="w"> </span><span class="nn">cython_functions</span><span class="w"> </span><span class="kn">import</span> <span class="n">cy_in_attack_range</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="kn">from</span><span class="w"> </span><span class="nn">sc2.unit</span><span class="w"> </span><span class="kn">import</span> <span class="n">Unit</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="n">in_attack_range</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">Unit</span><span class="p">]</span> <span class="o">=</span> <span class="n">cy_in_attack_range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">workers</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">enemy_units</span><span class="p">)</span>
</code></pre></div></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>7.28 µs ± 26.3 ns per loop (mean ± std. dev. of 7 runs, 100,000 loops each)
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a>
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a>python-sc2&#39;s `units.in_attack_range_of(unit)` alternative:
<a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a>30.4 µs ± 271 ns per loop (mean ± std. dev. of 7 runs, 10,000 loops each)
</code></pre></div>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>unit</code>
            </td>
            <td>
                  <code><span title="sc2.unit.Unit">Unit</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The unit to measure distance from.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>units</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="sc2.units.Units">Units</span>, <span title="list">list</span>[<span title="sc2.unit.Unit">Unit</span>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Collection of units we want to check.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>bonus_distance</code>
            </td>
            <td>
                  <code><span title="float">float</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Additional distance to consider.</p>
              </div>
            </td>
            <td>
                  <code>0.0</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="list">list</span>[<span title="sc2.unit.Unit">Unit</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Units that are in attack range of <code>unit</code>.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>cython_extensions/units_utils.pyi</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-100">100</a></span>
<span class="normal"><a href="#__codelineno-0-101">101</a></span>
<span class="normal"><a href="#__codelineno-0-102">102</a></span>
<span class="normal"><a href="#__codelineno-0-103">103</a></span>
<span class="normal"><a href="#__codelineno-0-104">104</a></span>
<span class="normal"><a href="#__codelineno-0-105">105</a></span>
<span class="normal"><a href="#__codelineno-0-106">106</a></span>
<span class="normal"><a href="#__codelineno-0-107">107</a></span>
<span class="normal"><a href="#__codelineno-0-108">108</a></span>
<span class="normal"><a href="#__codelineno-0-109">109</a></span>
<span class="normal"><a href="#__codelineno-0-110">110</a></span>
<span class="normal"><a href="#__codelineno-0-111">111</a></span>
<span class="normal"><a href="#__codelineno-0-112">112</a></span>
<span class="normal"><a href="#__codelineno-0-113">113</a></span>
<span class="normal"><a href="#__codelineno-0-114">114</a></span>
<span class="normal"><a href="#__codelineno-0-115">115</a></span>
<span class="normal"><a href="#__codelineno-0-116">116</a></span>
<span class="normal"><a href="#__codelineno-0-117">117</a></span>
<span class="normal"><a href="#__codelineno-0-118">118</a></span>
<span class="normal"><a href="#__codelineno-0-119">119</a></span>
<span class="normal"><a href="#__codelineno-0-120">120</a></span>
<span class="normal"><a href="#__codelineno-0-121">121</a></span>
<span class="normal"><a href="#__codelineno-0-122">122</a></span>
<span class="normal"><a href="#__codelineno-0-123">123</a></span>
<span class="normal"><a href="#__codelineno-0-124">124</a></span>
<span class="normal"><a href="#__codelineno-0-125">125</a></span>
<span class="normal"><a href="#__codelineno-0-126">126</a></span>
<span class="normal"><a href="#__codelineno-0-127">127</a></span>
<span class="normal"><a href="#__codelineno-0-128">128</a></span>
<span class="normal"><a href="#__codelineno-0-129">129</a></span>
<span class="normal"><a href="#__codelineno-0-130">130</a></span>
<span class="normal"><a href="#__codelineno-0-131">131</a></span>
<span class="normal"><a href="#__codelineno-0-132">132</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-100" name="__codelineno-0-100"></a><span class="k">def</span><span class="w"> </span><span class="nf">cy_in_attack_range</span><span class="p">(</span>
<a id="__codelineno-0-101" name="__codelineno-0-101"></a>    <span class="n">unit</span><span class="p">:</span> <span class="n">Unit</span><span class="p">,</span> <span class="n">units</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Units</span><span class="p">,</span> <span class="nb">list</span><span class="p">[</span><span class="n">Unit</span><span class="p">]],</span> <span class="n">bonus_distance</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.0</span>
<a id="__codelineno-0-102" name="__codelineno-0-102"></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="n">Unit</span><span class="p">]:</span>
<a id="__codelineno-0-103" name="__codelineno-0-103"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Find all units that unit can shoot at.</span>
<a id="__codelineno-0-104" name="__codelineno-0-104"></a>
<a id="__codelineno-0-105" name="__codelineno-0-105"></a><span class="sd">    Doesn&#39;t check if the unit weapon is ready. See:</span>
<a id="__codelineno-0-106" name="__codelineno-0-106"></a><span class="sd">    `cython_functions.attack_ready`</span>
<a id="__codelineno-0-107" name="__codelineno-0-107"></a>
<a id="__codelineno-0-108" name="__codelineno-0-108"></a><span class="sd">    Example:</span>
<a id="__codelineno-0-109" name="__codelineno-0-109"></a><span class="sd">    ```py</span>
<a id="__codelineno-0-110" name="__codelineno-0-110"></a><span class="sd">    from cython_functions import cy_in_attack_range</span>
<a id="__codelineno-0-111" name="__codelineno-0-111"></a><span class="sd">    from sc2.unit import Unit</span>
<a id="__codelineno-0-112" name="__codelineno-0-112"></a>
<a id="__codelineno-0-113" name="__codelineno-0-113"></a><span class="sd">    in_attack_range: list[Unit] = cy_in_attack_range(self.workers[0], self.enemy_units)</span>
<a id="__codelineno-0-114" name="__codelineno-0-114"></a><span class="sd">    ```</span>
<a id="__codelineno-0-115" name="__codelineno-0-115"></a>
<a id="__codelineno-0-116" name="__codelineno-0-116"></a><span class="sd">    ```</span>
<a id="__codelineno-0-117" name="__codelineno-0-117"></a><span class="sd">    7.28 µs ± 26.3 ns per loop (mean ± std. dev. of 7 runs, 100,000 loops each)</span>
<a id="__codelineno-0-118" name="__codelineno-0-118"></a>
<a id="__codelineno-0-119" name="__codelineno-0-119"></a><span class="sd">    python-sc2&#39;s `units.in_attack_range_of(unit)` alternative:</span>
<a id="__codelineno-0-120" name="__codelineno-0-120"></a><span class="sd">    30.4 µs ± 271 ns per loop (mean ± std. dev. of 7 runs, 10,000 loops each)</span>
<a id="__codelineno-0-121" name="__codelineno-0-121"></a><span class="sd">    ```</span>
<a id="__codelineno-0-122" name="__codelineno-0-122"></a>
<a id="__codelineno-0-123" name="__codelineno-0-123"></a><span class="sd">    Parameters:</span>
<a id="__codelineno-0-124" name="__codelineno-0-124"></a><span class="sd">        unit: The unit to measure distance from.</span>
<a id="__codelineno-0-125" name="__codelineno-0-125"></a><span class="sd">        units: Collection of units we want to check.</span>
<a id="__codelineno-0-126" name="__codelineno-0-126"></a><span class="sd">        bonus_distance: Additional distance to consider.</span>
<a id="__codelineno-0-127" name="__codelineno-0-127"></a>
<a id="__codelineno-0-128" name="__codelineno-0-128"></a><span class="sd">    Returns:</span>
<a id="__codelineno-0-129" name="__codelineno-0-129"></a><span class="sd">        Units that are in attack range of `unit`.</span>
<a id="__codelineno-0-130" name="__codelineno-0-130"></a>
<a id="__codelineno-0-131" name="__codelineno-0-131"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-132" name="__codelineno-0-132"></a>    <span class="o">...</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="cython_extensions.units_utils.cy_sorted_by_distance_to" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">cy_sorted_by_distance_to</span><span class="p">(</span><span class="n">units</span><span class="p">,</span> <span class="n">position</span><span class="p">,</span> <span class="n">reverse</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

<a href="#cython_extensions.units_utils.cy_sorted_by_distance_to" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Sort units by distance to <code>position</code></p>
<p>Example:
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="kn">from</span><span class="w"> </span><span class="nn">cython_functions</span><span class="w"> </span><span class="kn">import</span> <span class="n">cy_sorted_by_distance_to</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="kn">from</span><span class="w"> </span><span class="nn">sc2.unit</span><span class="w"> </span><span class="kn">import</span> <span class="n">Unit</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="n">sorted_by_distance</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">Unit</span><span class="p">]</span> <span class="o">=</span> <span class="n">cy_sorted_by_distance_to</span><span class="p">(</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">workers</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">start_location</span>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a><span class="p">)</span>
</code></pre></div></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>33.7 µs ± 190 ns per loop (mean ± std. dev. of 7 runs, 10,000 loops each)
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a>
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a>python-sc2&#39;s `units.sorted_by_distance_to(position)` alternative:
<a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a>246 µs ± 830 ns per loop (mean ± std. dev. of 7 runs, 1,000 loops each)
</code></pre></div>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>units</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="sc2.units.Units">Units</span>, <span title="list">list</span>[<span title="sc2.unit.Unit">Unit</span>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Units we want to sort.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>position</code>
            </td>
            <td>
                  <code><span title="sc2.position.Point2">Point2</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sort by distance to this position.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>reverse</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Not currently used.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="list">list</span>[<span title="sc2.unit.Unit">Unit</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Units sorted by distance to position.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>cython_extensions/units_utils.pyi</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-134">134</a></span>
<span class="normal"><a href="#__codelineno-0-135">135</a></span>
<span class="normal"><a href="#__codelineno-0-136">136</a></span>
<span class="normal"><a href="#__codelineno-0-137">137</a></span>
<span class="normal"><a href="#__codelineno-0-138">138</a></span>
<span class="normal"><a href="#__codelineno-0-139">139</a></span>
<span class="normal"><a href="#__codelineno-0-140">140</a></span>
<span class="normal"><a href="#__codelineno-0-141">141</a></span>
<span class="normal"><a href="#__codelineno-0-142">142</a></span>
<span class="normal"><a href="#__codelineno-0-143">143</a></span>
<span class="normal"><a href="#__codelineno-0-144">144</a></span>
<span class="normal"><a href="#__codelineno-0-145">145</a></span>
<span class="normal"><a href="#__codelineno-0-146">146</a></span>
<span class="normal"><a href="#__codelineno-0-147">147</a></span>
<span class="normal"><a href="#__codelineno-0-148">148</a></span>
<span class="normal"><a href="#__codelineno-0-149">149</a></span>
<span class="normal"><a href="#__codelineno-0-150">150</a></span>
<span class="normal"><a href="#__codelineno-0-151">151</a></span>
<span class="normal"><a href="#__codelineno-0-152">152</a></span>
<span class="normal"><a href="#__codelineno-0-153">153</a></span>
<span class="normal"><a href="#__codelineno-0-154">154</a></span>
<span class="normal"><a href="#__codelineno-0-155">155</a></span>
<span class="normal"><a href="#__codelineno-0-156">156</a></span>
<span class="normal"><a href="#__codelineno-0-157">157</a></span>
<span class="normal"><a href="#__codelineno-0-158">158</a></span>
<span class="normal"><a href="#__codelineno-0-159">159</a></span>
<span class="normal"><a href="#__codelineno-0-160">160</a></span>
<span class="normal"><a href="#__codelineno-0-161">161</a></span>
<span class="normal"><a href="#__codelineno-0-162">162</a></span>
<span class="normal"><a href="#__codelineno-0-163">163</a></span>
<span class="normal"><a href="#__codelineno-0-164">164</a></span>
<span class="normal"><a href="#__codelineno-0-165">165</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-134" name="__codelineno-0-134"></a><span class="k">def</span><span class="w"> </span><span class="nf">cy_sorted_by_distance_to</span><span class="p">(</span>
<a id="__codelineno-0-135" name="__codelineno-0-135"></a>    <span class="n">units</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Units</span><span class="p">,</span> <span class="nb">list</span><span class="p">[</span><span class="n">Unit</span><span class="p">]],</span> <span class="n">position</span><span class="p">:</span> <span class="n">Point2</span><span class="p">,</span> <span class="n">reverse</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
<a id="__codelineno-0-136" name="__codelineno-0-136"></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="n">Unit</span><span class="p">]:</span>
<a id="__codelineno-0-137" name="__codelineno-0-137"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Sort units by distance to `position`</span>
<a id="__codelineno-0-138" name="__codelineno-0-138"></a>
<a id="__codelineno-0-139" name="__codelineno-0-139"></a><span class="sd">    Example:</span>
<a id="__codelineno-0-140" name="__codelineno-0-140"></a><span class="sd">    ```py</span>
<a id="__codelineno-0-141" name="__codelineno-0-141"></a><span class="sd">    from cython_functions import cy_sorted_by_distance_to</span>
<a id="__codelineno-0-142" name="__codelineno-0-142"></a><span class="sd">    from sc2.unit import Unit</span>
<a id="__codelineno-0-143" name="__codelineno-0-143"></a>
<a id="__codelineno-0-144" name="__codelineno-0-144"></a><span class="sd">    sorted_by_distance: list[Unit] = cy_sorted_by_distance_to(</span>
<a id="__codelineno-0-145" name="__codelineno-0-145"></a><span class="sd">        self.workers, self.start_location</span>
<a id="__codelineno-0-146" name="__codelineno-0-146"></a><span class="sd">    )</span>
<a id="__codelineno-0-147" name="__codelineno-0-147"></a><span class="sd">    ```</span>
<a id="__codelineno-0-148" name="__codelineno-0-148"></a>
<a id="__codelineno-0-149" name="__codelineno-0-149"></a><span class="sd">    ```</span>
<a id="__codelineno-0-150" name="__codelineno-0-150"></a><span class="sd">    33.7 µs ± 190 ns per loop (mean ± std. dev. of 7 runs, 10,000 loops each)</span>
<a id="__codelineno-0-151" name="__codelineno-0-151"></a>
<a id="__codelineno-0-152" name="__codelineno-0-152"></a><span class="sd">    python-sc2&#39;s `units.sorted_by_distance_to(position)` alternative:</span>
<a id="__codelineno-0-153" name="__codelineno-0-153"></a><span class="sd">    246 µs ± 830 ns per loop (mean ± std. dev. of 7 runs, 1,000 loops each)</span>
<a id="__codelineno-0-154" name="__codelineno-0-154"></a><span class="sd">    ```</span>
<a id="__codelineno-0-155" name="__codelineno-0-155"></a>
<a id="__codelineno-0-156" name="__codelineno-0-156"></a><span class="sd">    Parameters:</span>
<a id="__codelineno-0-157" name="__codelineno-0-157"></a><span class="sd">        units: Units we want to sort.</span>
<a id="__codelineno-0-158" name="__codelineno-0-158"></a><span class="sd">        position: Sort by distance to this position.</span>
<a id="__codelineno-0-159" name="__codelineno-0-159"></a><span class="sd">        reverse: Not currently used.</span>
<a id="__codelineno-0-160" name="__codelineno-0-160"></a>
<a id="__codelineno-0-161" name="__codelineno-0-161"></a><span class="sd">    Returns:</span>
<a id="__codelineno-0-162" name="__codelineno-0-162"></a><span class="sd">        Units sorted by distance to position.</span>
<a id="__codelineno-0-163" name="__codelineno-0-163"></a>
<a id="__codelineno-0-164" name="__codelineno-0-164"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-165" name="__codelineno-0-165"></a>    <span class="o">...</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>












                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": ".", "features": ["search.suggest", "search.highlight", "content.tabs.link", "content.code.annotate", "navigation.indexes"], "search": "assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="assets/javascripts/bundle.f55a23d4.min.js"></script>
      
    
  </body>
</html>